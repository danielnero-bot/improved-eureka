function Qx(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in r)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Sp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Iw(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var a=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return r[i]}})}),t}var sg={exports:{}},hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function Yx(){if(ib)return hu;ib=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return hu.Fragment=e,hu.jsx=t,hu.jsxs=t,hu}var sb;function Wx(){return sb||(sb=1,sg.exports=Yx()),sg.exports}var v=Wx(),ag={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function Xx(){if(ab)return Ae;ab=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function B(V,te,ue){this.props=V,this.context=te,this.refs=k,this.updater=ue||D}B.prototype.isReactComponent={},B.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},B.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function q(){}q.prototype=B.prototype;function Q(V,te,ue){this.props=V,this.context=te,this.refs=k,this.updater=ue||D}var ie=Q.prototype=new q;ie.constructor=Q,P(ie,B.prototype),ie.isPureReactComponent=!0;var oe=Array.isArray;function se(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(V,te,ue){var de=ue.ref;return{$$typeof:r,type:V,key:te,ref:de!==void 0?de:null,props:ue}}function L(V,te){return I(V.type,te,V.props)}function j(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function z(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return te[ue]})}var O=/\/+/g;function rt(V,te){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):te.toString(36)}function pt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(se,se):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,te,ue,de,Se){var ke=typeof V;(ke==="undefined"||ke==="boolean")&&(V=null);var ze=!1;if(V===null)ze=!0;else switch(ke){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(V.$$typeof){case r:case e:ze=!0;break;case _:return ze=V._init,X(ze(V._payload),te,ue,de,Se)}}if(ze)return Se=Se(V),ze=de===""?"."+rt(V,0):de,oe(Se)?(ue="",ze!=null&&(ue=ze.replace(O,"$&/")+"/"),X(Se,te,ue,"",function(Ns){return Ns})):Se!=null&&(j(Se)&&(Se=L(Se,ue+(Se.key==null||V&&V.key===Se.key?"":(""+Se.key).replace(O,"$&/")+"/")+ze)),te.push(Se)),1;ze=0;var Vt=de===""?".":de+":";if(oe(V))for(var ct=0;ct<V.length;ct++)de=V[ct],ke=Vt+rt(de,ct),ze+=X(de,te,ue,ke,Se);else if(ct=A(V),typeof ct=="function")for(V=ct.call(V),ct=0;!(de=V.next()).done;)de=de.value,ke=Vt+rt(de,ct++),ze+=X(de,te,ue,ke,Se);else if(ke==="object"){if(typeof V.then=="function")return X(pt(V),te,ue,de,Se);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ze}function le(V,te,ue){if(V==null)return V;var de=[],Se=0;return X(V,de,"","",function(ke){return te.call(ue,ke,Se++)}),de}function ve(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var qe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:le,forEach:function(V,te,ue){le(V,function(){te.apply(this,arguments)},ue)},count:function(V){var te=0;return le(V,function(){te++}),te},toArray:function(V){return le(V,function(te){return te})||[]},only:function(V){if(!j(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=E,Ae.Children=Qe,Ae.Component=B,Ae.Fragment=t,Ae.Profiler=a,Ae.PureComponent=Q,Ae.StrictMode=i,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,te,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var de=P({},V.props),Se=V.key;if(te!=null)for(ke in te.key!==void 0&&(Se=""+te.key),te)!R.call(te,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&te.ref===void 0||(de[ke]=te[ke]);var ke=arguments.length-2;if(ke===1)de.children=ue;else if(1<ke){for(var ze=Array(ke),Vt=0;Vt<ke;Vt++)ze[Vt]=arguments[Vt+2];de.children=ze}return I(V.type,Se,de)},Ae.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ae.createElement=function(V,te,ue){var de,Se={},ke=null;if(te!=null)for(de in te.key!==void 0&&(ke=""+te.key),te)R.call(te,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Se[de]=te[de]);var ze=arguments.length-2;if(ze===1)Se.children=ue;else if(1<ze){for(var Vt=Array(ze),ct=0;ct<ze;ct++)Vt[ct]=arguments[ct+2];Se.children=Vt}if(V&&V.defaultProps)for(de in ze=V.defaultProps,ze)Se[de]===void 0&&(Se[de]=ze[de]);return I(V,ke,Se)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:f,render:V}},Ae.isValidElement=j,Ae.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:ve}},Ae.memo=function(V,te){return{$$typeof:p,type:V,compare:te===void 0?null:te}},Ae.startTransition=function(V){var te=C.T,ue={};C.T=ue;try{var de=V(),Se=C.S;Se!==null&&Se(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(se,qe)}catch(ke){qe(ke)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),C.T=te}},Ae.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ae.use=function(V){return C.H.use(V)},Ae.useActionState=function(V,te,ue){return C.H.useActionState(V,te,ue)},Ae.useCallback=function(V,te){return C.H.useCallback(V,te)},Ae.useContext=function(V){return C.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,te){return C.H.useDeferredValue(V,te)},Ae.useEffect=function(V,te){return C.H.useEffect(V,te)},Ae.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Ae.useId=function(){return C.H.useId()},Ae.useImperativeHandle=function(V,te,ue){return C.H.useImperativeHandle(V,te,ue)},Ae.useInsertionEffect=function(V,te){return C.H.useInsertionEffect(V,te)},Ae.useLayoutEffect=function(V,te){return C.H.useLayoutEffect(V,te)},Ae.useMemo=function(V,te){return C.H.useMemo(V,te)},Ae.useOptimistic=function(V,te){return C.H.useOptimistic(V,te)},Ae.useReducer=function(V,te,ue){return C.H.useReducer(V,te,ue)},Ae.useRef=function(V){return C.H.useRef(V)},Ae.useState=function(V){return C.H.useState(V)},Ae.useSyncExternalStore=function(V,te,ue){return C.H.useSyncExternalStore(V,te,ue)},Ae.useTransition=function(){return C.H.useTransition()},Ae.version="19.2.0",Ae}var ob;function xp(){return ob||(ob=1,ag.exports=Xx()),ag.exports}var K=xp();const gs=Sp(K);var og={exports:{}},du={},lg={exports:{}},ug={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function Jx(){return lb||(lb=1,(function(r){function e(X,le){var ve=X.length;X.push(le);e:for(;0<ve;){var qe=ve-1>>>1,Qe=X[qe];if(0<a(Qe,le))X[qe]=le,X[ve]=Qe,ve=qe;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var le=X[0],ve=X.pop();if(ve!==le){X[0]=ve;e:for(var qe=0,Qe=X.length,V=Qe>>>1;qe<V;){var te=2*(qe+1)-1,ue=X[te],de=te+1,Se=X[de];if(0>a(ue,ve))de<Qe&&0>a(Se,ue)?(X[qe]=Se,X[de]=ve,qe=de):(X[qe]=ue,X[te]=ve,qe=te);else if(de<Qe&&0>a(Se,ve))X[qe]=Se,X[de]=ve,qe=de;else break e}}return le}function a(X,le){var ve=X.sortIndex-le.sortIndex;return ve!==0?ve:X.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var m=[],p=[],_=1,E=null,T=3,A=!1,D=!1,P=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ie(X){for(var le=t(p);le!==null;){if(le.callback===null)i(p);else if(le.startTime<=X)i(p),le.sortIndex=le.expirationTime,e(m,le);else break;le=t(p)}}function oe(X){if(P=!1,ie(X),!D)if(t(m)!==null)D=!0,se||(se=!0,z());else{var le=t(p);le!==null&&pt(oe,le.startTime-X)}}var se=!1,C=-1,R=5,I=-1;function L(){return k?!0:!(r.unstable_now()-I<R)}function j(){if(k=!1,se){var X=r.unstable_now();I=X;var le=!0;try{e:{D=!1,P&&(P=!1,q(C),C=-1),A=!0;var ve=T;try{t:{for(ie(X),E=t(m);E!==null&&!(E.expirationTime>X&&L());){var qe=E.callback;if(typeof qe=="function"){E.callback=null,T=E.priorityLevel;var Qe=qe(E.expirationTime<=X);if(X=r.unstable_now(),typeof Qe=="function"){E.callback=Qe,ie(X),le=!0;break t}E===t(m)&&i(m),ie(X)}else i(m);E=t(m)}if(E!==null)le=!0;else{var V=t(p);V!==null&&pt(oe,V.startTime-X),le=!1}}break e}finally{E=null,T=ve,A=!1}le=void 0}}finally{le?z():se=!1}}}var z;if(typeof Q=="function")z=function(){Q(j)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,rt=O.port2;O.port1.onmessage=j,z=function(){rt.postMessage(null)}}else z=function(){B(j,0)};function pt(X,le){C=B(function(){X(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(X){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var ve=T;T=le;try{return X()}finally{T=ve}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ve=T;T=X;try{return le()}finally{T=ve}},r.unstable_scheduleCallback=function(X,le,ve){var qe=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?qe+ve:qe):ve=qe,X){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ve+Qe,X={id:_++,callback:le,priorityLevel:X,startTime:ve,expirationTime:Qe,sortIndex:-1},ve>qe?(X.sortIndex=ve,e(p,X),t(m)===null&&X===t(p)&&(P?(q(C),C=-1):P=!0,pt(oe,ve-qe))):(X.sortIndex=Qe,e(m,X),D||A||(D=!0,se||(se=!0,z()))),X},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(X){var le=T;return function(){var ve=T;T=le;try{return X.apply(this,arguments)}finally{T=ve}}}})(ug)),ug}var ub;function Zx(){return ub||(ub=1,lg.exports=Jx()),lg.exports}var cg={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function eA(){if(cb)return rn;cb=1;var r=xp();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:p,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rn.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,_)},rn.flushSync=function(m){var p=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=_,i.d.f()}},rn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},rn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},rn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,E=f(_,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:A}):_==="script"&&i.d.X(m,{crossOrigin:E,integrity:T,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},rn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,E=f(_,p.crossOrigin);i.d.L(m,_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},rn.requestFormReset=function(m){i.d.r(m)},rn.unstable_batchedUpdates=function(m,p){return m(p)},rn.useFormState=function(m,p,_){return c.H.useFormState(m,p,_)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var hb;function tA(){if(hb)return cg.exports;hb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cg.exports=eA(),cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function nA(){if(db)return du;db=1;var r=Zx(),e=xp(),t=tA();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(i(188))}function p(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),n;if(g===u)return m(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,S=d.child;S;){if(S===o){b=!0,o=d,u=g;break}if(S===u){b=!0,u=d,o=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===o){b=!0,o=g,u=d;break}if(S===u){b=!0,u=g,o=d;break}S=S.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function _(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=_(n),s!==null)return s;n=n.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=j&&n[j]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case B:return"Profiler";case k:return"StrictMode";case oe:return"Suspense";case se:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case Q:return n.displayName||"Context";case q:return(n._context.displayName||"Context")+".Consumer";case ie:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:rt(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return rt(n(s))}catch{}}return null}var pt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},qe=[],Qe=-1;function V(n){return{current:n}}function te(n){0>Qe||(n.current=qe[Qe],qe[Qe]=null,Qe--)}function ue(n,s){Qe++,qe[Qe]=n.current,n.current=s}var de=V(null),Se=V(null),ke=V(null),ze=V(null);function Vt(n,s){switch(ue(ke,s),ue(Se,n),ue(de,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Rv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Rv(s),n=Cv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(de),ue(de,n)}function ct(){te(de),te(Se),te(ke)}function Ns(n){n.memoizedState!==null&&ue(ze,n);var s=de.current,o=Cv(s,n.type);s!==o&&(ue(Se,n),ue(de,o))}function Oa(n){Se.current===n&&(te(de),te(Se)),ze.current===n&&(te(ze),ou._currentValue=ve)}var Na,Da;function br(n){if(Na===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Na=s&&s[1]||"",Da=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Na+n+Da}var ol=!1;function Ds(n,s){if(!n||ol)return"";ol=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(W){var G=W}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(W){G=W}n.call(ee.prototype)}}else{try{throw Error()}catch(W){G=W}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(W){if(W&&G&&typeof W.stack=="string")return[W.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var N=b.split(`
`),$=S.split(`
`);for(d=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(u===N.length||d===$.length)for(u=N.length-1,d=$.length-1;1<=u&&0<=d&&N[u]!==$[d];)d--;for(;1<=u&&0<=d;u--,d--)if(N[u]!==$[d]){if(u!==1||d!==1)do if(u--,d--,0>d||N[u]!==$[d]){var J=`
`+N[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=d);break}}}finally{ol=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?br(o):""}function ll(n,s){switch(n.tag){case 26:case 27:case 5:return br(n.type);case 16:return br("Lazy");case 13:return n.child!==s&&s!==null?br("Suspense Fallback"):br("Suspense");case 19:return br("SuspenseList");case 0:case 15:return Ds(n.type,!1);case 11:return Ds(n.type.render,!1);case 1:return Ds(n.type,!0);case 31:return br("Activity");default:return""}}function ul(n){try{var s="",o=null;do s+=ll(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var St=Object.prototype.hasOwnProperty,Lt=r.unstable_scheduleCallback,Ii=r.unstable_cancelCallback,of=r.unstable_shouldYield,oc=r.unstable_requestPaint,hn=r.unstable_now,js=r.unstable_getCurrentPriorityLevel,cl=r.unstable_ImmediatePriority,hl=r.unstable_UserBlockingPriority,ki=r.unstable_NormalPriority,lf=r.unstable_LowPriority,lc=r.unstable_IdlePriority,uc=r.log,cc=r.unstable_setDisableYieldValue,Jn=null,Kt=null;function Mn(n){if(typeof uc=="function"&&cc(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Jn,n)}catch{}}var vt=Math.clz32?Math.clz32:dc,hc=Math.log,ja=Math.LN2;function dc(n){return n>>>=0,n===0?32:31-(hc(n)/ja|0)|0}var wr=256,Ps=262144,xt=4194304;function Er(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Tr(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var d=0,g=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=Er(u):(b&=S,b!==0?d=Er(b):o||(o=S&~n,o!==0&&(d=Er(o))))):(S=u&~g,S!==0?d=Er(S):b!==0?d=Er(b):o||(o=u&~n,o!==0&&(d=Er(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function Zn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function uf(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fc(){var n=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),n}function Sr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Ms(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cf(n,s,o,u,d,g){var b=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var S=n.entanglements,N=n.expirationTimes,$=n.hiddenUpdates;for(o=b&~o;0<o;){var J=31-vt(o),ee=1<<J;S[J]=0,N[J]=-1;var G=$[J];if(G!==null)for($[J]=null,J=0;J<G.length;J++){var W=G[J];W!==null&&(W.lane&=-536870913)}o&=~ee}u!==0&&Vs(n,u,0),g!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=g&~(b&~s))}function Vs(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-vt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function dl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-vt(o),d=1<<u;d&s|n[u]&s&&(n[u]|=s),o&=~d}}function fl(n,s){var o=s&-s;return o=(o&42)!==0?1:Ls(o),(o&(n.suspendedLanes|s))!==0?0:o}function Ls(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Jr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function mc(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:Xv(n.type))}function er(n,s){var o=le.p;try{return le.p=n,s()}finally{le.p=o}}var tr=Math.random().toString(36).slice(2),At="__reactFiber$"+tr,Ht="__reactProps$"+tr,xr="__reactContainer$"+tr,Pa="__reactEvents$"+tr,hf="__reactListeners$"+tr,gc="__reactHandles$"+tr,pc="__reactResources$"+tr,Ar="__reactMarker$"+tr;function Ma(n){delete n[At],delete n[Ht],delete n[Pa],delete n[hf],delete n[gc]}function Rr(n){var s=n[At];if(s)return s;for(var o=n.parentNode;o;){if(s=o[xr]||o[At]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Pv(n);n!==null;){if(o=n[At])return o;n=Pv(n)}return s}n=o,o=n.parentNode}return null}function Vn(n){if(n=n[At]||n[xr]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Tn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Cr(n){var s=n[pc];return s||(s=n[pc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Rt(n){n[Ar]=!0}var ml=new Set,gl={};function Ir(n,s){kr(n,s),kr(n+"Capture",s)}function kr(n,s){for(gl[n]=s,n=0;n<s.length;n++)ml.add(s[n])}var pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},_l={};function yc(n){return St.call(_l,n)?!0:St.call(yl,n)?!1:pl.test(n)?_l[n]=!0:(yl[n]=!0,!1)}function Va(n,s,o){if(yc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Sn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Ct(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function Ft(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Oi(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vl(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ye(n){if(!n._valueTracker){var s=Oi(n)?"checked":"value";n._valueTracker=vl(n,s,""+n[s])}}function Us(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Oi(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Or(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var zs=/[\n"\\]/g;function gn(n){return n.replace(zs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function La(n,s,o,u,d,g,b,S){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Ft(s)):n.value!==""+Ft(s)&&(n.value=""+Ft(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?bl(n,b,Ft(s)):o!=null?bl(n,b,Ft(o)):u!=null&&n.removeAttribute("value"),d==null&&g!=null&&(n.defaultChecked=!!g),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Ft(S):n.removeAttribute("name")}function _c(n,s,o,u,d,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Ye(n);return}o=o!=null?""+Ft(o):"",s=s!=null?""+Ft(s):o,S||s===n.value||(n.value=s),n.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),Ye(n)}function bl(n,s,o){s==="number"&&Or(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ni(n,s,o,u){if(n=n.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=s.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Ft(o),s=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function vc(n,s,o){if(s!=null&&(s=""+Ft(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Ft(o):""}function Di(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(pt(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ft(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Ye(n)}function pn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||bc.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function El(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&wl(n,d,u)}else for(var g in s)s.hasOwnProperty(g)&&wl(n,g,s[g])}function Ua(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(n){return ji.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function nr(){}var Tl=null;function Ln(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pi=null,Nr=null;function Bs(n){var s=Vn(n);if(s&&(n=s.stateNode)){var o=n[Ht]||null;e:switch(n=s.stateNode,s.type){case"input":if(La(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var d=u[Ht]||null;if(!d)throw Error(i(90));La(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Us(u)}break e;case"textarea":vc(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ni(n,!!o.multiple,s,!1)}}}var Ba=!1;function Mi(n,s,o){if(Ba)return n(s,o);Ba=!0;try{var u=n(s);return u}finally{if(Ba=!1,(Pi!==null||Nr!==null)&&(mh(),Pi&&(s=Pi,n=Nr,Nr=Pi=null,Bs(s),n)))for(s=0;s<n.length;s++)Bs(n[s])}}function rr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Un)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{qs=!1}var Dr=null,Sl=null,Hs=null;function xl(){if(Hs)return Hs;var n,s=Sl,o=s.length,u,d="value"in Dr?Dr.value:Dr.textContent,g=d.length;for(n=0;n<o&&s[n]===d[n];n++);var b=o-n;for(u=1;u<=b&&s[o-u]===d[g-u];u++);return Hs=d.slice(n,1<u?1-u:void 0)}function Fs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Zr(){return!0}function ir(){return!1}function Qt(n){function s(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(o=n[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Zr:ir,this.isPropagationStopped=ir,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),s}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jr=Qt(ei),Vi=E({},ei,{view:0,detail:0}),Al=Qt(Vi),Li,qa,Pr,Ha=E({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Pr&&(Pr&&n.type==="mousemove"?(Li=n.screenX-Pr.screenX,qa=n.screenY-Pr.screenY):qa=Li=0,Pr=n),Li)},movementY:function(n){return"movementY"in n?n.movementY:qa}}),Rl=Qt(Ha),$s=E({},Ha,{dataTransfer:0}),Ec=Qt($s),Tc=E({},Vi,{relatedTarget:0}),Gs=Qt(Tc),Cl=E({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Sc=Qt(Cl),Fa=E({},ei,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xc=Qt(Fa),Ac=E({},ei,{data:0}),Mr=Qt(Ac),Rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Ic[n])?!!s[n]:!1}function Ui(){return kc}var dn=E({},Vi,{key:function(n){if(n.key){var s=Rc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Fs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Cc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(n){return n.type==="keypress"?Fs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Oc=Qt(dn),Nc=E({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ti=Qt(Nc),h=E({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),y=Qt(h),w=E({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Qt(w),H=E({},Ha,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Qt(H),ae=E({},ei,{newState:0,oldState:0}),Ce=Qt(ae),bt=[9,13,27,32],$e=Un&&"CompositionEvent"in window,ht=null;Un&&"documentMode"in document&&(ht=document.documentMode);var zn=Un&&"TextEvent"in window&&!ht,Vr=Un&&(!$e||ht&&8<ht&&11>=ht),sr=" ",ar=!1;function Ks(n,s){switch(n){case"keyup":return bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ga=!1;function _2(n,s){switch(n){case"compositionend":return $a(s);case"keypress":return s.which!==32?null:(ar=!0,sr);case"textInput":return n=s.data,n===sr&&ar?null:n;default:return null}}function v2(n,s){if(Ga)return n==="compositionend"||!$e&&Ks(n,s)?(n=xl(),Hs=Sl=Dr=null,Ga=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vr&&s.locale!=="ko"?null:s.data;default:return null}}var b2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ly(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!b2[n.type]:s==="textarea"}function Uy(n,s,o,u){Pi?Nr?Nr.push(u):Nr=[u]:Pi=u,s=wh(s,"onChange"),0<s.length&&(o=new jr("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Il=null,kl=null;function w2(n){wv(n,0)}function Dc(n){var s=Tn(n);if(Us(s))return n}function zy(n,s){if(n==="change")return s}var By=!1;if(Un){var df;if(Un){var ff="oninput"in document;if(!ff){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),ff=typeof qy.oninput=="function"}df=ff}else df=!1;By=df&&(!document.documentMode||9<document.documentMode)}function Hy(){Il&&(Il.detachEvent("onpropertychange",Fy),kl=Il=null)}function Fy(n){if(n.propertyName==="value"&&Dc(kl)){var s=[];Uy(s,kl,n,Ln(n)),Mi(w2,s)}}function E2(n,s,o){n==="focusin"?(Hy(),Il=s,kl=o,Il.attachEvent("onpropertychange",Fy)):n==="focusout"&&Hy()}function T2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Dc(kl)}function S2(n,s){if(n==="click")return Dc(s)}function x2(n,s){if(n==="input"||n==="change")return Dc(s)}function A2(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var xn=typeof Object.is=="function"?Object.is:A2;function Ol(n,s){if(xn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!St.call(s,d)||!xn(n[d],s[d]))return!1}return!0}function $y(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Gy(n,s){var o=$y(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=$y(o)}}function Ky(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Ky(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Qy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Or(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Or(n.document)}return s}function mf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var R2=Un&&"documentMode"in document&&11>=document.documentMode,Ka=null,gf=null,Nl=null,pf=!1;function Yy(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pf||Ka==null||Ka!==Or(u)||(u=Ka,"selectionStart"in u&&mf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nl&&Ol(Nl,u)||(Nl=u,u=wh(gf,"onSelect"),0<u.length&&(s=new jr("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Ka)))}function Qs(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Qa={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},yf={},Wy={};Un&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Ys(n){if(yf[n])return yf[n];if(!Qa[n])return n;var s=Qa[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Wy)return yf[n]=s[o];return n}var Xy=Ys("animationend"),Jy=Ys("animationiteration"),Zy=Ys("animationstart"),C2=Ys("transitionrun"),I2=Ys("transitionstart"),k2=Ys("transitioncancel"),e_=Ys("transitionend"),t_=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function or(n,s){t_.set(n,s),Ir(s,[n])}var jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Bn=[],Ya=0,vf=0;function Pc(){for(var n=Ya,s=vf=Ya=0;s<n;){var o=Bn[s];Bn[s++]=null;var u=Bn[s];Bn[s++]=null;var d=Bn[s];Bn[s++]=null;var g=Bn[s];if(Bn[s++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&n_(o,d,g)}}function Mc(n,s,o,u){Bn[Ya++]=n,Bn[Ya++]=s,Bn[Ya++]=o,Bn[Ya++]=u,vf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function bf(n,s,o,u){return Mc(n,s,o,u),Vc(n)}function Ws(n,s){return Mc(n,null,null,s),Vc(n)}function n_(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(d=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,d&&s!==null&&(d=31-vt(o),n=g.hiddenUpdates,u=n[d],u===null?n[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function Vc(n){if(50<eu)throw eu=0,Im=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Wa={};function O2(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(n,s,o,u){return new O2(n,s,o,u)}function wf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ni(n,s){var o=n.alternate;return o===null?(o=An(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function r_(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Lc(n,s,o,u,d,g){var b=0;if(u=n,typeof n=="function")wf(n)&&(b=1);else if(typeof n=="string")b=Mx(n,o,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=An(31,o,s,d),n.elementType=I,n.lanes=g,n;case P:return Xs(o.children,d,g,s);case k:b=8,d|=24;break;case B:return n=An(12,o,s,d|2),n.elementType=B,n.lanes=g,n;case oe:return n=An(13,o,s,d),n.elementType=oe,n.lanes=g,n;case se:return n=An(19,o,s,d),n.elementType=se,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:b=10;break e;case q:b=9;break e;case ie:b=11;break e;case C:b=14;break e;case R:b=16,u=null;break e}b=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=An(b,o,s,d),s.elementType=n,s.type=u,s.lanes=g,s}function Xs(n,s,o,u){return n=An(7,n,u,s),n.lanes=o,n}function Ef(n,s,o){return n=An(6,n,null,s),n.lanes=o,n}function i_(n){var s=An(18,null,null,0);return s.stateNode=n,s}function Tf(n,s,o){return s=An(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var s_=new WeakMap;function qn(n,s){if(typeof n=="object"&&n!==null){var o=s_.get(n);return o!==void 0?o:(s={value:n,source:s,stack:ul(s)},s_.set(n,s),s)}return{value:n,source:s,stack:ul(s)}}var Xa=[],Ja=0,Uc=null,Dl=0,Hn=[],Fn=0,zi=null,Lr=1,Ur="";function ri(n,s){Xa[Ja++]=Dl,Xa[Ja++]=Uc,Uc=n,Dl=s}function a_(n,s,o){Hn[Fn++]=Lr,Hn[Fn++]=Ur,Hn[Fn++]=zi,zi=n;var u=Lr;n=Ur;var d=32-vt(u)-1;u&=~(1<<d),o+=1;var g=32-vt(s)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,Lr=1<<32-vt(s)+d|o<<d|u,Ur=g+n}else Lr=1<<g|o<<d|u,Ur=n}function Sf(n){n.return!==null&&(ri(n,1),a_(n,1,0))}function xf(n){for(;n===Uc;)Uc=Xa[--Ja],Xa[Ja]=null,Dl=Xa[--Ja],Xa[Ja]=null;for(;n===zi;)zi=Hn[--Fn],Hn[Fn]=null,Ur=Hn[--Fn],Hn[Fn]=null,Lr=Hn[--Fn],Hn[Fn]=null}function o_(n,s){Hn[Fn++]=Lr,Hn[Fn++]=Ur,Hn[Fn++]=zi,Lr=s.id,Ur=s.overflow,zi=n}var Yt=null,ot=null,Ue=!1,Bi=null,$n=!1,Af=Error(i(519));function qi(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(qn(s,n)),Af}function l_(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[At]=n,s[Ht]=u,o){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(o=0;o<nu.length;o++)De(nu[o],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),_c(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),Di(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||xv(s.textContent,o)?(u.popover!=null&&(De("beforetoggle",s),De("toggle",s)),u.onScroll!=null&&De("scroll",s),u.onScrollEnd!=null&&De("scrollend",s),u.onClick!=null&&(s.onclick=nr),s=!0):s=!1,s||qi(n,!0)}function u_(n){for(Yt=n.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Yt=Yt.return}}function Za(n){if(n!==Yt)return!1;if(!Ue)return u_(n),Ue=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Fm(n.type,n.memoizedProps)),o=!o),o&&ot&&qi(n),u_(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));ot=jv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));ot=jv(n)}else s===27?(s=ot,ns(n.type)?(n=Ym,Ym=null,ot=n):ot=s):ot=Yt?Kn(n.stateNode.nextSibling):null;return!0}function Js(){ot=Yt=null,Ue=!1}function Rf(){var n=Bi;return n!==null&&(bn===null?bn=n:bn.push.apply(bn,n),Bi=null),n}function jl(n){Bi===null?Bi=[n]:Bi.push(n)}var Cf=V(null),Zs=null,ii=null;function Hi(n,s,o){ue(Cf,s._currentValue),s._currentValue=o}function si(n){n._currentValue=Cf.current,te(Cf)}function If(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function kf(n,s,o,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var N=0;N<s.length;N++)if(S.context===s[N]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),If(g.return,o,n),u||(b=null);break e}g=S.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),If(b,o,n),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===n){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function eo(n,s,o,u){n=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=d.type;xn(d.pendingProps.value,b.value)||(n!==null?n.push(S):n=[S])}}else if(d===ze.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(ou):n=[ou])}d=d.return}n!==null&&kf(s,n,o,u),s.flags|=262144}function zc(n){for(n=n.firstContext;n!==null;){if(!xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ea(n){Zs=n,ii=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Wt(n){return c_(Zs,n)}function Bc(n,s){return Zs===null&&ea(n),c_(n,s)}function c_(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ii===null){if(n===null)throw Error(i(308));ii=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ii=ii.next=s;return o}var N2=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},D2=r.unstable_scheduleCallback,j2=r.unstable_NormalPriority,It={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new N2,data:new Map,refCount:0}}function Pl(n){n.refCount--,n.refCount===0&&D2(j2,function(){n.controller.abort()})}var Ml=null,Nf=0,to=0,no=null;function P2(n,s){if(Ml===null){var o=Ml=[];Nf=0,to=Pm(),no={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Nf++,s.then(h_,h_),s}function h_(){if(--Nf===0&&Ml!==null){no!==null&&(no.status="fulfilled");var n=Ml;Ml=null,to=0,no=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function M2(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var d_=X.S;X.S=function(n,s){Y0=hn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&P2(n,s),d_!==null&&d_(n,s)};var ta=V(null);function Df(){var n=ta.current;return n!==null?n:it.pooledCache}function qc(n,s){s===null?ue(ta,ta.current):ue(ta,s.pool)}function f_(){var n=Df();return n===null?null:{parent:It._currentValue,pool:n}}var ro=Error(i(460)),jf=Error(i(474)),Hc=Error(i(542)),Fc={then:function(){}};function m_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function g_(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(nr,nr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,y_(n),n;default:if(typeof s.status=="string")s.then(nr,nr);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,y_(n),n}throw ra=s,ro}}function na(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ra=o,ro):o}}var ra=null;function p_(){if(ra===null)throw Error(i(459));var n=ra;return ra=null,n}function y_(n){if(n===ro||n===Hc)throw Error(i(483))}var io=null,Vl=0;function $c(n){var s=Vl;return Vl+=1,io===null&&(io=[]),g_(io,n,s)}function Ll(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Gc(n,s){throw s.$$typeof===T?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function __(n){function s(U,M){if(n){var F=U.deletions;F===null?(U.deletions=[M],U.flags|=16):F.push(M)}}function o(U,M){if(!n)return null;for(;M!==null;)s(U,M),M=M.sibling;return null}function u(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function d(U,M){return U=ni(U,M),U.index=0,U.sibling=null,U}function g(U,M,F){return U.index=F,n?(F=U.alternate,F!==null?(F=F.index,F<M?(U.flags|=67108866,M):F):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function b(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function S(U,M,F,Z){return M===null||M.tag!==6?(M=Ef(F,U.mode,Z),M.return=U,M):(M=d(M,F),M.return=U,M)}function N(U,M,F,Z){var ye=F.type;return ye===P?J(U,M,F.props.children,Z,F.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&na(ye)===M.type)?(M=d(M,F.props),Ll(M,F),M.return=U,M):(M=Lc(F.type,F.key,F.props,null,U.mode,Z),Ll(M,F),M.return=U,M)}function $(U,M,F,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==F.containerInfo||M.stateNode.implementation!==F.implementation?(M=Tf(F,U.mode,Z),M.return=U,M):(M=d(M,F.children||[]),M.return=U,M)}function J(U,M,F,Z,ye){return M===null||M.tag!==7?(M=Xs(F,U.mode,Z,ye),M.return=U,M):(M=d(M,F),M.return=U,M)}function ee(U,M,F){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ef(""+M,U.mode,F),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return F=Lc(M.type,M.key,M.props,null,U.mode,F),Ll(F,M),F.return=U,F;case D:return M=Tf(M,U.mode,F),M.return=U,M;case R:return M=na(M),ee(U,M,F)}if(pt(M)||z(M))return M=Xs(M,U.mode,F,null),M.return=U,M;if(typeof M.then=="function")return ee(U,$c(M),F);if(M.$$typeof===Q)return ee(U,Bc(U,M),F);Gc(U,M)}return null}function G(U,M,F,Z){var ye=M!==null?M.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ye!==null?null:S(U,M,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===ye?N(U,M,F,Z):null;case D:return F.key===ye?$(U,M,F,Z):null;case R:return F=na(F),G(U,M,F,Z)}if(pt(F)||z(F))return ye!==null?null:J(U,M,F,Z,null);if(typeof F.then=="function")return G(U,M,$c(F),Z);if(F.$$typeof===Q)return G(U,M,Bc(U,F),Z);Gc(U,F)}return null}function W(U,M,F,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(F)||null,S(M,U,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return U=U.get(Z.key===null?F:Z.key)||null,N(M,U,Z,ye);case D:return U=U.get(Z.key===null?F:Z.key)||null,$(M,U,Z,ye);case R:return Z=na(Z),W(U,M,F,Z,ye)}if(pt(Z)||z(Z))return U=U.get(F)||null,J(M,U,Z,ye,null);if(typeof Z.then=="function")return W(U,M,F,$c(Z),ye);if(Z.$$typeof===Q)return W(U,M,F,Bc(M,Z),ye);Gc(M,Z)}return null}function fe(U,M,F,Z){for(var ye=null,He=null,me=M,Oe=M=0,Pe=null;me!==null&&Oe<F.length;Oe++){me.index>Oe?(Pe=me,me=null):Pe=me.sibling;var Fe=G(U,me,F[Oe],Z);if(Fe===null){me===null&&(me=Pe);break}n&&me&&Fe.alternate===null&&s(U,me),M=g(Fe,M,Oe),He===null?ye=Fe:He.sibling=Fe,He=Fe,me=Pe}if(Oe===F.length)return o(U,me),Ue&&ri(U,Oe),ye;if(me===null){for(;Oe<F.length;Oe++)me=ee(U,F[Oe],Z),me!==null&&(M=g(me,M,Oe),He===null?ye=me:He.sibling=me,He=me);return Ue&&ri(U,Oe),ye}for(me=u(me);Oe<F.length;Oe++)Pe=W(me,U,Oe,F[Oe],Z),Pe!==null&&(n&&Pe.alternate!==null&&me.delete(Pe.key===null?Oe:Pe.key),M=g(Pe,M,Oe),He===null?ye=Pe:He.sibling=Pe,He=Pe);return n&&me.forEach(function(os){return s(U,os)}),Ue&&ri(U,Oe),ye}function be(U,M,F,Z){if(F==null)throw Error(i(151));for(var ye=null,He=null,me=M,Oe=M=0,Pe=null,Fe=F.next();me!==null&&!Fe.done;Oe++,Fe=F.next()){me.index>Oe?(Pe=me,me=null):Pe=me.sibling;var os=G(U,me,Fe.value,Z);if(os===null){me===null&&(me=Pe);break}n&&me&&os.alternate===null&&s(U,me),M=g(os,M,Oe),He===null?ye=os:He.sibling=os,He=os,me=Pe}if(Fe.done)return o(U,me),Ue&&ri(U,Oe),ye;if(me===null){for(;!Fe.done;Oe++,Fe=F.next())Fe=ee(U,Fe.value,Z),Fe!==null&&(M=g(Fe,M,Oe),He===null?ye=Fe:He.sibling=Fe,He=Fe);return Ue&&ri(U,Oe),ye}for(me=u(me);!Fe.done;Oe++,Fe=F.next())Fe=W(me,U,Oe,Fe.value,Z),Fe!==null&&(n&&Fe.alternate!==null&&me.delete(Fe.key===null?Oe:Fe.key),M=g(Fe,M,Oe),He===null?ye=Fe:He.sibling=Fe,He=Fe);return n&&me.forEach(function(Kx){return s(U,Kx)}),Ue&&ri(U,Oe),ye}function tt(U,M,F,Z){if(typeof F=="object"&&F!==null&&F.type===P&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:e:{for(var ye=F.key;M!==null;){if(M.key===ye){if(ye=F.type,ye===P){if(M.tag===7){o(U,M.sibling),Z=d(M,F.props.children),Z.return=U,U=Z;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&na(ye)===M.type){o(U,M.sibling),Z=d(M,F.props),Ll(Z,F),Z.return=U,U=Z;break e}o(U,M);break}else s(U,M);M=M.sibling}F.type===P?(Z=Xs(F.props.children,U.mode,Z,F.key),Z.return=U,U=Z):(Z=Lc(F.type,F.key,F.props,null,U.mode,Z),Ll(Z,F),Z.return=U,U=Z)}return b(U);case D:e:{for(ye=F.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===F.containerInfo&&M.stateNode.implementation===F.implementation){o(U,M.sibling),Z=d(M,F.children||[]),Z.return=U,U=Z;break e}else{o(U,M);break}else s(U,M);M=M.sibling}Z=Tf(F,U.mode,Z),Z.return=U,U=Z}return b(U);case R:return F=na(F),tt(U,M,F,Z)}if(pt(F))return fe(U,M,F,Z);if(z(F)){if(ye=z(F),typeof ye!="function")throw Error(i(150));return F=ye.call(F),be(U,M,F,Z)}if(typeof F.then=="function")return tt(U,M,$c(F),Z);if(F.$$typeof===Q)return tt(U,M,Bc(U,F),Z);Gc(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,M!==null&&M.tag===6?(o(U,M.sibling),Z=d(M,F),Z.return=U,U=Z):(o(U,M),Z=Ef(F,U.mode,Z),Z.return=U,U=Z),b(U)):o(U,M)}return function(U,M,F,Z){try{Vl=0;var ye=tt(U,M,F,Z);return io=null,ye}catch(me){if(me===ro||me===Hc)throw me;var He=An(29,me,null,U.mode);return He.lanes=Z,He.return=U,He}finally{}}}var ia=__(!0),v_=__(!1),Fi=!1;function Pf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function $i(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Gi(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ge&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Vc(n),n_(n,null,o),s}return Mc(n,u,s,o),Vc(n)}function Ul(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,dl(n,o)}}function Vf(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Lf=!1;function zl(){if(Lf){var n=no;if(n!==null)throw n}}function Bl(n,s,o,u){Lf=!1;var d=n.updateQueue;Fi=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var N=S,$=N.next;N.next=null,b===null?g=$:b.next=$,b=N;var J=n.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==b&&(S===null?J.firstBaseUpdate=$:S.next=$,J.lastBaseUpdate=N))}if(g!==null){var ee=d.baseState;b=0,J=$=N=null,S=g;do{var G=S.lane&-536870913,W=G!==S.lane;if(W?(je&G)===G:(u&G)===G){G!==0&&G===to&&(Lf=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=n,be=S;G=s;var tt=o;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){ee=fe.call(tt,ee,G);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,G=typeof fe=="function"?fe.call(tt,ee,G):fe,G==null)break e;ee=E({},ee,G);break e;case 2:Fi=!0}}G=S.callback,G!==null&&(n.flags|=64,W&&(n.flags|=8192),W=d.callbacks,W===null?d.callbacks=[G]:W.push(G))}else W={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?($=J=W,N=ee):J=J.next=W,b|=G;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;W=S,S=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);J===null&&(N=ee),d.baseState=N,d.firstBaseUpdate=$,d.lastBaseUpdate=J,g===null&&(d.shared.lanes=0),Xi|=b,n.lanes=b,n.memoizedState=ee}}function b_(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function w_(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)b_(o[n],s)}var so=V(null),Kc=V(0);function E_(n,s){n=mi,ue(Kc,n),ue(so,s),mi=n|s.baseLanes}function Uf(){ue(Kc,mi),ue(so,so.current)}function zf(){mi=Kc.current,te(so),te(Kc)}var Rn=V(null),Gn=null;function Ki(n){var s=n.alternate;ue(wt,wt.current&1),ue(Rn,n),Gn===null&&(s===null||so.current!==null||s.memoizedState!==null)&&(Gn=n)}function Bf(n){ue(wt,wt.current),ue(Rn,n),Gn===null&&(Gn=n)}function T_(n){n.tag===22?(ue(wt,wt.current),ue(Rn,n),Gn===null&&(Gn=n)):Qi()}function Qi(){ue(wt,wt.current),ue(Rn,Rn.current)}function Cn(n){te(Rn),Gn===n&&(Gn=null),te(wt)}var wt=V(0);function Qc(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Km(o)||Qm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ai=0,Ie=null,Ze=null,kt=null,Yc=!1,ao=!1,sa=!1,Wc=0,ql=0,oo=null,V2=0;function yt(){throw Error(i(321))}function qf(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!xn(n[o],s[o]))return!1;return!0}function Hf(n,s,o,u,d,g){return ai=g,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=n===null||n.memoizedState===null?a0:im,sa=!1,g=o(u,d),sa=!1,ao&&(g=x_(s,o,u,d)),S_(n),g}function S_(n){X.H=$l;var s=Ze!==null&&Ze.next!==null;if(ai=0,kt=Ze=Ie=null,Yc=!1,ql=0,oo=null,s)throw Error(i(300));n===null||Ot||(n=n.dependencies,n!==null&&zc(n)&&(Ot=!0))}function x_(n,s,o,u){Ie=n;var d=0;do{if(ao&&(oo=null),ql=0,ao=!1,25<=d)throw Error(i(301));if(d+=1,kt=Ze=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=o0,g=s(o,u)}while(ao);return g}function L2(){var n=X.H,s=n.useState()[0];return s=typeof s.then=="function"?Hl(s):s,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Ie.flags|=1024),s}function Ff(){var n=Wc!==0;return Wc=0,n}function $f(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Gf(n){if(Yc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Yc=!1}ai=0,kt=Ze=Ie=null,ao=!1,ql=Wc=0,oo=null}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ie.memoizedState=kt=n:kt=kt.next=n,kt}function Et(){if(Ze===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var s=kt===null?Ie.memoizedState:kt.next;if(s!==null)kt=s,Ze=n;else{if(n===null)throw Ie.alternate===null?Error(i(467)):Error(i(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},kt===null?Ie.memoizedState=kt=n:kt=kt.next=n}return kt}function Xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(n){var s=ql;return ql+=1,oo===null&&(oo=[]),n=g_(oo,n,s),s=Ie,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?a0:im),n}function Jc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Hl(n);if(n.$$typeof===Q)return Wt(n)}throw Error(i(438,String(n)))}function Kf(n){var s=null,o=Ie.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Xc(),Ie.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=L;return s.index++,o}function oi(n,s){return typeof s=="function"?s(n):s}function Zc(n){var s=Et();return Qf(s,Ze,n)}function Qf(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=n.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,u.pending=null}if(g=n.baseState,d===null)n.memoizedState=g;else{s=d.next;var S=b=null,N=null,$=s,J=!1;do{var ee=$.lane&-536870913;if(ee!==$.lane?(je&ee)===ee:(ai&ee)===ee){var G=$.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ee===to&&(J=!0);else if((ai&G)===G){$=$.next,G===to&&(J=!0);continue}else ee={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(S=N=ee,b=g):N=N.next=ee,Ie.lanes|=G,Xi|=G;ee=$.action,sa&&o(g,ee),g=$.hasEagerState?$.eagerState:o(g,ee)}else G={lane:ee,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(S=N=G,b=g):N=N.next=G,Ie.lanes|=ee,Xi|=ee;$=$.next}while($!==null&&$!==s);if(N===null?b=g:N.next=S,!xn(g,n.memoizedState)&&(Ot=!0,J&&(o=no,o!==null)))throw o;n.memoizedState=g,n.baseState=b,n.baseQueue=N,u.lastRenderedState=g}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Yf(n){var s=Et(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=n(g,b.action),b=b.next;while(b!==d);xn(g,s.memoizedState)||(Ot=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function A_(n,s,o){var u=Ie,d=Et(),g=Ue;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!xn((Ze||d).memoizedState,o);if(b&&(d.memoizedState=o,Ot=!0),d=d.queue,Jf(I_.bind(null,u,d,n),[n]),d.getSnapshot!==s||b||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,lo(9,{destroy:void 0},C_.bind(null,u,d,o,s),null),it===null)throw Error(i(349));g||(ai&127)!==0||R_(u,s,o)}return o}function R_(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ie.updateQueue,s===null?(s=Xc(),Ie.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function C_(n,s,o,u){s.value=o,s.getSnapshot=u,k_(s)&&O_(n)}function I_(n,s,o){return o(function(){k_(s)&&O_(n)})}function k_(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!xn(n,o)}catch{return!0}}function O_(n){var s=Ws(n,2);s!==null&&wn(s,n,2)}function Wf(n){var s=fn();if(typeof n=="function"){var o=n;if(n=o(),sa){Mn(!0);try{o()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:n},s}function N_(n,s,o,u){return n.baseState=o,Qf(n,Ze,typeof u=="function"?u:oi)}function U2(n,s,o,u,d){if(nh(n))throw Error(i(485));if(n=s.action,n!==null){var g={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,D_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function D_(n,s){var o=s.action,u=s.payload,d=n.state;if(s.isTransition){var g=X.T,b={};X.T=b;try{var S=o(d,u),N=X.S;N!==null&&N(b,S),j_(n,s,S)}catch($){Xf(n,s,$)}finally{g!==null&&b.types!==null&&(g.types=b.types),X.T=g}}else try{g=o(d,u),j_(n,s,g)}catch($){Xf(n,s,$)}}function j_(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){P_(n,s,u)},function(u){return Xf(n,s,u)}):P_(n,s,o)}function P_(n,s,o){s.status="fulfilled",s.value=o,M_(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,D_(n,o)))}function Xf(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,M_(s),s=s.next;while(s!==u)}n.action=null}function M_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function V_(n,s){return s}function L_(n,s){if(Ue){var o=it.formState;if(o!==null){e:{var u=Ie;if(Ue){if(ot){t:{for(var d=ot,g=$n;d.nodeType!==8;){if(!g){d=null;break t}if(d=Kn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ot=Kn(d.nextSibling),u=d.data==="F!";break e}}qi(u)}u=!1}u&&(s=o[0])}}return o=fn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V_,lastRenderedState:s},o.queue=u,o=r0.bind(null,Ie,u),u.dispatch=o,u=Wf(!1),g=rm.bind(null,Ie,!1,u.queue),u=fn(),d={state:s,dispatch:null,action:n,pending:null},u.queue=d,o=U2.bind(null,Ie,d,g,o),d.dispatch=o,u.memoizedState=n,[s,o,!1]}function U_(n){var s=Et();return z_(s,Ze,n)}function z_(n,s,o){if(s=Qf(n,s,V_)[0],n=Zc(oi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Hl(s)}catch(b){throw b===ro?Hc:b}else u=s;s=Et();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Ie.flags|=2048,lo(9,{destroy:void 0},z2.bind(null,d,o),null)),[u,g,n]}function z2(n,s){n.action=s}function B_(n){var s=Et(),o=Ze;if(o!==null)return z_(s,o,n);Et(),s=s.memoizedState,o=Et();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function lo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Xc(),Ie.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function q_(){return Et().memoizedState}function eh(n,s,o,u){var d=fn();Ie.flags|=n,d.memoizedState=lo(1|s,{destroy:void 0},o,u===void 0?null:u)}function th(n,s,o,u){var d=Et();u=u===void 0?null:u;var g=d.memoizedState.inst;Ze!==null&&u!==null&&qf(u,Ze.memoizedState.deps)?d.memoizedState=lo(s,g,o,u):(Ie.flags|=n,d.memoizedState=lo(1|s,g,o,u))}function H_(n,s){eh(8390656,8,n,s)}function Jf(n,s){th(2048,8,n,s)}function B2(n){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Xc(),Ie.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function F_(n){var s=Et().memoizedState;return B2({ref:s,nextImpl:n}),function(){if((Ge&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function $_(n,s){return th(4,2,n,s)}function G_(n,s){return th(4,4,n,s)}function K_(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Q_(n,s,o){o=o!=null?o.concat([n]):null,th(4,4,K_.bind(null,s,n),o)}function Zf(){}function Y_(n,s){var o=Et();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&qf(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function W_(n,s){var o=Et();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&qf(s,u[1]))return u[0];if(u=n(),sa){Mn(!0);try{n()}finally{Mn(!1)}}return o.memoizedState=[u,s],u}function em(n,s,o){return o===void 0||(ai&1073741824)!==0&&(je&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=X0(),Ie.lanes|=n,Xi|=n,o)}function X_(n,s,o,u){return xn(o,s)?o:so.current!==null?(n=em(n,o,u),xn(n,s)||(Ot=!0),n):(ai&42)===0||(ai&1073741824)!==0&&(je&261930)===0?(Ot=!0,n.memoizedState=o):(n=X0(),Ie.lanes|=n,Xi|=n,s)}function J_(n,s,o,u,d){var g=le.p;le.p=g!==0&&8>g?g:8;var b=X.T,S={};X.T=S,rm(n,!1,s,o);try{var N=d(),$=X.S;if($!==null&&$(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=M2(N,u);Fl(n,s,J,On(n))}else Fl(n,s,u,On(n))}catch(ee){Fl(n,s,{then:function(){},status:"rejected",reason:ee},On())}finally{le.p=g,b!==null&&S.types!==null&&(b.types=S.types),X.T=b}}function q2(){}function tm(n,s,o,u){if(n.tag!==5)throw Error(i(476));var d=Z_(n).queue;J_(n,d,s,ve,o===null?q2:function(){return e0(n),o(u)})}function Z_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:ve},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function e0(n){var s=Z_(n);s.next===null&&(s=n.alternate.memoizedState),Fl(n,s.next.queue,{},On())}function nm(){return Wt(ou)}function t0(){return Et().memoizedState}function n0(){return Et().memoizedState}function H2(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=On();n=$i(o);var u=Gi(s,n,o);u!==null&&(wn(u,s,o),Ul(u,s,o)),s={cache:Of()},n.payload=s;return}s=s.return}}function F2(n,s,o){var u=On();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},nh(n)?i0(s,o):(o=bf(n,s,o,u),o!==null&&(wn(o,n,u),s0(o,s,u)))}function r0(n,s,o){var u=On();Fl(n,s,o,u)}function Fl(n,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(nh(n))i0(s,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,S=g(b,o);if(d.hasEagerState=!0,d.eagerState=S,xn(S,b))return Mc(n,s,d,0),it===null&&Pc(),!1}catch{}finally{}if(o=bf(n,s,d,u),o!==null)return wn(o,n,u),s0(o,s,u),!0}return!1}function rm(n,s,o,u){if(u={lane:2,revertLane:Pm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},nh(n)){if(s)throw Error(i(479))}else s=bf(n,o,u,2),s!==null&&wn(s,n,2)}function nh(n){var s=n.alternate;return n===Ie||s!==null&&s===Ie}function i0(n,s){ao=Yc=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function s0(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,dl(n,o)}}var $l={readContext:Wt,use:Jc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};$l.useEffectEvent=yt;var a0={readContext:Wt,use:Jc,useCallback:function(n,s){return fn().memoizedState=[n,s===void 0?null:s],n},useContext:Wt,useEffect:H_,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,eh(4194308,4,K_.bind(null,s,n),o)},useLayoutEffect:function(n,s){return eh(4194308,4,n,s)},useInsertionEffect:function(n,s){eh(4,2,n,s)},useMemo:function(n,s){var o=fn();s=s===void 0?null:s;var u=n();if(sa){Mn(!0);try{n()}finally{Mn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=fn();if(o!==void 0){var d=o(s);if(sa){Mn(!0);try{o(s)}finally{Mn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=F2.bind(null,Ie,n),[u.memoizedState,n]},useRef:function(n){var s=fn();return n={current:n},s.memoizedState=n},useState:function(n){n=Wf(n);var s=n.queue,o=r0.bind(null,Ie,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Zf,useDeferredValue:function(n,s){var o=fn();return em(o,n,s)},useTransition:function(){var n=Wf(!1);return n=J_.bind(null,Ie,n.queue,!0,!1),fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Ie,d=fn();if(Ue){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),it===null)throw Error(i(349));(je&127)!==0||R_(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,H_(I_.bind(null,u,g,n),[n]),u.flags|=2048,lo(9,{destroy:void 0},C_.bind(null,u,g,o,s),null),o},useId:function(){var n=fn(),s=it.identifierPrefix;if(Ue){var o=Ur,u=Lr;o=(u&~(1<<32-vt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Wc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=V2++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:nm,useFormState:L_,useActionState:L_,useOptimistic:function(n){var s=fn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=rm.bind(null,Ie,!0,o),o.dispatch=s,[n,s]},useMemoCache:Kf,useCacheRefresh:function(){return fn().memoizedState=H2.bind(null,Ie)},useEffectEvent:function(n){var s=fn(),o={impl:n};return s.memoizedState=o,function(){if((Ge&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},im={readContext:Wt,use:Jc,useCallback:Y_,useContext:Wt,useEffect:Jf,useImperativeHandle:Q_,useInsertionEffect:$_,useLayoutEffect:G_,useMemo:W_,useReducer:Zc,useRef:q_,useState:function(){return Zc(oi)},useDebugValue:Zf,useDeferredValue:function(n,s){var o=Et();return X_(o,Ze.memoizedState,n,s)},useTransition:function(){var n=Zc(oi)[0],s=Et().memoizedState;return[typeof n=="boolean"?n:Hl(n),s]},useSyncExternalStore:A_,useId:t0,useHostTransitionStatus:nm,useFormState:U_,useActionState:U_,useOptimistic:function(n,s){var o=Et();return N_(o,Ze,n,s)},useMemoCache:Kf,useCacheRefresh:n0};im.useEffectEvent=F_;var o0={readContext:Wt,use:Jc,useCallback:Y_,useContext:Wt,useEffect:Jf,useImperativeHandle:Q_,useInsertionEffect:$_,useLayoutEffect:G_,useMemo:W_,useReducer:Yf,useRef:q_,useState:function(){return Yf(oi)},useDebugValue:Zf,useDeferredValue:function(n,s){var o=Et();return Ze===null?em(o,n,s):X_(o,Ze.memoizedState,n,s)},useTransition:function(){var n=Yf(oi)[0],s=Et().memoizedState;return[typeof n=="boolean"?n:Hl(n),s]},useSyncExternalStore:A_,useId:t0,useHostTransitionStatus:nm,useFormState:B_,useActionState:B_,useOptimistic:function(n,s){var o=Et();return Ze!==null?N_(o,Ze,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:n0};o0.useEffectEvent=F_;function sm(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:E({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var am={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=On(),d=$i(u);d.payload=s,o!=null&&(d.callback=o),s=Gi(n,d,u),s!==null&&(wn(s,n,u),Ul(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=On(),d=$i(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Gi(n,d,u),s!==null&&(wn(s,n,u),Ul(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=On(),u=$i(o);u.tag=2,s!=null&&(u.callback=s),s=Gi(n,u,o),s!==null&&(wn(s,n,o),Ul(s,n,o))}};function l0(n,s,o,u,d,g,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!Ol(o,u)||!Ol(d,g):!0}function u0(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&am.enqueueReplaceState(s,s.state,null)}function aa(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=E({},o));for(var d in n)o[d]===void 0&&(o[d]=n[d])}return o}function c0(n){jc(n)}function h0(n){console.error(n)}function d0(n){jc(n)}function rh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function f0(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function om(n,s,o){return o=$i(o),o.tag=3,o.payload={element:null},o.callback=function(){rh(n,s)},o}function m0(n){return n=$i(n),n.tag=3,n}function g0(n,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;n.payload=function(){return d(g)},n.callback=function(){f0(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){f0(s,o,u),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function $2(n,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&eo(s,o,d,!0),o=Rn.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?gh():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Fc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Nm(n,u,d)),!1;case 22:return o.flags|=65536,u===Fc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Nm(n,u,d)),!1}throw Error(i(435,o.tag))}return Nm(n,u,d),gh(),!1}if(Ue)return s=Rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Af&&(n=Error(i(422),{cause:u}),jl(qn(n,o)))):(u!==Af&&(s=Error(i(423),{cause:u}),jl(qn(s,o))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=qn(u,o),d=om(n.stateNode,u,d),Vf(n,d),_t!==4&&(_t=2)),!1;var g=Error(i(520),{cause:u});if(g=qn(g,o),Zl===null?Zl=[g]:Zl.push(g),_t!==4&&(_t=2),s===null)return!0;u=qn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=d&-d,o.lanes|=n,n=om(o.stateNode,u,n),Vf(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ji===null||!Ji.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=m0(d),g0(d,n,o,u),Vf(o,d),!1}o=o.return}while(o!==null);return!1}var lm=Error(i(461)),Ot=!1;function Xt(n,s,o,u){s.child=n===null?v_(s,null,o,u):ia(s,n.child,o,u)}function p0(n,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return ea(s),u=Hf(n,s,o,b,g,d),S=Ff(),n!==null&&!Ot?($f(n,s,d),li(n,s,d)):(Ue&&S&&Sf(s),s.flags|=1,Xt(n,s,u,d),s.child)}function y0(n,s,o,u,d){if(n===null){var g=o.type;return typeof g=="function"&&!wf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,_0(n,s,g,u,d)):(n=Lc(o.type,null,u,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!pm(n,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ol,o(b,u)&&n.ref===s.ref)return li(n,s,d)}return s.flags|=1,n=ni(g,u),n.ref=s.ref,n.return=s,s.child=n}function _0(n,s,o,u,d){if(n!==null){var g=n.memoizedProps;if(Ol(g,u)&&n.ref===s.ref)if(Ot=!1,s.pendingProps=u=g,pm(n,d))(n.flags&131072)!==0&&(Ot=!0);else return s.lanes=n.lanes,li(n,s,d)}return um(n,s,o,u,d)}function v0(n,s,o,u){var d=u.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,n!==null){for(u=s.child=n.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,s.child=null;return b0(n,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&qc(s,g!==null?g.cachePool:null),g!==null?E_(s,g):Uf(),T_(s);else return u=s.lanes=536870912,b0(n,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(qc(s,g.cachePool),E_(s,g),Qi(),s.memoizedState=null):(n!==null&&qc(s,null),Uf(),Qi());return Xt(n,s,d,o),s.child}function Gl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function b0(n,s,o,u,d){var g=Df();return g=g===null?null:{parent:It._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},n!==null&&qc(s,null),Uf(),T_(s),n!==null&&eo(n,s,u,!0),s.childLanes=d,null}function ih(n,s){return s=ah({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function w0(n,s,o){return ia(s,n.child,null,o),n=ih(s,s.pendingProps),n.flags|=2,Cn(s),s.memoizedState=null,n}function G2(n,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ue){if(u.mode==="hidden")return n=ih(s,u),s.lanes=536870912,Gl(null,n);if(Bf(s),(n=ot)?(n=Dv(n,$n),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:zi!==null?{id:Lr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},o=i_(n),o.return=s,s.child=o,Yt=s,ot=null)):n=null,n===null)throw qi(s);return s.lanes=536870912,null}return ih(s,u)}var g=n.memoizedState;if(g!==null){var b=g.dehydrated;if(Bf(s),d)if(s.flags&256)s.flags&=-257,s=w0(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Ot||eo(n,s,o,!1),d=(o&n.childLanes)!==0,Ot||d){if(u=it,u!==null&&(b=fl(u,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,Ws(n,b),wn(u,n,b),lm;gh(),s=w0(n,s,o)}else n=g.treeContext,ot=Kn(b.nextSibling),Yt=s,Ue=!0,Bi=null,$n=!1,n!==null&&o_(s,n),s=ih(s,u),s.flags|=4096;return s}return n=ni(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function sh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function um(n,s,o,u,d){return ea(s),o=Hf(n,s,o,u,void 0,d),u=Ff(),n!==null&&!Ot?($f(n,s,d),li(n,s,d)):(Ue&&u&&Sf(s),s.flags|=1,Xt(n,s,o,d),s.child)}function E0(n,s,o,u,d,g){return ea(s),s.updateQueue=null,o=x_(s,u,o,d),S_(n),u=Ff(),n!==null&&!Ot?($f(n,s,g),li(n,s,g)):(Ue&&u&&Sf(s),s.flags|=1,Xt(n,s,o,g),s.child)}function T0(n,s,o,u,d){if(ea(s),s.stateNode===null){var g=Wa,b=o.contextType;typeof b=="object"&&b!==null&&(g=Wt(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=am,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Pf(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?Wt(b):Wa,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(sm(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&am.enqueueReplaceState(g,g.state,null),Bl(s,u,g,d),zl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var S=s.memoizedProps,N=aa(o,S);g.props=N;var $=g.context,J=o.contextType;b=Wa,typeof J=="object"&&J!==null&&(b=Wt(J));var ee=o.getDerivedStateFromProps;J=typeof ee=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||$!==b)&&u0(s,g,u,b),Fi=!1;var G=s.memoizedState;g.state=G,Bl(s,u,g,d),zl(),$=s.memoizedState,S||G!==$||Fi?(typeof ee=="function"&&(sm(s,o,ee,u),$=s.memoizedState),(N=Fi||l0(s,o,N,u,G,$,b))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=$),g.props=u,g.state=$,g.context=b,u=N):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Mf(n,s),b=s.memoizedProps,J=aa(o,b),g.props=J,ee=s.pendingProps,G=g.context,$=o.contextType,N=Wa,typeof $=="object"&&$!==null&&(N=Wt($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ee||G!==N)&&u0(s,g,u,N),Fi=!1,G=s.memoizedState,g.state=G,Bl(s,u,g,d),zl();var W=s.memoizedState;b!==ee||G!==W||Fi||n!==null&&n.dependencies!==null&&zc(n.dependencies)?(typeof S=="function"&&(sm(s,o,S,u),W=s.memoizedState),(J=Fi||l0(s,o,J,u,G,W,N)||n!==null&&n.dependencies!==null&&zc(n.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,N)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),g.props=u,g.state=W,g.context=N,u=J):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,sh(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=ia(s,n.child,null,d),s.child=ia(s,null,o,d)):Xt(n,s,o,d),s.memoizedState=g.state,n=s.child):n=li(n,s,d),n}function S0(n,s,o,u){return Js(),s.flags|=256,Xt(n,s,o,u),s.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hm(n){return{baseLanes:n,cachePool:f_()}}function dm(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=kn),n}function x0(n,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=n!==null&&n.memoizedState===null?!1:(wt.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ue){if(d?Ki(s):Qi(),(n=ot)?(n=Dv(n,$n),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:zi!==null?{id:Lr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},o=i_(n),o.return=s,s.child=o,Yt=s,ot=null)):n=null,n===null)throw qi(s);return Qm(n)?s.lanes=32:s.lanes=536870912,null}var S=u.children;return u=u.fallback,d?(Qi(),d=s.mode,S=ah({mode:"hidden",children:S},d),u=Xs(u,d,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,u=s.child,u.memoizedState=hm(o),u.childLanes=dm(n,b,o),s.memoizedState=cm,Gl(null,u)):(Ki(s),fm(s,S))}var N=n.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(g)s.flags&256?(Ki(s),s.flags&=-257,s=mm(n,s,o)):s.memoizedState!==null?(Qi(),s.child=n.child,s.flags|=128,s=null):(Qi(),S=u.fallback,d=s.mode,u=ah({mode:"visible",children:u.children},d),S=Xs(S,d,o,null),S.flags|=2,u.return=s,S.return=s,u.sibling=S,s.child=u,ia(s,n.child,null,o),u=s.child,u.memoizedState=hm(o),u.childLanes=dm(n,b,o),s.memoizedState=cm,s=Gl(null,u));else if(Ki(s),Qm(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var $=b.dgst;b=$,u=Error(i(419)),u.stack="",u.digest=b,jl({value:u,source:null,stack:null}),s=mm(n,s,o)}else if(Ot||eo(n,s,o,!1),b=(o&n.childLanes)!==0,Ot||b){if(b=it,b!==null&&(u=fl(b,o),u!==0&&u!==N.retryLane))throw N.retryLane=u,Ws(n,u),wn(b,n,u),lm;Km(S)||gh(),s=mm(n,s,o)}else Km(S)?(s.flags|=192,s.child=n.child,s=null):(n=N.treeContext,ot=Kn(S.nextSibling),Yt=s,Ue=!0,Bi=null,$n=!1,n!==null&&o_(s,n),s=fm(s,u.children),s.flags|=4096);return s}return d?(Qi(),S=u.fallback,d=s.mode,N=n.child,$=N.sibling,u=ni(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,$!==null?S=ni($,S):(S=Xs(S,d,o,null),S.flags|=2),S.return=s,u.return=s,u.sibling=S,s.child=u,Gl(null,u),u=s.child,S=n.child.memoizedState,S===null?S=hm(o):(d=S.cachePool,d!==null?(N=It._currentValue,d=d.parent!==N?{parent:N,pool:N}:d):d=f_(),S={baseLanes:S.baseLanes|o,cachePool:d}),u.memoizedState=S,u.childLanes=dm(n,b,o),s.memoizedState=cm,Gl(n.child,u)):(Ki(s),o=n.child,n=o.sibling,o=ni(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=o,s.memoizedState=null,o)}function fm(n,s){return s=ah({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function ah(n,s){return n=An(22,n,null,s),n.lanes=0,n}function mm(n,s,o){return ia(s,n.child,null,o),n=fm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function A0(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),If(n.return,s,o)}function gm(n,s,o,u,d,g){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=d,b.treeForkCount=g)}function R0(n,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var b=wt.current,S=(b&2)!==0;if(S?(b=b&1|2,s.flags|=128):b&=1,ue(wt,b),Xt(n,s,u,o),u=Ue?Dl:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&A0(n,o,s);else if(n.tag===19)A0(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)n=o.alternate,n!==null&&Qc(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),gm(s,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Qc(n)===null){s.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}gm(s,!0,o,null,g,u);break;case"together":gm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function li(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Xi|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(eo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=ni(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=ni(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function pm(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&zc(n)))}function K2(n,s,o){switch(s.tag){case 3:Vt(s,s.stateNode.containerInfo),Hi(s,It,n.memoizedState.cache),Js();break;case 27:case 5:Ns(s);break;case 4:Vt(s,s.stateNode.containerInfo);break;case 10:Hi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Bf(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ki(s),s.flags|=128,null):(o&s.child.childLanes)!==0?x0(n,s,o):(Ki(s),n=li(n,s,o),n!==null?n.sibling:null);Ki(s);break;case 19:var d=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(eo(n,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return R0(n,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(wt,wt.current),u)break;return null;case 22:return s.lanes=0,v0(n,s,o,s.pendingProps);case 24:Hi(s,It,n.memoizedState.cache)}return li(n,s,o)}function C0(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ot=!0;else{if(!pm(n,o)&&(s.flags&128)===0)return Ot=!1,K2(n,s,o);Ot=(n.flags&131072)!==0}else Ot=!1,Ue&&(s.flags&1048576)!==0&&a_(s,Dl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=na(s.elementType),s.type=n,typeof n=="function")wf(n)?(u=aa(n,u),s.tag=1,s=T0(null,s,n,u,o)):(s.tag=0,s=um(null,s,n,u,o));else{if(n!=null){var d=n.$$typeof;if(d===ie){s.tag=11,s=p0(null,s,n,u,o);break e}else if(d===C){s.tag=14,s=y0(null,s,n,u,o);break e}}throw s=rt(n)||n,Error(i(306,s,""))}}return s;case 0:return um(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=aa(u,s.pendingProps),T0(n,s,u,d,o);case 3:e:{if(Vt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,Mf(n,s),Bl(s,u,null,o);var b=s.memoizedState;if(u=b.cache,Hi(s,It,u),u!==g.cache&&kf(s,[It],o,!0),zl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=S0(n,s,u,o);break e}else if(u!==d){d=qn(Error(i(424)),s),jl(d),s=S0(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ot=Kn(n.firstChild),Yt=s,Ue=!0,Bi=null,$n=!0,o=v_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Js(),u===d){s=li(n,s,o);break e}Xt(n,s,u,o)}s=s.child}return s;case 26:return sh(n,s),n===null?(o=Uv(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ue||(o=s.type,n=s.pendingProps,u=Eh(ke.current).createElement(o),u[At]=s,u[Ht]=n,Jt(u,o,n),Rt(u),s.stateNode=u):s.memoizedState=Uv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ns(s),n===null&&Ue&&(u=s.stateNode=Mv(s.type,s.pendingProps,ke.current),Yt=s,$n=!0,d=ot,ns(s.type)?(Ym=d,ot=Kn(u.firstChild)):ot=d),Xt(n,s,s.pendingProps.children,o),sh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ue&&((d=u=ot)&&(u=Tx(u,s.type,s.pendingProps,$n),u!==null?(s.stateNode=u,Yt=s,ot=Kn(u.firstChild),$n=!1,d=!0):d=!1),d||qi(s)),Ns(s),d=s.type,g=s.pendingProps,b=n!==null?n.memoizedProps:null,u=g.children,Fm(d,g)?u=null:b!==null&&Fm(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=Hf(n,s,L2,null,null,o),ou._currentValue=d),sh(n,s),Xt(n,s,u,o),s.child;case 6:return n===null&&Ue&&((n=o=ot)&&(o=Sx(o,s.pendingProps,$n),o!==null?(s.stateNode=o,Yt=s,ot=null,n=!0):n=!1),n||qi(s)),null;case 13:return x0(n,s,o);case 4:return Vt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ia(s,null,u,o):Xt(n,s,u,o),s.child;case 11:return p0(n,s,s.type,s.pendingProps,o);case 7:return Xt(n,s,s.pendingProps,o),s.child;case 8:return Xt(n,s,s.pendingProps.children,o),s.child;case 12:return Xt(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Hi(s,s.type,u.value),Xt(n,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ea(s),d=Wt(d),u=u(d),s.flags|=1,Xt(n,s,u,o),s.child;case 14:return y0(n,s,s.type,s.pendingProps,o);case 15:return _0(n,s,s.type,s.pendingProps,o);case 19:return R0(n,s,o);case 31:return G2(n,s,o);case 22:return v0(n,s,o,s.pendingProps);case 24:return ea(s),u=Wt(It),n===null?(d=Df(),d===null&&(d=it,g=Of(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Pf(s),Hi(s,It,d)):((n.lanes&o)!==0&&(Mf(n,s),Bl(s,null,null,o),zl()),d=n.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Hi(s,It,u)):(u=g.cache,Hi(s,It,u),u!==d.cache&&kf(s,[It],o,!0))),Xt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ui(n){n.flags|=4}function ym(n,s,o,u,d){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(tv())n.flags|=8192;else throw ra=Fc,jf}else n.flags&=-16777217}function I0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Fv(s))if(tv())n.flags|=8192;else throw ra=Fc,jf}function oh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?fc():536870912,n.lanes|=s,fo|=s)}function Kl(n,s){if(!Ue)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function lt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function Q2(n,s,o){var u=s.pendingProps;switch(xf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),si(It),ct(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Za(s)?ui(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rf())),lt(s),null;case 26:var d=s.type,g=s.memoizedState;return n===null?(ui(s),g!==null?(lt(s),I0(s,g)):(lt(s),ym(s,d,null,u,o))):g?g!==n.memoizedState?(ui(s),lt(s),I0(s,g)):(lt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&ui(s),lt(s),ym(s,d,n,u,o)),null;case 27:if(Oa(s),o=ke.current,d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ui(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return lt(s),null}n=de.current,Za(s)?l_(s):(n=Mv(d,u,o),s.stateNode=n,ui(s))}return lt(s),null;case 5:if(Oa(s),d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ui(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return lt(s),null}if(g=de.current,Za(s))l_(s);else{var b=Eh(ke.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?b.createElement(d,{is:u.is}):b.createElement(d)}}g[At]=s,g[Ht]=u;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=g;e:switch(Jt(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ui(s)}}return lt(s),ym(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&ui(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=ke.current,Za(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,d=Yt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[At]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||xv(n.nodeValue,o)),n||qi(s,!0)}else n=Eh(n).createTextNode(u),n[At]=s,s.stateNode=n}return lt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=Za(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[At]=s}else Js(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),n=!1}else o=Rf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Cn(s),s):(Cn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return lt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Za(s),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[At]=s}else Js(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),d=!1}else d=Rf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Cn(s),s):(Cn(s),null)}return Cn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),oh(s,s.updateQueue),lt(s),null);case 4:return ct(),n===null&&Um(s.stateNode.containerInfo),lt(s),null;case 10:return si(s.type),lt(s),null;case 19:if(te(wt),u=s.memoizedState,u===null)return lt(s),null;if(d=(s.flags&128)!==0,g=u.rendering,g===null)if(d)Kl(u,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=Qc(n),g!==null){for(s.flags|=128,Kl(u,!1),n=g.updateQueue,s.updateQueue=n,oh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)r_(o,n),o=o.sibling;return ue(wt,wt.current&1|2),Ue&&ri(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&hn()>dh&&(s.flags|=128,d=!0,Kl(u,!1),s.lanes=4194304)}else{if(!d)if(n=Qc(g),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,oh(s,n),Kl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ue)return lt(s),null}else 2*hn()-u.renderingStartTime>dh&&o!==536870912&&(s.flags|=128,d=!0,Kl(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(n=u.last,n!==null?n.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=hn(),n.sibling=null,o=wt.current,ue(wt,d?o&1|2:o&1),Ue&&ri(s,u.treeForkCount),n):(lt(s),null);case 22:case 23:return Cn(s),zf(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),o=s.updateQueue,o!==null&&oh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&te(ta),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),si(It),lt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Y2(n,s){switch(xf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return si(It),ct(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Oa(s),null;case 31:if(s.memoizedState!==null){if(Cn(s),s.alternate===null)throw Error(i(340));Js()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Cn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Js()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return te(wt),null;case 4:return ct(),null;case 10:return si(s.type),null;case 22:case 23:return Cn(s),zf(),n!==null&&te(ta),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return si(It),null;case 25:return null;default:return null}}function k0(n,s){switch(xf(s),s.tag){case 3:si(It),ct();break;case 26:case 27:case 5:Oa(s);break;case 4:ct();break;case 31:s.memoizedState!==null&&Cn(s);break;case 13:Cn(s);break;case 19:te(wt);break;case 10:si(s.type);break;case 22:case 23:Cn(s),zf(),n!==null&&te(ta);break;case 24:si(It)}}function Ql(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&n)===n){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(S){Xe(s,s.return,S)}}function Yi(n,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&n)===n){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,d=s;var N=o,$=S;try{$()}catch(J){Xe(d,N,J)}}}u=u.next}while(u!==g)}}catch(J){Xe(s,s.return,J)}}function O0(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{w_(s,o)}catch(u){Xe(n,n.return,u)}}}function N0(n,s,o){o.props=aa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Xe(n,s,u)}}function Yl(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(d){Xe(n,s,d)}}function zr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Xe(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Xe(n,s,d)}else o.current=null}function D0(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Xe(n,n.return,d)}}function _m(n,s,o){try{var u=n.stateNode;yx(u,n.type,o,s),u[Ht]=s}catch(d){Xe(n,n.return,d)}}function j0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ns(n.type)||n.tag===4}function vm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||j0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ns(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bm(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=nr));else if(u!==4&&(u===27&&ns(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(bm(n,s,o),n=n.sibling;n!==null;)bm(n,s,o),n=n.sibling}function lh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&ns(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(lh(n,s,o),n=n.sibling;n!==null;)lh(n,s,o),n=n.sibling}function P0(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Jt(s,u,o),s[At]=n,s[Ht]=o}catch(g){Xe(n,n.return,g)}}var ci=!1,Nt=!1,wm=!1,M0=typeof WeakSet=="function"?WeakSet:Set,$t=null;function W2(n,s){if(n=n.containerInfo,qm=Ih,n=Qy(n),mf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,S=-1,N=-1,$=0,J=0,ee=n,G=null;t:for(;;){for(var W;ee!==o||d!==0&&ee.nodeType!==3||(S=b+d),ee!==g||u!==0&&ee.nodeType!==3||(N=b+u),ee.nodeType===3&&(b+=ee.nodeValue.length),(W=ee.firstChild)!==null;)G=ee,ee=W;for(;;){if(ee===n)break t;if(G===o&&++$===d&&(S=b),G===g&&++J===u&&(N=b),(W=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=W}o=S===-1||N===-1?null:{start:S,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hm={focusedElem:n,selectionRange:o},Ih=!1,$t=s;$t!==null;)if(s=$t,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,$t=n;else for(;$t!==null;){switch(s=$t,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)d=n[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var fe=aa(o.type,d);n=u.getSnapshotBeforeUpdate(fe,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(be){Xe(o,o.return,be)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)Gm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Gm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,$t=n;break}$t=s.return}}function V0(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:di(n,o),u&4&&Ql(5,o);break;case 1:if(di(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(b){Xe(o,o.return,b)}else{var d=aa(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Xe(o,o.return,b)}}u&64&&O0(o),u&512&&Yl(o,o.return);break;case 3:if(di(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{w_(n,s)}catch(b){Xe(o,o.return,b)}}break;case 27:s===null&&u&4&&P0(o);case 26:case 5:di(n,o),s===null&&u&4&&D0(o),u&512&&Yl(o,o.return);break;case 12:di(n,o);break;case 31:di(n,o),u&4&&z0(n,o);break;case 13:di(n,o),u&4&&B0(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=sx.bind(null,o),xx(n,o))));break;case 22:if(u=o.memoizedState!==null||ci,!u){s=s!==null&&s.memoizedState!==null||Nt,d=ci;var g=Nt;ci=u,(Nt=s)&&!g?fi(n,o,(o.subtreeFlags&8772)!==0):di(n,o),ci=d,Nt=g}break;case 30:break;default:di(n,o)}}function L0(n){var s=n.alternate;s!==null&&(n.alternate=null,L0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ma(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var dt=null,yn=!1;function hi(n,s,o){for(o=o.child;o!==null;)U0(n,s,o),o=o.sibling}function U0(n,s,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Jn,o)}catch{}switch(o.tag){case 26:Nt||zr(o,s),hi(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Nt||zr(o,s);var u=dt,d=yn;ns(o.type)&&(dt=o.stateNode,yn=!1),hi(n,s,o),iu(o.stateNode),dt=u,yn=d;break;case 5:Nt||zr(o,s);case 6:if(u=dt,d=yn,dt=null,hi(n,s,o),dt=u,yn=d,dt!==null)if(yn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(g){Xe(o,s,g)}else try{dt.removeChild(o.stateNode)}catch(g){Xe(o,s,g)}break;case 18:dt!==null&&(yn?(n=dt,Ov(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),wo(n)):Ov(dt,o.stateNode));break;case 4:u=dt,d=yn,dt=o.stateNode.containerInfo,yn=!0,hi(n,s,o),dt=u,yn=d;break;case 0:case 11:case 14:case 15:Yi(2,o,s),Nt||Yi(4,o,s),hi(n,s,o);break;case 1:Nt||(zr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&N0(o,s,u)),hi(n,s,o);break;case 21:hi(n,s,o);break;case 22:Nt=(u=Nt)||o.memoizedState!==null,hi(n,s,o),Nt=u;break;default:hi(n,s,o)}}function z0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{wo(n)}catch(o){Xe(s,s.return,o)}}}function B0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{wo(n)}catch(o){Xe(s,s.return,o)}}function X2(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new M0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new M0),s;default:throw Error(i(435,n.tag))}}function uh(n,s){var o=X2(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=ax.bind(null,n,u);u.then(d,d)}})}function _n(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=n,b=s,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(ns(S.type)){dt=S.stateNode,yn=!1;break e}break;case 5:dt=S.stateNode,yn=!1;break e;case 3:case 4:dt=S.stateNode.containerInfo,yn=!0;break e}S=S.return}if(dt===null)throw Error(i(160));U0(g,b,d),dt=null,yn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)q0(s,n),s=s.sibling}var lr=null;function q0(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(s,n),vn(n),u&4&&(Yi(3,n,n.return),Ql(3,n),Yi(5,n,n.return));break;case 1:_n(s,n),vn(n),u&512&&(Nt||o===null||zr(o,o.return)),u&64&&ci&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=lr;if(_n(s,n),vn(n),u&512&&(Nt||o===null||zr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ar]||g[At]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Jt(g,u,o),g[At]=n,Rt(g),u=g;break e;case"link":var b=qv("link","href",d).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}g=d.createElement(u),Jt(g,u,o),d.head.appendChild(g);break;case"meta":if(b=qv("meta","content",d).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}g=d.createElement(u),Jt(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[At]=n,Rt(g),u=g}n.stateNode=u}else Hv(d,n.type,n.stateNode);else n.stateNode=Bv(d,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Hv(d,n.type,n.stateNode):Bv(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&_m(n,n.memoizedProps,o.memoizedProps)}break;case 27:_n(s,n),vn(n),u&512&&(Nt||o===null||zr(o,o.return)),o!==null&&u&4&&_m(n,n.memoizedProps,o.memoizedProps);break;case 5:if(_n(s,n),vn(n),u&512&&(Nt||o===null||zr(o,o.return)),n.flags&32){d=n.stateNode;try{pn(d,"")}catch(fe){Xe(n,n.return,fe)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,_m(n,d,o!==null?o.memoizedProps:d)),u&1024&&(wm=!0);break;case 6:if(_n(s,n),vn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(fe){Xe(n,n.return,fe)}}break;case 3:if(xh=null,d=lr,lr=Th(s.containerInfo),_n(s,n),lr=d,vn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{wo(s.containerInfo)}catch(fe){Xe(n,n.return,fe)}wm&&(wm=!1,H0(n));break;case 4:u=lr,lr=Th(n.stateNode.containerInfo),_n(s,n),vn(n),lr=u;break;case 12:_n(s,n),vn(n);break;case 31:_n(s,n),vn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,uh(n,u)));break;case 13:_n(s,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hh=hn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,uh(n,u)));break;case 22:d=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,$=ci,J=Nt;if(ci=$||d,Nt=J||N,_n(s,n),Nt=J,ci=$,vn(n),u&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||N||ci||Nt||oa(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){N=o=s;try{if(g=N.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(fe){Xe(N,N.return,fe)}}}else if(s.tag===6){if(o===null){N=s;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(fe){Xe(N,N.return,fe)}}}else if(s.tag===18){if(o===null){N=s;try{var W=N.stateNode;d?Nv(W,!0):Nv(N.stateNode,!1)}catch(fe){Xe(N,N.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,uh(n,o))));break;case 19:_n(s,n),vn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,uh(n,u)));break;case 30:break;case 21:break;default:_n(s,n),vn(n)}}function vn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(j0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=vm(n);lh(n,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(pn(b,""),o.flags&=-33);var S=vm(n);lh(n,S,b);break;case 3:case 4:var N=o.stateNode.containerInfo,$=vm(n);bm(n,$,N);break;default:throw Error(i(161))}}catch(J){Xe(n,n.return,J)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function H0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;H0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function di(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)V0(n,s.alternate,s),s=s.sibling}function oa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Yi(4,s,s.return),oa(s);break;case 1:zr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&N0(s,s.return,o),oa(s);break;case 27:iu(s.stateNode);case 26:case 5:zr(s,s.return),oa(s);break;case 22:s.memoizedState===null&&oa(s);break;case 30:oa(s);break;default:oa(s)}n=n.sibling}}function fi(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=n,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:fi(d,g,o),Ql(4,g);break;case 1:if(fi(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){Xe(u,u.return,$)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)b_(N[d],S)}catch($){Xe(u,u.return,$)}}o&&b&64&&O0(g),Yl(g,g.return);break;case 27:P0(g);case 26:case 5:fi(d,g,o),o&&u===null&&b&4&&D0(g),Yl(g,g.return);break;case 12:fi(d,g,o);break;case 31:fi(d,g,o),o&&b&4&&z0(d,g);break;case 13:fi(d,g,o),o&&b&4&&B0(d,g);break;case 22:g.memoizedState===null&&fi(d,g,o),Yl(g,g.return);break;case 30:break;default:fi(d,g,o)}s=s.sibling}}function Em(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Pl(o))}function Tm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pl(n))}function ur(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)F0(n,s,o,u),s=s.sibling}function F0(n,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:ur(n,s,o,u),d&2048&&Ql(9,s);break;case 1:ur(n,s,o,u);break;case 3:ur(n,s,o,u),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pl(n)));break;case 12:if(d&2048){ur(n,s,o,u),n=s.stateNode;try{var g=s.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Xe(s,s.return,N)}}else ur(n,s,o,u);break;case 31:ur(n,s,o,u);break;case 13:ur(n,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?ur(n,s,o,u):Wl(n,s):g._visibility&2?ur(n,s,o,u):(g._visibility|=2,uo(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Em(b,s);break;case 24:ur(n,s,o,u),d&2048&&Tm(s.alternate,s);break;default:ur(n,s,o,u)}}function uo(n,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,b=s,S=o,N=u,$=b.flags;switch(b.tag){case 0:case 11:case 15:uo(g,b,S,N,d),Ql(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?uo(g,b,S,N,d):Wl(g,b):(J._visibility|=2,uo(g,b,S,N,d)),d&&$&2048&&Em(b.alternate,b);break;case 24:uo(g,b,S,N,d),d&&$&2048&&Tm(b.alternate,b);break;default:uo(g,b,S,N,d)}s=s.sibling}}function Wl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,d=u.flags;switch(u.tag){case 22:Wl(o,u),d&2048&&Em(u.alternate,u);break;case 24:Wl(o,u),d&2048&&Tm(u.alternate,u);break;default:Wl(o,u)}s=s.sibling}}var Xl=8192;function co(n,s,o){if(n.subtreeFlags&Xl)for(n=n.child;n!==null;)$0(n,s,o),n=n.sibling}function $0(n,s,o){switch(n.tag){case 26:co(n,s,o),n.flags&Xl&&n.memoizedState!==null&&Vx(o,lr,n.memoizedState,n.memoizedProps);break;case 5:co(n,s,o);break;case 3:case 4:var u=lr;lr=Th(n.stateNode.containerInfo),co(n,s,o),lr=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Xl,Xl=16777216,co(n,s,o),Xl=u):co(n,s,o));break;default:co(n,s,o)}}function G0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Jl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$t=u,Q0(u,n)}G0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)K0(n),n=n.sibling}function K0(n){switch(n.tag){case 0:case 11:case 15:Jl(n),n.flags&2048&&Yi(9,n,n.return);break;case 3:Jl(n);break;case 12:Jl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,ch(n)):Jl(n);break;default:Jl(n)}}function ch(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$t=u,Q0(u,n)}G0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Yi(8,s,s.return),ch(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ch(s));break;default:ch(s)}n=n.sibling}}function Q0(n,s){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:Yi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Pl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,$t=u;else e:for(o=n;$t!==null;){u=$t;var d=u.sibling,g=u.return;if(L0(u),u===o){$t=null;break e}if(d!==null){d.return=g,$t=d;break e}$t=g}}}var J2={getCacheForType:function(n){var s=Wt(It),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return Wt(It).controller.signal}},Z2=typeof WeakMap=="function"?WeakMap:Map,Ge=0,it=null,Ne=null,je=0,We=0,In=null,Wi=!1,ho=!1,Sm=!1,mi=0,_t=0,Xi=0,la=0,xm=0,kn=0,fo=0,Zl=null,bn=null,Am=!1,hh=0,Y0=0,dh=1/0,fh=null,Ji=null,Ut=0,Zi=null,mo=null,gi=0,Rm=0,Cm=null,W0=null,eu=0,Im=null;function On(){return(Ge&2)!==0&&je!==0?je&-je:X.T!==null?Pm():mc()}function X0(){if(kn===0)if((je&536870912)===0||Ue){var n=Ps;Ps<<=1,(Ps&3932160)===0&&(Ps=262144),kn=n}else kn=536870912;return n=Rn.current,n!==null&&(n.flags|=32),kn}function wn(n,s,o){(n===it&&(We===2||We===9)||n.cancelPendingCommit!==null)&&(go(n,0),es(n,je,kn,!1)),Ms(n,o),((Ge&2)===0||n!==it)&&(n===it&&((Ge&2)===0&&(la|=o),_t===4&&es(n,je,kn,!1)),Br(n))}function J0(n,s,o){if((Ge&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||Zn(n,s),d=u?nx(n,s):Om(n,s,!0),g=u;do{if(d===0){ho&&!u&&es(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!ex(o)){d=Om(n,s,!1),g=!1;continue}if(d===2){if(g=s,n.errorRecoveryDisabledLanes&g)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var S=n;d=Zl;var N=S.current.memoizedState.isDehydrated;if(N&&(go(S,b).flags|=256),b=Om(S,b,!1),b!==2){if(Sm&&!N){S.errorRecoveryDisabledLanes|=g,la|=g,d=4;break e}g=bn,bn=d,g!==null&&(bn===null?bn=g:bn.push.apply(bn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){go(n,0),es(n,s,0,!0);break}e:{switch(u=n,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:es(u,s,kn,!Wi);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=hh+300-hn(),10<d)){if(es(u,s,kn,!Wi),Tr(u,0,!0)!==0)break e;gi=s,u.timeoutHandle=Iv(Z0.bind(null,u,o,bn,fh,Am,s,kn,la,fo,Wi,g,"Throttled",-0,0),d);break e}Z0(u,o,bn,fh,Am,s,kn,la,fo,Wi,g,null,-0,0)}}break}while(!0);Br(n)}function Z0(n,s,o,u,d,g,b,S,N,$,J,ee,G,W){if(n.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nr},$0(s,g,ee);var fe=(g&62914560)===g?hh-hn():(g&4194048)===g?Y0-hn():0;if(fe=Lx(ee,fe),fe!==null){gi=g,n.cancelPendingCommit=fe(ov.bind(null,n,s,g,o,u,d,b,S,N,J,ee,null,G,W)),es(n,g,b,!$);return}}ov(n,s,g,o,u,d,b,S,N)}function ex(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!xn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function es(n,s,o,u){s&=~xm,s&=~la,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var d=s;0<d;){var g=31-vt(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&Vs(n,o,s)}function mh(){return(Ge&6)===0?(tu(0),!1):!0}function km(){if(Ne!==null){if(We===0)var n=Ne.return;else n=Ne,ii=Zs=null,Gf(n),io=null,Vl=0,n=Ne;for(;n!==null;)k0(n.alternate,n),n=n.return;Ne=null}}function go(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,bx(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),gi=0,km(),it=n,Ne=o=ni(n.current,null),je=s,We=0,In=null,Wi=!1,ho=Zn(n,s),Sm=!1,fo=kn=xm=la=Xi=_t=0,bn=Zl=null,Am=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var d=31-vt(u),g=1<<d;s|=n[d],u&=~g}return mi=s,Pc(),o}function ev(n,s){Ie=null,X.H=$l,s===ro||s===Hc?(s=p_(),We=3):s===jf?(s=p_(),We=4):We=s===lm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,In=s,Ne===null&&(_t=1,rh(n,qn(s,n.current)))}function tv(){var n=Rn.current;return n===null?!0:(je&4194048)===je?Gn===null:(je&62914560)===je||(je&536870912)!==0?n===Gn:!1}function nv(){var n=X.H;return X.H=$l,n===null?$l:n}function rv(){var n=X.A;return X.A=J2,n}function gh(){_t=4,Wi||(je&4194048)!==je&&Rn.current!==null||(ho=!0),(Xi&134217727)===0&&(la&134217727)===0||it===null||es(it,je,kn,!1)}function Om(n,s,o){var u=Ge;Ge|=2;var d=nv(),g=rv();(it!==n||je!==s)&&(fh=null,go(n,s)),s=!1;var b=_t;e:do try{if(We!==0&&Ne!==null){var S=Ne,N=In;switch(We){case 8:km(),b=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(s=!0);var $=We;if(We=0,In=null,po(n,S,N,$),o&&ho){b=0;break e}break;default:$=We,We=0,In=null,po(n,S,N,$)}}tx(),b=_t;break}catch(J){ev(n,J)}while(!0);return s&&n.shellSuspendCounter++,ii=Zs=null,Ge=u,X.H=d,X.A=g,Ne===null&&(it=null,je=0,Pc()),b}function tx(){for(;Ne!==null;)iv(Ne)}function nx(n,s){var o=Ge;Ge|=2;var u=nv(),d=rv();it!==n||je!==s?(fh=null,dh=hn()+500,go(n,s)):ho=Zn(n,s);e:do try{if(We!==0&&Ne!==null){s=Ne;var g=In;t:switch(We){case 1:We=0,In=null,po(n,s,g,1);break;case 2:case 9:if(m_(g)){We=0,In=null,sv(s);break}s=function(){We!==2&&We!==9||it!==n||(We=7),Br(n)},g.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:m_(g)?(We=0,In=null,sv(s)):(We=0,In=null,po(n,s,g,7));break;case 5:var b=null;switch(Ne.tag){case 26:b=Ne.memoizedState;case 5:case 27:var S=Ne;if(b?Fv(b):S.stateNode.complete){We=0,In=null;var N=S.sibling;if(N!==null)Ne=N;else{var $=S.return;$!==null?(Ne=$,ph($)):Ne=null}break t}}We=0,In=null,po(n,s,g,5);break;case 6:We=0,In=null,po(n,s,g,6);break;case 8:km(),_t=6;break e;default:throw Error(i(462))}}rx();break}catch(J){ev(n,J)}while(!0);return ii=Zs=null,X.H=u,X.A=d,Ge=o,Ne!==null?0:(it=null,je=0,Pc(),_t)}function rx(){for(;Ne!==null&&!of();)iv(Ne)}function iv(n){var s=C0(n.alternate,n,mi);n.memoizedProps=n.pendingProps,s===null?ph(n):Ne=s}function sv(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=E0(o,s,s.pendingProps,s.type,void 0,je);break;case 11:s=E0(o,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:Gf(s);default:k0(o,s),s=Ne=r_(s,mi),s=C0(o,s,mi)}n.memoizedProps=n.pendingProps,s===null?ph(n):Ne=s}function po(n,s,o,u){ii=Zs=null,Gf(s),io=null,Vl=0;var d=s.return;try{if($2(n,d,s,o,je)){_t=1,rh(n,qn(o,n.current)),Ne=null;return}}catch(g){if(d!==null)throw Ne=d,g;_t=1,rh(n,qn(o,n.current)),Ne=null;return}s.flags&32768?(Ue||u===1?n=!0:ho||(je&536870912)!==0?n=!1:(Wi=n=!0,(u===2||u===9||u===3||u===6)&&(u=Rn.current,u!==null&&u.tag===13&&(u.flags|=16384))),av(s,n)):ph(s)}function ph(n){var s=n;do{if((s.flags&32768)!==0){av(s,Wi);return}n=s.return;var o=Q2(s.alternate,s,mi);if(o!==null){Ne=o;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=n}while(s!==null);_t===0&&(_t=5)}function av(n,s){do{var o=Y2(n.alternate,n);if(o!==null){o.flags&=32767,Ne=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=o}while(n!==null);_t=6,Ne=null}function ov(n,s,o,u,d,g,b,S,N){n.cancelPendingCommit=null;do yh();while(Ut!==0);if((Ge&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=vf,cf(n,o,g,b,S,N),n===it&&(Ne=it=null,je=0),mo=s,Zi=n,gi=o,Rm=g,Cm=d,W0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ox(ki,function(){return dv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,d=le.p,le.p=2,b=Ge,Ge|=4;try{W2(n,s,o)}finally{Ge=b,le.p=d,X.T=u}}Ut=1,lv(),uv(),cv()}}function lv(){if(Ut===1){Ut=0;var n=Zi,s=mo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=le.p;le.p=2;var d=Ge;Ge|=4;try{q0(s,n);var g=Hm,b=Qy(n.containerInfo),S=g.focusedElem,N=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&Ky(S.ownerDocument.documentElement,S)){if(N!==null&&mf(S)){var $=N.start,J=N.end;if(J===void 0&&(J=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(J,S.value.length);else{var ee=S.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var W=G.getSelection(),fe=S.textContent.length,be=Math.min(N.start,fe),tt=N.end===void 0?be:Math.min(N.end,fe);!W.extend&&be>tt&&(b=tt,tt=be,be=b);var U=Gy(S,be),M=Gy(S,tt);if(U&&M&&(W.rangeCount!==1||W.anchorNode!==U.node||W.anchorOffset!==U.offset||W.focusNode!==M.node||W.focusOffset!==M.offset)){var F=ee.createRange();F.setStart(U.node,U.offset),W.removeAllRanges(),be>tt?(W.addRange(F),W.extend(M.node,M.offset)):(F.setEnd(M.node,M.offset),W.addRange(F))}}}}for(ee=[],W=S;W=W.parentNode;)W.nodeType===1&&ee.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var Z=ee[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ih=!!qm,Hm=qm=null}finally{Ge=d,le.p=u,X.T=o}}n.current=s,Ut=2}}function uv(){if(Ut===2){Ut=0;var n=Zi,s=mo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=le.p;le.p=2;var d=Ge;Ge|=4;try{V0(n,s.alternate,s)}finally{Ge=d,le.p=u,X.T=o}}Ut=3}}function cv(){if(Ut===4||Ut===3){Ut=0,oc();var n=Zi,s=mo,o=gi,u=W0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ut=5:(Ut=0,mo=Zi=null,hv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Ji=null),Jr(o),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Jn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=X.T,d=le.p,le.p=2,X.T=null;try{for(var g=n.onRecoverableError,b=0;b<u.length;b++){var S=u[b];g(S.value,{componentStack:S.stack})}}finally{X.T=s,le.p=d}}(gi&3)!==0&&yh(),Br(n),d=n.pendingLanes,(o&261930)!==0&&(d&42)!==0?n===Im?eu++:(eu=0,Im=n):eu=0,tu(0)}}function hv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Pl(s)))}function yh(){return lv(),uv(),cv(),dv()}function dv(){if(Ut!==5)return!1;var n=Zi,s=Rm;Rm=0;var o=Jr(gi),u=X.T,d=le.p;try{le.p=32>o?32:o,X.T=null,o=Cm,Cm=null;var g=Zi,b=gi;if(Ut=0,mo=Zi=null,gi=0,(Ge&6)!==0)throw Error(i(331));var S=Ge;if(Ge|=4,K0(g.current),F0(g,g.current,b,o),Ge=S,tu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Jn,g)}catch{}return!0}finally{le.p=d,X.T=u,hv(n,s)}}function fv(n,s,o){s=qn(o,s),s=om(n.stateNode,s,2),n=Gi(n,s,2),n!==null&&(Ms(n,2),Br(n))}function Xe(n,s,o){if(n.tag===3)fv(n,n,o);else for(;s!==null;){if(s.tag===3){fv(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ji===null||!Ji.has(u))){n=qn(o,n),o=m0(2),u=Gi(s,o,2),u!==null&&(g0(o,u,s,n),Ms(u,2),Br(u));break}}s=s.return}}function Nm(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new Z2;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Sm=!0,d.add(o),n=ix.bind(null,n,s,o),s.then(n,n))}function ix(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,it===n&&(je&o)===o&&(_t===4||_t===3&&(je&62914560)===je&&300>hn()-hh?(Ge&2)===0&&go(n,0):xm|=o,fo===je&&(fo=0)),Br(n)}function mv(n,s){s===0&&(s=fc()),n=Ws(n,s),n!==null&&(Ms(n,s),Br(n))}function sx(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),mv(n,o)}function ax(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),mv(n,o)}function ox(n,s){return Lt(n,s)}var _h=null,yo=null,Dm=!1,vh=!1,jm=!1,ts=0;function Br(n){n!==yo&&n.next===null&&(yo===null?_h=yo=n:yo=yo.next=n),vh=!0,Dm||(Dm=!0,ux())}function tu(n,s){if(!jm&&vh){jm=!0;do for(var o=!1,u=_h;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-vt(42|n)+1)-1,g&=d&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,_v(u,g))}else g=je,g=Tr(u,u===it?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Zn(u,g)||(o=!0,_v(u,g));u=u.next}while(o);jm=!1}}function lx(){gv()}function gv(){vh=Dm=!1;var n=0;ts!==0&&vx()&&(n=ts);for(var s=hn(),o=null,u=_h;u!==null;){var d=u.next,g=pv(u,s);g===0?(u.next=null,o===null?_h=d:o.next=d,d===null&&(yo=o)):(o=u,(n!==0||(g&3)!==0)&&(vh=!0)),u=d}Ut!==0&&Ut!==5||tu(n),ts!==0&&(ts=0)}function pv(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var b=31-vt(g),S=1<<b,N=d[b];N===-1?((S&o)===0||(S&u)!==0)&&(d[b]=uf(S,s)):N<=s&&(n.expiredLanes|=S),g&=~S}if(s=it,o=je,o=Tr(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(We===2||We===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ii(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Zn(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Ii(u),Jr(o)){case 2:case 8:o=hl;break;case 32:o=ki;break;case 268435456:o=lc;break;default:o=ki}return u=yv.bind(null,n),o=Lt(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Ii(u),n.callbackPriority=2,n.callbackNode=null,2}function yv(n,s){if(Ut!==0&&Ut!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(yh()&&n.callbackNode!==o)return null;var u=je;return u=Tr(n,n===it?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(J0(n,u,s),pv(n,hn()),n.callbackNode!=null&&n.callbackNode===o?yv.bind(null,n):null)}function _v(n,s){if(yh())return null;J0(n,s,!0)}function ux(){wx(function(){(Ge&6)!==0?Lt(cl,lx):gv()})}function Pm(){if(ts===0){var n=to;n===0&&(n=wr,wr<<=1,(wr&261888)===0&&(wr=256)),ts=n}return ts}function vv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:za(""+n)}function bv(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function cx(n,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=vv((d[Ht]||null).action),b=u.submitter;b&&(s=(s=b[Ht]||null)?vv(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var S=new jr("action","action",null,u,d);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ts!==0){var N=b?bv(d,b):new FormData(d);tm(o,{pending:!0,data:N,method:d.method,action:g},null,N)}}else typeof g=="function"&&(S.preventDefault(),N=b?bv(d,b):new FormData(d),tm(o,{pending:!0,data:N,method:d.method,action:g},g,N))},currentTarget:d}]})}}for(var Mm=0;Mm<_f.length;Mm++){var Vm=_f[Mm],hx=Vm.toLowerCase(),dx=Vm[0].toUpperCase()+Vm.slice(1);or(hx,"on"+dx)}or(Xy,"onAnimationEnd"),or(Jy,"onAnimationIteration"),or(Zy,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(C2,"onTransitionRun"),or(I2,"onTransitionStart"),or(k2,"onTransitionCancel"),or(e_,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function wv(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var S=u[b],N=S.instance,$=S.currentTarget;if(S=S.listener,N!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(J){jc(J)}d.currentTarget=null,g=N}else for(b=0;b<u.length;b++){if(S=u[b],N=S.instance,$=S.currentTarget,S=S.listener,N!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(J){jc(J)}d.currentTarget=null,g=N}}}}function De(n,s){var o=s[Pa];o===void 0&&(o=s[Pa]=new Set);var u=n+"__bubble";o.has(u)||(Ev(s,n,2,!1),o.add(u))}function Lm(n,s,o){var u=0;s&&(u|=4),Ev(o,n,u,s)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Um(n){if(!n[bh]){n[bh]=!0,ml.forEach(function(o){o!=="selectionchange"&&(fx.has(o)||Lm(o,!1,n),Lm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[bh]||(s[bh]=!0,Lm("selectionchange",!1,s))}}function Ev(n,s,o,u){switch(Xv(s)){case 2:var d=Bx;break;case 8:d=qx;break;default:d=eg}o=d.bind(null,s,o,n),d=void 0,!qs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(s,o,{capture:!0,passive:d}):n.addEventListener(s,o,!0):d!==void 0?n.addEventListener(s,o,{passive:d}):n.addEventListener(s,o,!1)}function zm(n,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===d)break;if(b===4)for(b=u.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;S!==null;){if(b=Rr(S),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){u=g=b;continue e}S=S.parentNode}}u=u.return}Mi(function(){var $=g,J=Ln(o),ee=[];e:{var G=t_.get(n);if(G!==void 0){var W=jr,fe=n;switch(n){case"keypress":if(Fs(o)===0)break e;case"keydown":case"keyup":W=Oc;break;case"focusin":fe="focus",W=Gs;break;case"focusout":fe="blur",W=Gs;break;case"beforeblur":case"afterblur":W=Gs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=y;break;case Xy:case Jy:case Zy:W=Sc;break;case e_:W=x;break;case"scroll":case"scrollend":W=Al;break;case"wheel":W=Y;break;case"copy":case"cut":case"paste":W=xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ti;break;case"toggle":case"beforetoggle":W=Ce}var be=(s&4)!==0,tt=!be&&(n==="scroll"||n==="scrollend"),U=be?G!==null?G+"Capture":null:G;be=[];for(var M=$,F;M!==null;){var Z=M;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||U===null||(Z=rr(M,U),Z!=null&&be.push(ru(M,Z,F))),tt)break;M=M.return}0<be.length&&(G=new W(G,fe,null,o,J),ee.push({event:G,listeners:be}))}}if((s&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",G&&o!==Tl&&(fe=o.relatedTarget||o.fromElement)&&(Rr(fe)||fe[xr]))break e;if((W||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,W?(fe=o.relatedTarget||o.toElement,W=$,fe=fe?Rr(fe):null,fe!==null&&(tt=l(fe),be=fe.tag,fe!==tt||be!==5&&be!==27&&be!==6)&&(fe=null)):(W=null,fe=$),W!==fe)){if(be=Rl,Z="onMouseLeave",U="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(be=ti,Z="onPointerLeave",U="onPointerEnter",M="pointer"),tt=W==null?G:Tn(W),F=fe==null?G:Tn(fe),G=new be(Z,M+"leave",W,o,J),G.target=tt,G.relatedTarget=F,Z=null,Rr(J)===$&&(be=new be(U,M+"enter",fe,o,J),be.target=F,be.relatedTarget=tt,Z=be),tt=Z,W&&fe)t:{for(be=mx,U=W,M=fe,F=0,Z=U;Z;Z=be(Z))F++;Z=0;for(var ye=M;ye;ye=be(ye))Z++;for(;0<F-Z;)U=be(U),F--;for(;0<Z-F;)M=be(M),Z--;for(;F--;){if(U===M||M!==null&&U===M.alternate){be=U;break t}U=be(U),M=be(M)}be=null}else be=null;W!==null&&Tv(ee,G,W,be,!1),fe!==null&&tt!==null&&Tv(ee,tt,fe,be,!0)}}e:{if(G=$?Tn($):window,W=G.nodeName&&G.nodeName.toLowerCase(),W==="select"||W==="input"&&G.type==="file")var He=zy;else if(Ly(G))if(By)He=x2;else{He=T2;var me=E2}else W=G.nodeName,!W||W.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?$&&Ua($.elementType)&&(He=zy):He=S2;if(He&&(He=He(n,$))){Uy(ee,He,o,J);break e}me&&me(n,G,$),n==="focusout"&&$&&G.type==="number"&&$.memoizedProps.value!=null&&bl(G,"number",G.value)}switch(me=$?Tn($):window,n){case"focusin":(Ly(me)||me.contentEditable==="true")&&(Ka=me,gf=$,Nl=null);break;case"focusout":Nl=gf=Ka=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,Yy(ee,o,J);break;case"selectionchange":if(R2)break;case"keydown":case"keyup":Yy(ee,o,J)}var Oe;if($e)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ga?Ks(n,o)&&(Pe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(Vr&&o.locale!=="ko"&&(Ga||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ga&&(Oe=xl()):(Dr=J,Sl="value"in Dr?Dr.value:Dr.textContent,Ga=!0)),me=wh($,Pe),0<me.length&&(Pe=new Mr(Pe,n,null,o,J),ee.push({event:Pe,listeners:me}),Oe?Pe.data=Oe:(Oe=$a(o),Oe!==null&&(Pe.data=Oe)))),(Oe=zn?_2(n,o):v2(n,o))&&(Pe=wh($,"onBeforeInput"),0<Pe.length&&(me=new Mr("onBeforeInput","beforeinput",null,o,J),ee.push({event:me,listeners:Pe}),me.data=Oe)),cx(ee,n,$,o,J)}wv(ee,s)})}function ru(n,s,o){return{instance:n,listener:s,currentTarget:o}}function wh(n,s){for(var o=s+"Capture",u=[];n!==null;){var d=n,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=rr(n,o),d!=null&&u.unshift(ru(n,d,g)),d=rr(n,s),d!=null&&u.push(ru(n,d,g))),n.tag===3)return u;n=n.return}return[]}function mx(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Tv(n,s,o,u,d){for(var g=s._reactName,b=[];o!==null&&o!==u;){var S=o,N=S.alternate,$=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||$===null||(N=$,d?($=rr(o,g),$!=null&&b.unshift(ru(o,$,N))):d||($=rr(o,g),$!=null&&b.push(ru(o,$,N)))),o=o.return}b.length!==0&&n.push({event:s,listeners:b})}var gx=/\r\n?/g,px=/\u0000|\uFFFD/g;function Sv(n){return(typeof n=="string"?n:""+n).replace(gx,`
`).replace(px,"")}function xv(n,s){return s=Sv(s),Sv(n)===s}function et(n,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||pn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&pn(n,""+u);break;case"className":Sn(n,"class",u);break;case"tabIndex":Sn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(n,o,u);break;case"style":El(n,u,g);break;case"data":if(s!=="object"){Sn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=za(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&et(n,s,"name",d.name,d,null),et(n,s,"formEncType",d.formEncType,d,null),et(n,s,"formMethod",d.formMethod,d,null),et(n,s,"formTarget",d.formTarget,d,null)):(et(n,s,"encType",d.encType,d,null),et(n,s,"method",d.method,d,null),et(n,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=za(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=nr);break;case"onScroll":u!=null&&De("scroll",n);break;case"onScrollEnd":u!=null&&De("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=za(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":De("beforetoggle",n),De("toggle",n),Va(n,"popover",u);break;case"xlinkActuate":Ct(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ct(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ct(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ct(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ct(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ct(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ct(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ct(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ct(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Va(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=wc.get(o)||o,Va(n,o,u))}}function Bm(n,s,o,u,d,g){switch(o){case"style":El(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?pn(n,u):(typeof u=="number"||typeof u=="bigint")&&pn(n,""+u);break;case"onScroll":u!=null&&De("scroll",n);break;case"onScrollEnd":u!=null&&De("scrollend",n);break;case"onClick":u!=null&&(n.onclick=nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=n[Ht]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,d);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Va(n,o,u)}}}function Jt(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",n),De("load",n);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:et(n,s,g,b,o,null)}}d&&et(n,s,"srcSet",o.srcSet,o,null),u&&et(n,s,"src",o.src,o,null);return;case"input":De("invalid",n);var S=g=b=d=null,N=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":d=J;break;case"type":b=J;break;case"checked":N=J;break;case"defaultChecked":$=J;break;case"value":g=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:et(n,s,u,J,o,null)}}_c(n,g,S,N,$,b,d,!1);return;case"select":De("invalid",n),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:et(n,s,d,S,o,null)}s=g,o=b,n.multiple=!!u,s!=null?Ni(n,!!u,s,!1):o!=null&&Ni(n,!!u,o,!0);return;case"textarea":De("invalid",n),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:et(n,s,b,S,o,null)}Di(n,u,d,g);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(n,s,N,u,o,null)}return;case"dialog":De("beforetoggle",n),De("toggle",n),De("cancel",n),De("close",n);break;case"iframe":case"object":De("load",n);break;case"video":case"audio":for(u=0;u<nu.length;u++)De(nu[u],n);break;case"image":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"embed":case"source":case"link":De("error",n),De("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:et(n,s,$,u,o,null)}return;default:if(Ua(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&Bm(n,s,J,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&et(n,s,S,u,o,null))}function yx(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,S=null,N=null,$=null,J=null;for(W in o){var ee=o[W];if(o.hasOwnProperty(W)&&ee!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":N=ee;default:u.hasOwnProperty(W)||et(n,s,W,null,u,ee)}}for(var G in u){var W=u[G];if(ee=o[G],u.hasOwnProperty(G)&&(W!=null||ee!=null))switch(G){case"type":g=W;break;case"name":d=W;break;case"checked":$=W;break;case"defaultChecked":J=W;break;case"value":b=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==ee&&et(n,s,G,W,u,ee)}}La(n,b,S,N,$,J,g,d);return;case"select":W=b=S=G=null;for(g in o)if(N=o[g],o.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":W=N;default:u.hasOwnProperty(g)||et(n,s,g,null,u,N)}for(d in u)if(g=u[d],N=o[d],u.hasOwnProperty(d)&&(g!=null||N!=null))switch(d){case"value":G=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==N&&et(n,s,d,g,u,N)}s=S,o=b,u=W,G!=null?Ni(n,!!o,G,!1):!!u!=!!o&&(s!=null?Ni(n,!!o,s,!0):Ni(n,!!o,o?[]:"",!1));return;case"textarea":W=G=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(n,s,S,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":G=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&et(n,s,b,d,u,g)}vc(n,G,W);return;case"option":for(var fe in o)if(G=o[fe],o.hasOwnProperty(fe)&&G!=null&&!u.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:et(n,s,fe,null,u,G)}for(N in u)if(G=u[N],W=o[N],u.hasOwnProperty(N)&&G!==W&&(G!=null||W!=null))switch(N){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(n,s,N,G,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)G=o[be],o.hasOwnProperty(be)&&G!=null&&!u.hasOwnProperty(be)&&et(n,s,be,null,u,G);for($ in u)if(G=u[$],W=o[$],u.hasOwnProperty($)&&G!==W&&(G!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:et(n,s,$,G,u,W)}return;default:if(Ua(s)){for(var tt in o)G=o[tt],o.hasOwnProperty(tt)&&G!==void 0&&!u.hasOwnProperty(tt)&&Bm(n,s,tt,void 0,u,G);for(J in u)G=u[J],W=o[J],!u.hasOwnProperty(J)||G===W||G===void 0&&W===void 0||Bm(n,s,J,G,u,W);return}}for(var U in o)G=o[U],o.hasOwnProperty(U)&&G!=null&&!u.hasOwnProperty(U)&&et(n,s,U,null,u,G);for(ee in u)G=u[ee],W=o[ee],!u.hasOwnProperty(ee)||G===W||G==null&&W==null||et(n,s,ee,G,u,W)}function Av(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _x(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,b=d.initiatorType,S=d.duration;if(g&&S&&Av(b)){for(b=0,S=d.responseEnd,u+=1;u<o.length;u++){var N=o[u],$=N.startTime;if($>S)break;var J=N.transferSize,ee=N.initiatorType;J&&Av(ee)&&(N=N.responseEnd,b+=J*(N<S?1:(S-$)/(N-$)))}if(--u,s+=8*(g+b)/(d.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var qm=null,Hm=null;function Eh(n){return n.nodeType===9?n:n.ownerDocument}function Rv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Fm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $m=null;function vx(){var n=window.event;return n&&n.type==="popstate"?n===$m?!1:($m=n,!0):($m=null,!1)}var Iv=typeof setTimeout=="function"?setTimeout:void 0,bx=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,wx=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(n){return kv.resolve(null).then(n).catch(Ex)}:Iv;function Ex(n){setTimeout(function(){throw n})}function ns(n){return n==="head"}function Ov(n,s){var o=s,u=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(d),wo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")iu(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,iu(o);for(var g=o.firstChild;g;){var b=g.nextSibling,S=g.nodeName;g[Ar]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&iu(n.ownerDocument.body);o=d}while(o);wo(s)}function Nv(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Gm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gm(o),Ma(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function Tx(n,s,o,u){for(;n.nodeType===1;){var d=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ar])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Kn(n.nextSibling),n===null)break}return null}function Sx(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Kn(n.nextSibling),n===null))return null;return n}function Dv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Kn(n.nextSibling),n===null))return null;return n}function Km(n){return n.data==="$?"||n.data==="$~"}function Qm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function xx(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Kn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Ym=null;function jv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return Kn(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function Pv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function Mv(n,s,o){switch(s=Eh(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function iu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ma(n)}var Qn=new Map,Vv=new Set;function Th(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var pi=le.d;le.d={f:Ax,r:Rx,D:Cx,C:Ix,L:kx,m:Ox,X:Dx,S:Nx,M:jx};function Ax(){var n=pi.f(),s=mh();return n||s}function Rx(n){var s=Vn(n);s!==null&&s.tag===5&&s.type==="form"?e0(s):pi.r(n)}var _o=typeof document>"u"?null:document;function Lv(n,s,o){var u=_o;if(u&&typeof s=="string"&&s){var d=gn(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Vv.has(d)||(Vv.add(d),n={rel:n,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Jt(s,"link",n),Rt(s),u.head.appendChild(s)))}}function Cx(n){pi.D(n),Lv("dns-prefetch",n,null)}function Ix(n,s){pi.C(n,s),Lv("preconnect",n,s)}function kx(n,s,o){pi.L(n,s,o);var u=_o;if(u&&n&&s){var d='link[rel="preload"][as="'+gn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+gn(o.imageSizes)+'"]')):d+='[href="'+gn(n)+'"]';var g=d;switch(s){case"style":g=vo(n);break;case"script":g=bo(n)}Qn.has(g)||(n=E({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Qn.set(g,n),u.querySelector(d)!==null||s==="style"&&u.querySelector(su(g))||s==="script"&&u.querySelector(au(g))||(s=u.createElement("link"),Jt(s,"link",n),Rt(s),u.head.appendChild(s)))}}function Ox(n,s){pi.m(n,s);var o=_o;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(n)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=bo(n)}if(!Qn.has(g)&&(n=E({rel:"modulepreload",href:n},s),Qn.set(g,n),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(au(g)))return}u=o.createElement("link"),Jt(u,"link",n),Rt(u),o.head.appendChild(u)}}}function Nx(n,s,o){pi.S(n,s,o);var u=_o;if(u&&n){var d=Cr(u).hoistableStyles,g=vo(n);s=s||"default";var b=d.get(g);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(su(g)))S.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Qn.get(g))&&Wm(n,o);var N=b=u.createElement("link");Rt(N),Jt(N,"link",n),N._p=new Promise(function($,J){N.onload=$,N.onerror=J}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Sh(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:S},d.set(g,b)}}}function Dx(n,s){pi.X(n,s);var o=_o;if(o&&n){var u=Cr(o).hoistableScripts,d=bo(n),g=u.get(d);g||(g=o.querySelector(au(d)),g||(n=E({src:n,async:!0},s),(s=Qn.get(d))&&Xm(n,s),g=o.createElement("script"),Rt(g),Jt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function jx(n,s){pi.M(n,s);var o=_o;if(o&&n){var u=Cr(o).hoistableScripts,d=bo(n),g=u.get(d);g||(g=o.querySelector(au(d)),g||(n=E({src:n,async:!0,type:"module"},s),(s=Qn.get(d))&&Xm(n,s),g=o.createElement("script"),Rt(g),Jt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Uv(n,s,o,u){var d=(d=ke.current)?Th(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=vo(o.href),o=Cr(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=vo(o.href);var g=Cr(d).hoistableStyles,b=g.get(n);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,b),(g=d.querySelector(su(n)))&&!g._p&&(b.instance=g,b.state.loading=5),Qn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Qn.set(n,o),g||Px(d,n,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=bo(o),o=Cr(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function vo(n){return'href="'+gn(n)+'"'}function su(n){return'link[rel="stylesheet"]['+n+"]"}function zv(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function Px(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jt(s,"link",o),Rt(s),n.head.appendChild(s))}function bo(n){return'[src="'+gn(n)+'"]'}function au(n){return"script[async]"+n}function Bv(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+gn(o.href)+'"]');if(u)return s.instance=u,Rt(u),u;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Rt(u),Jt(u,"style",d),Sh(u,o.precedence,n),s.instance=u;case"stylesheet":d=vo(o.href);var g=n.querySelector(su(d));if(g)return s.state.loading|=4,s.instance=g,Rt(g),g;u=zv(o),(d=Qn.get(d))&&Wm(u,d),g=(n.ownerDocument||n).createElement("link"),Rt(g);var b=g;return b._p=new Promise(function(S,N){b.onload=S,b.onerror=N}),Jt(g,"link",u),s.state.loading|=4,Sh(g,o.precedence,n),s.instance=g;case"script":return g=bo(o.src),(d=n.querySelector(au(g)))?(s.instance=d,Rt(d),d):(u=o,(d=Qn.get(g))&&(u=E({},o),Xm(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),Rt(d),Jt(d,"link",u),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Sh(u,o.precedence,n));return s.instance}function Sh(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===s)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Wm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Xm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var xh=null;function qv(n,s,o){if(xh===null){var u=new Map,d=xh=new Map;d.set(o,u)}else d=xh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),d=0;d<o.length;d++){var g=o[d];if(!(g[Ar]||g[At]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=n+b;var S=u.get(b);S?S.push(g):u.set(b,[g])}}return u}function Hv(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function Mx(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Fv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Vx(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=vo(u.href),g=s.querySelector(su(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Ah.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=g,Rt(g);return}g=s.ownerDocument||s,u=zv(u),(d=Qn.get(d))&&Wm(u,d),g=g.createElement("link"),Rt(g);var b=g;b._p=new Promise(function(S,N){b.onload=S,b.onerror=N}),Jt(g,"link",u),o.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Ah.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var Jm=0;function Lx(n,s){return n.stylesheets&&n.count===0&&Ch(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Ch(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&Jm===0&&(Jm=62500*_x());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ch(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>Jm?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ch(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Rh=null;function Ch(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Rh=new Map,s.forEach(Ux,n),Rh=null,Ah.call(n))}function Ux(n,s){if(!(s.state.loading&4)){var o=Rh.get(n);if(o)var u=o.get(null);else{o=new Map,Rh.set(n,o);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=Ah.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var ou={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function zx(n,s,o,u,d,g,b,S,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function $v(n,s,o,u,d,g,b,S,N,$,J,ee){return n=new zx(n,s,o,b,N,$,J,ee,S),s=1,g===!0&&(s|=24),g=An(3,null,null,s),n.current=g,g.stateNode=n,s=Of(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Pf(g),n}function Gv(n){return n?(n=Wa,n):Wa}function Kv(n,s,o,u,d,g){d=Gv(d),u.context===null?u.context=d:u.pendingContext=d,u=$i(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Gi(n,u,s),o!==null&&(wn(o,n,s),Ul(o,n,s))}function Qv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Zm(n,s){Qv(n,s),(n=n.alternate)&&Qv(n,s)}function Yv(n){if(n.tag===13||n.tag===31){var s=Ws(n,67108864);s!==null&&wn(s,n,67108864),Zm(n,67108864)}}function Wv(n){if(n.tag===13||n.tag===31){var s=On();s=Ls(s);var o=Ws(n,s);o!==null&&wn(o,n,s),Zm(n,s)}}var Ih=!0;function Bx(n,s,o,u){var d=X.T;X.T=null;var g=le.p;try{le.p=2,eg(n,s,o,u)}finally{le.p=g,X.T=d}}function qx(n,s,o,u){var d=X.T;X.T=null;var g=le.p;try{le.p=8,eg(n,s,o,u)}finally{le.p=g,X.T=d}}function eg(n,s,o,u){if(Ih){var d=tg(u);if(d===null)zm(n,s,u,kh,o),Jv(n,u);else if(Fx(d,n,s,o,u))u.stopPropagation();else if(Jv(n,u),s&4&&-1<Hx.indexOf(n)){for(;d!==null;){var g=Vn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Er(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var N=1<<31-vt(b);S.entanglements[1]|=N,b&=~N}Br(g),(Ge&6)===0&&(dh=hn()+500,tu(0))}}break;case 31:case 13:S=Ws(g,2),S!==null&&wn(S,g,2),mh(),Zm(g,2)}if(g=tg(u),g===null&&zm(n,s,u,kh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else zm(n,s,u,null,o)}}function tg(n){return n=Ln(n),ng(n)}var kh=null;function ng(n){if(kh=null,n=Rr(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=f(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return kh=n,null}function Xv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case cl:return 2;case hl:return 8;case ki:case lf:return 32;case lc:return 268435456;default:return 32}default:return 32}}var rg=!1,rs=null,is=null,ss=null,lu=new Map,uu=new Map,as=[],Hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jv(n,s){switch(n){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":lu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(s.pointerId)}}function cu(n,s,o,u,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Vn(s),s!==null&&Yv(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Fx(n,s,o,u,d){switch(s){case"focusin":return rs=cu(rs,n,s,o,u,d),!0;case"dragenter":return is=cu(is,n,s,o,u,d),!0;case"mouseover":return ss=cu(ss,n,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return lu.set(g,cu(lu.get(g)||null,n,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,uu.set(g,cu(uu.get(g)||null,n,s,o,u,d)),!0}return!1}function Zv(n){var s=Rr(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,er(n.priority,function(){Wv(o)});return}}else if(s===31){if(s=f(o),s!==null){n.blockedOn=s,er(n.priority,function(){Wv(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Oh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=tg(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Tl=u,o.target.dispatchEvent(u),Tl=null}else return s=Vn(o),s!==null&&Yv(s),n.blockedOn=o,!1;s.shift()}return!0}function eb(n,s,o){Oh(n)&&o.delete(s)}function $x(){rg=!1,rs!==null&&Oh(rs)&&(rs=null),is!==null&&Oh(is)&&(is=null),ss!==null&&Oh(ss)&&(ss=null),lu.forEach(eb),uu.forEach(eb)}function Nh(n,s){n.blockedOn===s&&(n.blockedOn=null,rg||(rg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$x)))}var Dh=null;function tb(n){Dh!==n&&(Dh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dh===n&&(Dh=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],d=n[s+2];if(typeof u!="function"){if(ng(u||o)===null)continue;break}var g=Vn(o);g!==null&&(n.splice(s,3),s-=3,tm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function wo(n){function s(N){return Nh(N,n)}rs!==null&&Nh(rs,n),is!==null&&Nh(is,n),ss!==null&&Nh(ss,n),lu.forEach(s),uu.forEach(s);for(var o=0;o<as.length;o++){var u=as[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<as.length&&(o=as[0],o.blockedOn===null);)Zv(o),o.blockedOn===null&&as.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[Ht]||null;if(typeof g=="function")b||tb(o);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[Ht]||null)S=b.formAction;else if(ng(d)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),tb(o)}}}function nb(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function ig(n){this._internalRoot=n}jh.prototype.render=ig.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=On();Kv(o,u,n,s,null,null)},jh.prototype.unmount=ig.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Kv(n.current,2,null,n,null,null),mh(),s[xr]=null}};function jh(n){this._internalRoot=n}jh.prototype.unstable_scheduleHydration=function(n){if(n){var s=mc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<as.length&&s!==0&&s<as[o].priority;o++);as.splice(o,0,n),o===0&&Zv(n)}};var rb=e.version;if(rb!=="19.2.0")throw Error(i(527,rb,"19.2.0"));le.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=p(s),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var Gx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{Jn=Ph.inject(Gx),Kt=Ph}catch{}}return du.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",d=c0,g=h0,b=d0;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=$v(n,1,!1,null,null,o,u,null,d,g,b,nb),n[xr]=s.current,Um(n),new ig(s)},du.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,d="",g=c0,b=h0,S=d0,N=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),s=$v(n,1,!0,s,o??null,u,d,N,g,b,S,nb),s.context=Gv(null),o=s.current,u=On(),u=Ls(u),d=$i(u),d.callback=null,Gi(o,d,u),o=u,s.current.lanes=o,Ms(s,o),Br(s),n[xr]=s.current,Um(n),new jh(s)},du.version="19.2.0",du}var fb;function rA(){if(fb)return og.exports;fb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),og.exports=nA(),og.exports}var iA=rA();const sA=Sp(iA);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mb="popstate";function aA(r={}){function e(a,l){let{pathname:c="/",search:f="",hash:m=""}=Sa(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Pg("",{pathname:c,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:Iu(l))}function i(a,l){_r(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return lA(e,t,i,r)}function mt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function _r(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oA(){return Math.random().toString(36).substring(2,10)}function gb(r,e){return{usr:r.state,key:r.key,idx:e}}function Pg(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Sa(e):e,state:t,key:e&&e.key||i||oA()}}function Iu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Sa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function lA(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",m=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function E(){f="POP";let k=_(),B=k==null?null:k-p;p=k,m&&m({action:f,location:P.location,delta:B})}function T(k,B){f="PUSH";let q=Pg(P.location,k,B);t&&t(q,k),p=_()+1;let Q=gb(q,p),ie=P.createHref(q);try{c.pushState(Q,"",ie)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;a.location.assign(ie)}l&&m&&m({action:f,location:P.location,delta:1})}function A(k,B){f="REPLACE";let q=Pg(P.location,k,B);t&&t(q,k),p=_();let Q=gb(q,p),ie=P.createHref(q);c.replaceState(Q,"",ie),l&&m&&m({action:f,location:P.location,delta:0})}function D(k){return uA(k)}let P={get action(){return f},get location(){return r(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(mb,E),m=k,()=>{a.removeEventListener(mb,E),m=null}},createHref(k){return e(a,k)},createURL:D,encodeLocation(k){let B=D(k);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:A,go(k){return c.go(k)}};return P}function uA(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Iu(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function kw(r,e,t="/"){return cA(r,e,t,!1)}function cA(r,e,t,i){let a=typeof e=="string"?Sa(e):e,l=Ti(a.pathname||"/",t);if(l==null)return null;let c=Ow(r);hA(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=EA(l);f=bA(c[m],p,i)}return f}function Ow(r,e=[],t=[],i="",a=!1){let l=(c,f,m=a,p)=>{let _={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&m)return;mt(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let E=bi([i,_.relativePath]),T=t.concat(_);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Ow(c.children,e,T,E,m)),!(c.path==null&&!c.index)&&e.push({path:E,score:_A(E,c.index),routesMeta:T})};return r.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of Nw(c.path))l(c,f,!0,m)}),e}function Nw(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Nw(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>r.startsWith("/")&&m===""?"/":m)}function hA(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:vA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var dA=/^:[\w-]+$/,fA=3,mA=2,gA=1,pA=10,yA=-2,pb=r=>r==="*";function _A(r,e){let t=r.split("/"),i=t.length;return t.some(pb)&&(i+=yA),e&&(i+=mA),t.filter(a=>!pb(a)).reduce((a,l)=>a+(dA.test(l)?fA:l===""?gA:pA),i)}function vA(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function bA(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],p=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=hd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),T=m.route;if(!E&&p&&t&&!i[i.length-1].route.index&&(E=hd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:bi([l,E.pathname]),pathnameBase:AA(bi([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=bi([l,E.pathnameBase]))}return c}function hd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=wA(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((p,{paramName:_,isOptional:E},T)=>{if(_==="*"){let D=f[T]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const A=f[T];return E&&!A?p[_]=void 0:p[_]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:r}}function wA(r,e=!1,t=!0){_r(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function EA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _r(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ti(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function TA(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?Sa(r):r;return{pathname:t?t.startsWith("/")?t:SA(t,e):e,search:RA(i),hash:CA(a)}}function SA(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function hg(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xA(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Dw(r){let e=xA(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function jw(r,e,t,i=!1){let a;typeof r=="string"?a=Sa(r):(a={...r},mt(!a.pathname||!a.pathname.includes("?"),hg("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),hg("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),hg("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;a.pathname=T.join("/")}f=E>=0?e[E]:"/"}let m=TA(a,f),p=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var bi=r=>r.join("/").replace(/\/\/+/g,"/"),AA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),RA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,CA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function IA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Pw=["POST","PUT","PATCH","DELETE"];new Set(Pw);var kA=["GET",...Pw];new Set(kA);var Yo=K.createContext(null);Yo.displayName="DataRouter";var Ld=K.createContext(null);Ld.displayName="DataRouterState";K.createContext(!1);var Mw=K.createContext({isTransitioning:!1});Mw.displayName="ViewTransition";var OA=K.createContext(new Map);OA.displayName="Fetchers";var NA=K.createContext(null);NA.displayName="Await";var Wr=K.createContext(null);Wr.displayName="Navigation";var Fu=K.createContext(null);Fu.displayName="Location";var Xr=K.createContext({outlet:null,matches:[],isDataRoute:!1});Xr.displayName="Route";var Ap=K.createContext(null);Ap.displayName="RouteError";function DA(r,{relative:e}={}){mt($u(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=K.useContext(Wr),{hash:a,pathname:l,search:c}=Ku(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:bi([t,l])),i.createHref({pathname:f,search:c,hash:a})}function $u(){return K.useContext(Fu)!=null}function xa(){return mt($u(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Fu).location}var Vw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lw(r){K.useContext(Wr).static||K.useLayoutEffect(r)}function Gu(){let{isDataRoute:r}=K.useContext(Xr);return r?QA():jA()}function jA(){mt($u(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Yo),{basename:e,navigator:t}=K.useContext(Wr),{matches:i}=K.useContext(Xr),{pathname:a}=xa(),l=JSON.stringify(Dw(i)),c=K.useRef(!1);return Lw(()=>{c.current=!0}),K.useCallback((m,p={})=>{if(_r(c.current,Vw),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=jw(m,JSON.parse(l),a,p.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:bi([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,l,a,r])}var PA=K.createContext(null);function MA(r){let e=K.useContext(Xr).outlet;return K.useMemo(()=>e&&K.createElement(PA.Provider,{value:r},e),[e,r])}function Ku(r,{relative:e}={}){let{matches:t}=K.useContext(Xr),{pathname:i}=xa(),a=JSON.stringify(Dw(t));return K.useMemo(()=>jw(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function VA(r,e){return Uw(r,e)}function Uw(r,e,t,i,a){mt($u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=K.useContext(Wr),{matches:c}=K.useContext(Xr),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let q=E&&E.path||"";zw(p,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let T=xa(),A;if(e){let q=typeof e=="string"?Sa(e):e;mt(_==="/"||q.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=T;let D=A.pathname||"/",P=D;if(_!=="/"){let q=_.replace(/^\//,"").split("/");P="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=kw(r,{pathname:P});_r(E||k!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),_r(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=qA(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:bi([_,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:bi([_,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,t,i,a);return e&&B?K.createElement(Fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function LA(){let r=KA(),e=IA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:l},"ErrorBoundary")," or"," ",K.createElement("code",{style:l},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:a},t):null,c)}var UA=K.createElement(LA,null),zA=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?K.createElement(Xr.Provider,{value:this.props.routeContext},K.createElement(Ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BA({routeContext:r,match:e,children:t}){let i=K.useContext(Yo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Xr.Provider,{value:r},t)}function qA(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let p=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(t)for(let p=0;p<l.length;p++){let _=l[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:E,errors:T}=t,A=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||A){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,_,E)=>{let T,A=!1,D=null,P=null;t&&(T=c&&_.route.id?c[_.route.id]:void 0,D=_.route.errorElement||UA,f&&(m<0&&E===0?(zw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,P=null):m===E&&(A=!0,P=_.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,E+1)),B=()=>{let q;return T?q=D:A?q=P:_.route.Component?q=K.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=p,K.createElement(BA,{match:_,routeContext:{outlet:p,matches:k,isDataRoute:t!=null},children:q})};return t&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?K.createElement(zA,{location:t.location,revalidation:t.revalidation,component:D,error:T,children:B(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:i}):B()},null)}function Rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HA(r){let e=K.useContext(Yo);return mt(e,Rp(r)),e}function FA(r){let e=K.useContext(Ld);return mt(e,Rp(r)),e}function $A(r){let e=K.useContext(Xr);return mt(e,Rp(r)),e}function Cp(r){let e=$A(r),t=e.matches[e.matches.length-1];return mt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function GA(){return Cp("useRouteId")}function KA(){let r=K.useContext(Ap),e=FA("useRouteError"),t=Cp("useRouteError");return r!==void 0?r:e.errors?.[t]}function QA(){let{router:r}=HA("useNavigate"),e=Cp("useNavigate"),t=K.useRef(!1);return Lw(()=>{t.current=!0}),K.useCallback(async(a,l={})=>{_r(t.current,Vw),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var yb={};function zw(r,e,t){!e&&!yb[r]&&(yb[r]=!0,_r(!1,t))}K.memo(YA);function YA({routes:r,future:e,state:t,unstable_onError:i}){return Uw(r,void 0,t,i,e)}function WA(r){return MA(r.context)}function Nn(r){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XA({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){mt(!$u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),f=K.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Sa(t));let{pathname:m="/",search:p="",hash:_="",state:E=null,key:T="default"}=t,A=K.useMemo(()=>{let D=Ti(m,c);return D==null?null:{location:{pathname:D,search:p,hash:_,state:E,key:T},navigationType:i}},[c,m,p,_,E,T,i]);return _r(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:K.createElement(Wr.Provider,{value:f},K.createElement(Fu.Provider,{children:e,value:A}))}function JA({children:r,location:e}){return VA(Mg(r),e)}function Mg(r,e=[]){let t=[];return K.Children.forEach(r,(i,a)=>{if(!K.isValidElement(i))return;let l=[...e,a];if(i.type===K.Fragment){t.push.apply(t,Mg(i.props.children,l));return}mt(i.type===Nn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Mg(i.props.children,l)),t.push(c)}),t}var Zh="get",ed="application/x-www-form-urlencoded";function Ud(r){return r!=null&&typeof r.tagName=="string"}function ZA(r){return Ud(r)&&r.tagName.toLowerCase()==="button"}function eR(r){return Ud(r)&&r.tagName.toLowerCase()==="form"}function tR(r){return Ud(r)&&r.tagName.toLowerCase()==="input"}function nR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function rR(r,e){return r.button===0&&(!e||e==="_self")&&!nR(r)}var Mh=null;function iR(){if(Mh===null)try{new FormData(document.createElement("form"),0),Mh=!1}catch{Mh=!0}return Mh}var sR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dg(r){return r!=null&&!sR.has(r)?(_r(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ed}"`),null):r}function aR(r,e){let t,i,a,l,c;if(eR(r)){let f=r.getAttribute("action");i=f?Ti(f,e):null,t=r.getAttribute("method")||Zh,a=dg(r.getAttribute("enctype"))||ed,l=new FormData(r)}else if(ZA(r)||tR(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||f.getAttribute("action");if(i=m?Ti(m,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Zh,a=dg(r.getAttribute("formenctype"))||dg(f.getAttribute("enctype"))||ed,l=new FormData(f,r),!iR()){let{name:p,type:_,value:E}=r;if(_==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,E)}}else{if(Ud(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zh,i=null,a=ed,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function oR(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Ti(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function lR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function cR(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await lR(l,t);return c.links?c.links():[]}return[]}));return mR(i.flat(1).filter(uR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _b(r,e,t,i,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,f=(m,p)=>t[p].pathname!==m.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function hR(r,e,{includeHydrateFallback:t}={}){return dR(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function dR(r){return[...new Set(r)]}function fR(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function mR(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(fR(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function Bw(){let r=K.useContext(Yo);return Ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function gR(){let r=K.useContext(Ld);return Ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var kp=K.createContext(void 0);kp.displayName="FrameworkContext";function qw(){let r=K.useContext(kp);return Ip(r,"You must render this element inside a <HydratedRouter> element"),r}function pR(r,e){let t=K.useContext(kp),[i,a]=K.useState(!1),[l,c]=K.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:E}=e,T=K.useRef(null);K.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let P=B=>{B.forEach(q=>{c(q.isIntersecting)})},k=new IntersectionObserver(P,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[r]),K.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let A=()=>{a(!0)},D=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,T,{}]:[l,T,{onFocus:fu(f,A),onBlur:fu(m,D),onMouseEnter:fu(p,A),onMouseLeave:fu(_,D),onTouchStart:fu(E,A)}]:[!1,T,{}]}function fu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function yR({page:r,...e}){let{router:t}=Bw(),i=K.useMemo(()=>kw(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?K.createElement(vR,{page:r,matches:i,...e}):null}function _R(r){let{manifest:e,routeModules:t}=qw(),[i,a]=K.useState([]);return K.useEffect(()=>{let l=!1;return cR(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function vR({page:r,matches:e,...t}){let i=xa(),{manifest:a,routeModules:l}=qw(),{basename:c}=Bw(),{loaderData:f,matches:m}=gR(),p=K.useMemo(()=>_b(r,e,m,a,i,"data"),[r,e,m,a,i]),_=K.useMemo(()=>_b(r,e,m,a,i,"assets"),[r,e,m,a,i]),E=K.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let D=new Set,P=!1;if(e.forEach(B=>{let q=a.routes[B.route.id];!q||!q.hasLoader||(!p.some(Q=>Q.route.id===B.route.id)&&B.route.id in f&&l[B.route.id]?.shouldRevalidate||q.hasClientLoader?P=!0:D.add(B.route.id))}),D.size===0)return[];let k=oR(r,c,"data");return P&&D.size>0&&k.searchParams.set("_routes",e.filter(B=>D.has(B.route.id)).map(B=>B.route.id).join(",")),[k.pathname+k.search]},[c,f,i,a,p,e,r,l]),T=K.useMemo(()=>hR(_,a),[_,a]),A=_R(_);return K.createElement(K.Fragment,null,E.map(D=>K.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),T.map(D=>K.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),A.map(({key:D,link:P})=>K.createElement("link",{key:D,nonce:t.nonce,...P})))}function bR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Hw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hw&&(window.__reactRouterVersion="7.9.4")}catch{}function wR({basename:r,children:e,window:t}){let i=K.useRef();i.current==null&&(i.current=aA({window:t,v5Compat:!0}));let a=i.current,[l,c]=K.useState({action:a.action,location:a.location}),f=K.useCallback(m=>{K.startTransition(()=>c(m))},[c]);return K.useLayoutEffect(()=>a.listen(f),[a,f]),K.createElement(XA,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:a})}var Fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=K.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:_,viewTransition:E,...T},A){let{basename:D}=K.useContext(Wr),P=typeof p=="string"&&Fw.test(p),k,B=!1;if(typeof p=="string"&&P&&(k=p,Hw))try{let I=new URL(window.location.href),L=p.startsWith("//")?new URL(I.protocol+p):new URL(p),j=Ti(L.pathname,D);L.origin===I.origin&&j!=null?p=j+L.search+L.hash:B=!0}catch{_r(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=DA(p,{relative:a}),[Q,ie,oe]=pR(i,T),se=SR(p,{replace:c,state:f,target:m,preventScrollReset:_,relative:a,viewTransition:E});function C(I){e&&e(I),I.defaultPrevented||se(I)}let R=K.createElement("a",{...T,...oe,href:k||q,onClick:B||l?e:C,ref:bR(A,ie),target:m,"data-discover":!P&&t==="render"?"true":void 0});return Q&&!P?K.createElement(K.Fragment,null,R,K.createElement(yR,{page:q})):R});tn.displayName="Link";var Vg=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},_){let E=Ku(c,{relative:p.relative}),T=xa(),A=K.useContext(Ld),{navigator:D,basename:P}=K.useContext(Wr),k=A!=null&&IR(E)&&f===!0,B=D.encodeLocation?D.encodeLocation(E).pathname:E.pathname,q=T.pathname,Q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(q=q.toLowerCase(),Q=Q?Q.toLowerCase():null,B=B.toLowerCase()),Q&&P&&(Q=Ti(Q,P)||Q);const ie=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let oe=q===B||!a&&q.startsWith(B)&&q.charAt(ie)==="/",se=Q!=null&&(Q===B||!a&&Q.startsWith(B)&&Q.charAt(B.length)==="/"),C={isActive:oe,isPending:se,isTransitioning:k},R=oe?e:void 0,I;typeof i=="function"?I=i(C):I=[i,oe?"active":null,se?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(C):l;return K.createElement(tn,{...p,"aria-current":R,className:I,ref:_,style:L,to:c,viewTransition:f},typeof m=="function"?m(C):m)});Vg.displayName="NavLink";var ER=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Zh,action:f,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:E,...T},A)=>{let D=RR(),P=CR(f,{relative:p}),k=c.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&Fw.test(f),q=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let ie=Q.nativeEvent.submitter,oe=ie?.getAttribute("formmethod")||c;D(ie||Q.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:a,state:l,relative:p,preventScrollReset:_,viewTransition:E})};return K.createElement("form",{ref:A,method:k,action:P,onSubmit:i?m:q,...T,"data-discover":!B&&r==="render"?"true":void 0})});ER.displayName="Form";function TR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $w(r){let e=K.useContext(Yo);return mt(e,TR(r)),e}function SR(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=Gu(),m=xa(),p=Ku(r,{relative:l});return K.useCallback(_=>{if(rR(_,e)){_.preventDefault();let E=t!==void 0?t:Iu(m)===Iu(p);f(r,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,t,i,e,r,a,l,c])}var xR=0,AR=()=>`__${String(++xR)}__`;function RR(){let{router:r}=$w("useSubmit"),{basename:e}=K.useContext(Wr),t=GA();return K.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=aR(i,e);if(a.navigate===!1){let _=a.fetcherKey||AR();await r.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await r.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function CR(r,{relative:e}={}){let{basename:t}=K.useContext(Wr),i=K.useContext(Xr);mt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Ku(r||".",{relative:e})},c=xa();if(r==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(_=>_==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let _=f.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:bi([t,l.pathname])),Iu(l)}function IR(r,{relative:e}={}){let t=K.useContext(Mw);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$w("useViewTransitionState"),a=Ku(r,{relative:e});if(!t.isTransitioning)return!1;let l=Ti(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ti(t.nextLocation.pathname,i)||t.nextLocation.pathname;return hd(a.pathname,c)!=null||hd(a.pathname,l)!=null}var Gw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vb=gs.createContext&&gs.createContext(Gw),kR=["attr","size","title"];function OR(r,e){if(r==null)return{};var t=NR(r,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(t[i]=r[i])}return t}function NR(r,e){if(r==null)return{};var t={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;t[i]=r[i]}return t}function dd(){return dd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},dd.apply(this,arguments)}function bb(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,i)}return t}function fd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bb(Object(t),!0).forEach(function(i){DR(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bb(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function DR(r,e,t){return e=jR(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function jR(r){var e=PR(r,"string");return typeof e=="symbol"?e:e+""}function PR(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Kw(r){return r&&r.map((e,t)=>gs.createElement(e.tag,fd({key:t},e.attr),Kw(e.child)))}function nt(r){return e=>gs.createElement(MR,dd({attr:fd({},r.attr)},e),Kw(r.child))}function MR(r){var e=t=>{var{attr:i,size:a,title:l}=r,c=OR(r,kR),f=a||t.size||"1em",m;return t.className&&(m=t.className),r.className&&(m=(m?m+" ":"")+r.className),gs.createElement("svg",dd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:m,style:fd(fd({color:r.color||t.color},t.style),r.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&gs.createElement("title",null,l),r.children)};return vb!==void 0?gs.createElement(vb.Consumer,null,t=>e(t)):e(Gw)}function VR(r){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(r)}function LR(r){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(r)}function UR(r){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(r)}function zR(r){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(r)}function BR(r){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(r)}function Op(r){return nt({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(r)}function qR(r){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(r)}function wb(r){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(r)}function HR(r){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(r)}function Eb(r){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(r)}function FR(r){return nt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function Np(r){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634 471L36 3.51A16 16 0 0 0 13.51 6l-10 12.49A16 16 0 0 0 6 41l598 467.49a16 16 0 0 0 22.49-2.49l10-12.49A16 16 0 0 0 634 471zM296.79 146.47l134.79 105.38C429.36 191.91 380.48 144 320 144a112.26 112.26 0 0 0-23.21 2.47zm46.42 219.07L208.42 260.16C210.65 320.09 259.53 368 320 368a113 113 0 0 0 23.21-2.46zM320 112c98.65 0 189.09 55 237.93 144a285.53 285.53 0 0 1-44 60.2l37.74 29.5a333.7 333.7 0 0 0 52.9-75.11 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64c-36.7 0-71.71 7-104.63 18.81l46.41 36.29c18.94-4.3 38.34-7.1 58.22-7.1zm0 288c-98.65 0-189.08-55-237.93-144a285.47 285.47 0 0 1 44.05-60.19l-37.74-29.5a333.6 333.6 0 0 0-52.89 75.1 32.35 32.35 0 0 0 0 29.19C89.72 376.41 197.08 448 320 448c36.7 0 71.71-7.05 104.63-18.81l-46.41-36.28C359.28 397.2 339.89 400 320 400z"},child:[]}]})(r)}function Dp(r){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"},child:[]}]})(r)}function $R(r){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"},child:[]}]})(r)}function GR(r){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"},child:[]}]})(r)}function Qw(r){return nt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(r)}function KR(r){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function QR(r){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(r)}function YR(r){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function WR(r){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(r)}function XR(r){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"},child:[]}]})(r)}function JR(r){return nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(r)}const ZR=()=>{const[r,e]=K.useState(!1),[t,i]=K.useState(()=>{try{const c=localStorage.getItem("theme");if(c)return c}catch{}return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});K.useEffect(()=>{try{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)}catch{}},[t]);const a=()=>i(c=>c==="dark"?"light":"dark"),l=[{name:"About",path:"/about"},{name:"Docs",path:"/docs"},{name:"GitHub",path:"https://github.com/danielnero-bot/improved-eureka",external:!0},{name:"Contact",path:"/contact"}];return v.jsxs("header",{className:"border-b border-solid border-gray-200 dark:border-gray-700 px-4 sm:px-10 py-3 relative z-50",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs(tn,{to:"/",className:"flex items-center gap-4 text-primary",children:[v.jsx("div",{className:"size-6",children:v.jsxs("svg",{fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("g",{clipPath:"url(#clip0_6_319)",children:v.jsx("path",{d:"M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z",fill:"currentColor"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"clip0_6_319",children:v.jsx("rect",{fill:"white",height:"48",width:"48"})})})]})}),v.jsx("h2",{className:"text-[#111714] dark:text-gray-100 text-lg font-bold",children:"QuickPlate"})]}),v.jsxs("nav",{className:"hidden md:flex items-center gap-9",children:[l.map(c=>c.external?v.jsx("a",{href:c.path,target:"_blank",rel:"noopener noreferrer",className:"text-[#111714] dark:text-gray-300 dark:hover:text-white text-sm font-medium hover:text-primary transition-colors",children:c.name},c.name):v.jsx(Vg,{to:c.path,className:({isActive:f})=>`text-sm font-medium transition-colors ${f?"text-primary":"text-[#111714] dark:text-gray-300 hover:text-primary dark:hover:text-white"}`,children:c.name},c.name)),v.jsx("button",{onClick:a,"aria-label":"Toggle theme",className:"p-2 rounded-md text-[#111714] dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:t==="dark"?v.jsx(Eb,{}):v.jsx(wb,{})}),v.jsx(tn,{to:"/getStarted",className:"bg-primary text-[#111714] font-bold rounded-lg px-5 h-10 flex items-center justify-center hover:scale-105 transition-transform",children:"Get Started"})]}),v.jsx("button",{className:"md:hidden text-[#111714] dark:text-gray-300 z-50",onClick:()=>e(!r),"aria-label":"Toggle menu",children:r?v.jsx(BR,{size:24}):v.jsx(LR,{size:24})})]}),r&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 md:hidden z-40",onClick:()=>e(!1)}),v.jsx("div",{className:`fixed top-0 right-0 h-full w-2/3 sm:w-1/2 bg-white dark:bg-[#111714] shadow-lg transform transition-transform duration-300 ease-in-out z-50 ${r?"translate-x-0":"translate-x-full"} md:hidden`,children:v.jsxs("div",{className:"flex flex-col p-6 gap-6 mt-16",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("button",{onClick:a,"aria-label":"Toggle theme",className:"p-2 rounded-md text-[#111714] dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors self-end",children:t==="dark"?v.jsx(Eb,{}):v.jsx(wb,{})}),v.jsx(JR,{onClick:()=>e(!1),className:"my-2"})]}),l.map(c=>c.external?v.jsx("a",{href:c.path,target:"_blank",rel:"noopener noreferrer",onClick:()=>e(!1),className:"text-[#111714] dark:text-gray-300 text-lg font-medium hover:text-primary transition-colors",children:c.name},c.name):v.jsx(Vg,{to:c.path,onClick:()=>e(!1),className:({isActive:f})=>`text-lg font-medium transition-colors ${f?"text-primary":"text-[#111714] dark:text-gray-300 hover:text-primary dark:hover:text-white"}`,children:c.name},c.name)),v.jsx(tn,{to:"/getStarted",onClick:()=>e(!1),className:"bg-primary text-[#111714] font-bold rounded-lg px-5 py-3 text-center hover:scale-105 transition-transform",children:"Get Started"})]})})]})]})},e4=()=>v.jsx("footer",{className:"mt-10 border-t border-gray-200 dark:border-gray-700 pt-8 pb-4",children:v.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4",children:[v.jsx("p",{className:"text-sm text-[#648772] dark:text-gray-400",children:" 2025 QuickPlate. All rights reserved."}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(tn,{to:"https://github.com/danielnero-bot/improved-eureka",target:"_blank",className:"text-[#648772] dark:text-gray-400 hover:text-primary transition-colors",children:v.jsx(Qw,{})}),v.jsx("a",{href:"https://x.com/danielnero80311",target:"_blank",className:"text-[#648772] dark:text-gray-400 hover:text-primary transition-colors",children:v.jsx(WR,{})}),v.jsx("a",{href:"https://web.facebook.com/people/Daniel-Nero/61573024959905/#",target:"_blank",className:"text-[#648772] dark:text-gray-400 hover:text-primary transition-colors",children:v.jsx(GR,{})}),v.jsx("a",{href:"#",target:"_blank",className:"text-[#648772] dark:text-gray-400 hover:text-primary transition-colors",children:v.jsx(YR,{})}),v.jsx("a",{href:"https://www.linkedin.com/in/daniel-oghenero-b23937388?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app",target:"_blank",className:"text-[#648772] dark:text-gray-400 hover:text-primary transition-colors",children:v.jsx(QR,{})}),v.jsx("a",{href:"https://www.instagram.com/d.ne_ro?igsh=eTM4bHIwZjlsOTQ5",target:"_blank",className:"text-[#648772] dark:text-gray-400 hover:text-primary transition-colors",children:v.jsx(KR,{})})]})]})});function jp(r){return nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(r)}function Pp(r){return nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 0 0 0-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"},child:[]}]})(r)}function t4(r){return nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21.5 14.98c-.02 0-.03 0-.05.01A3.49 3.49 0 0 0 18 12c-1.4 0-2.6.83-3.16 2.02A2.988 2.988 0 0 0 12 17c0 1.66 1.34 3 3 3l6.5-.02a2.5 2.5 0 0 0 0-5zM10 4.26v2.09C7.67 7.18 6 9.39 6 12c0 1.77.78 3.34 2 4.44V14h2v6H4v-2h2.73A7.942 7.942 0 0 1 4 12c0-3.73 2.55-6.85 6-7.74zM20 6h-2.73a7.98 7.98 0 0 1 2.66 5h-2.02c-.23-1.36-.93-2.55-1.91-3.44V10h-2V4h6v2z"},child:[]}]})(r)}function n4(r){return nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zM4 19V7h16l.002 12H4z"},child:[]},{tag:"path",attr:{d:"M9.293 9.293 5.586 13l3.707 3.707 1.414-1.414L8.414 13l2.293-2.293zm5.414 0-1.414 1.414L15.586 13l-2.293 2.293 1.414 1.414L18.414 13z"},child:[]}]})(r)}function r4(){return v.jsxs("main",{children:[v.jsx("section",{className:"py-10",children:v.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat rounded-xl items-start justify-end px-4 pb-10 sm:px-10",style:{backgroundImage:'linear-gradient(rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.4) 100%), url("https://lh3.googleusercontent.com/aida-public/AB6AXuBRJUfDw1o7j4QSFBNpFzknkgHS6jfFfnP8DE4S5DTiAZ83SAZSxp8wMW-WEnUP0HEs9gB9hQ72wllB4O-VrMn1N7fpucVJODVOb8LQBnYIjNxIcLAz5L5QeE2WHrd9p9EovH2aSlnnx8RN_627TsYldHB3SSuFThRtBw4qAk_m_xchl5YnOOtPJ2heBijtua5f8xMlShQq1Sqh8fQ5o1XcNhpswU3caHWk1VmHblXg9_lfCAHz_Ewv--I1cvDWUSndJ6WEmNoMGapc")'},children:[v.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[v.jsx("h1",{className:"text-white text-5xl font-black leading-tight",children:"Launch Your Restaurant Website in Minutes"}),v.jsx("p",{className:"text-white text-base",children:"QuickPlate lets you easily create, edit, and manage your restaurant website  all from one simple dashboard."})]}),v.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[v.jsx(tn,{to:"/getStarted",className:"bg-primary text-[#111714] font-bold rounded-lg px-5 py-3 h-12 hover:scale-105 transition-transform",children:"Get Started Free"}),v.jsx(tn,{to:"/login",className:"bg-white dark:bg-gray-800 text-[#111714] dark:text-gray-200 font-bold rounded-lg px-5 py-3 h-12 hover:scale-105 transition-transform",children:"Go to Dashboard"})]})]})}),v.jsxs("section",{className:"flex flex-col gap-10 px-4 py-10",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-4xl font-black text-[#111714] dark:text-gray-100",children:"Everything You Need to Run Your Online Restaurant"}),v.jsx("p",{className:"text-[#648772] dark:text-gray-400 max-w-[720px]",children:"QuickPlate combines powerful tools and an intuitive dashboard so you can focus on serving great food while we handle your website."})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[{icon:v.jsx(n4,{}),title:"Free & Open Source",text:"Completely free to use and customize. You control your data and your brand."},{icon:v.jsx(t4,{}),title:"Realtime Firebase Backend",text:"Securely store your restaurant data in your own Firebase project."},{icon:v.jsx(HR,{}),title:"Beautiful & Customizable",text:"Personalize colors, fonts, and layout to match your restaurants identity."}].map(r=>v.jsxs("div",{className:"flex flex-col gap-2 rounded-lg border border-[#dce5df] dark:border-gray-700 bg-white dark:bg-background-dark p-4",children:[v.jsx("span",{className:"text-primary text-3xl",children:r.icon}),v.jsx("h3",{className:"text-[#111714] dark:text-gray-100 font-bold",children:r.title}),v.jsx("p",{className:"text-[#648772] dark:text-gray-400 text-sm",children:r.text})]},r.title))})]}),v.jsxs("section",{className:"px-4 py-10",children:[v.jsx("h2",{className:"text-2xl font-bold text-[#111714] dark:text-gray-100 pb-3",children:"How It Works"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[{icon:v.jsx(zR,{}),title:"1. Create Your Account",text:"Sign up for free and access your QuickPlate dashboard instantly."},{icon:v.jsx(VR,{}),title:"2. Add Your Restaurant Details",text:"Upload your menu, set business hours, and customize your website content."},{icon:v.jsx(UR,{}),title:"3. Go Live Instantly",text:"Publish your restaurant website with one click  no coding required."}].map(r=>v.jsxs("div",{className:"flex flex-col gap-2 rounded-lg border border-[#dce5df] dark:border-gray-700 bg-white dark:bg-background-dark p-4",children:[v.jsx("span",{className:"text-primary text-3xl",children:r.icon}),v.jsx("h3",{className:"text-[#111714] dark:text-gray-100 font-bold",children:r.title}),v.jsx("p",{className:"text-[#648772] dark:text-gray-400 text-sm",children:r.text})]},r.title))})]}),v.jsx("section",{className:"px-4 py-10",children:v.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 rounded-xl bg-primary/20 dark:bg-primary/30 p-8 text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-[#111714] dark:text-white",children:"Ready to Build Your Restaurant Website?"}),v.jsx("p",{className:"text-base text-[#111714] dark:text-gray-200 max-w-md",children:"Manage your menu, orders, and branding easily  all from your dashboard. Get started in just minutes."}),v.jsx(tn,{to:"/login",className:"bg-primary text-[#111714] font-bold rounded-lg px-5 py-3 h-12 hover:scale-105 transition-transform",children:"Go to Dashboard"})]})})]})}const i4=()=>v.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-[#111714] dark:text-gray-200 min-h-screen flex flex-col ",children:[v.jsx(ZR,{}),v.jsx(WA,{}),v.jsx(e4,{})]}),s4=()=>v.jsx("div",{className:"bg-background-light dark:bg-background-dark font-display text-[#111714] dark:text-gray-200",children:v.jsx("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden",children:v.jsx("main",{className:"flex flex-col flex-1 px-4 sm:px-8 md:px-10 lg:px-20 xl:px-40 py-5",children:v.jsxs("div",{className:"mx-auto w-full max-w-[960px] flex-1",children:[v.jsxs("section",{className:"px-4 py-12 sm:py-16 md:py-20 text-center",children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight text-[#111714] dark:text-gray-100 sm:text-4xl md:text-5xl",children:"Empowering Restaurants to Go Digital  Effortlessly"}),v.jsx("p",{className:"mt-4 text-base leading-relaxed text-[#648772] dark:text-gray-400 sm:text-lg",children:"QuickPlate helps restaurant owners build, customize, and manage their websites  all from one intuitive dashboard. No coding, no hosting fees, just pure freedom to create and grow your brand online."})]}),v.jsxs("section",{className:"grid grid-cols-1 gap-12 px-4 md:grid-cols-2 md:gap-16",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h2",{className:"text-2xl font-bold text-[#111714] dark:text-gray-100",children:"Our Story"}),v.jsx("p",{className:"text-[#648772] dark:text-gray-400",children:"QuickPlate began as a project built to solve a simple problem: many restaurants wanted a professional online presence, but lacked the time or technical know-how. We envisioned a platform that gave them control  a place to create menus, upload photos, and manage everything from one easy dashboard."}),v.jsx("p",{className:"text-[#648772] dark:text-gray-400",children:"Today, that vision powers local restaurants, cafs, and food brands all over the world  all built on open technology and a community-driven spirit."})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h2",{className:"text-2xl font-bold text-[#111714] dark:text-gray-100",children:"Why Were Open Source"}),v.jsx("p",{className:"text-[#648772] dark:text-gray-400",children:"We believe technology should empower, not exclude. Thats why QuickPlate is free and open source  anyone can use it, extend it, and make it better. Our code, our process, and our mission are transparent because collaboration fuels innovation."}),v.jsx("p",{className:"text-[#648772] dark:text-gray-400",children:"By being open source, we invite developers, designers, and restaurant owners alike to join us in building the future of digital food experiences."})]})]}),v.jsxs("section",{className:"px-4 py-16 sm:py-20 md:py-24 text-center",children:[v.jsxs("div",{className:"mx-auto max-w-3xl",children:[v.jsx("h2",{className:"text-3xl font-bold tracking-tight text-[#111714] dark:text-gray-100 sm:text-4xl",children:"Meet the Contributors"}),v.jsx("p",{className:"mt-4 text-base leading-relaxed text-[#648772] dark:text-gray-400 sm:text-lg",children:"QuickPlate is powered by a passionate global community  developers, designers, and creators who believe in building tools that help local businesses thrive."})]}),v.jsx("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-2",children:[{name:"Daniel Oghenero",role:"Lead Developer",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuB51QXV_OheVaxfs3cOADp-xXwAXw46m8KgPot13ubViAUQZhBeiZX7b9jNjawOrvBUTs5roeBYoXrgmupCzc4mLVKaqx8VvAM3yO3j4E3pSrmYJ8KuZxNuqEeNwy0Ud9A_342TWTzhVCuXtC94-OJB6q0c_wgTA8rIGuN3WJez0lGG9YPwp-5fwBl6Zngl2YO9uOnD6AQGVilDVHrCuI7cX4dSCDW9omYGoYHOs6Yy3D8sKsY_tlUVXQf9jQb6J1BrgvC6z6u5xlN0"},{name:"Favour Benson",role:"Co-Founder",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuCj_fPjBvjG2XQxj9BC7J2KN3BGSuiGZjxWbx2kTzmfKPqFU-Ow7VuQShmTipwKJuhTbwhfkY021y8qCVkEQ4DjAyDgV0KM-WjVB7VtP2s7FdL2CsC9r8bj0ZQoC5dLtFKHFrG1cx9soFm4n0liufg-bT4YYMhhMC85Gdt6C1nMph_w59m_sUPKz3PaFxar2m0Z14BJjZsxYlKFWB1DhTzQgId2-Z9Rv1Kyz-_wzhEx_eWRH1Pkd8fyiM3xHlrQfk6oSI3hFm5k8S6O"},{name:"Tolu Bakare",role:"Backend Engineer",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuCIpMtzVpAdT5Y6buzPwQ4XpVq2glY4YMi6cCVhnvsuPVQBXYE0l1eK_-tNgypBsJgBHDtFNKyb03BeNsWESJr4-Q2ZnRX79TOlIR1BxMDBANh0bS4IZSFmeOMxu5y8Mqdcsow7O1_K0_ZKCT5TkT5_oTyAx6M5vqBfHkCuAOH2vjLR87yr8TNAslwvbUTUOoM-w4xXQQEqyhAh9YmgJPcX48MeC7AkbS4RxqEM7lJ-SRQtwLXSWWCTDxAvsdnHuRwO6PX_7RvZaq0l"},{name:"Sarah Lee",role:"Community Manager",img:"https://lh3.googleusercontent.com/aida-public/AB6AXuDKCSz-gN5CSTI4iQ6xFYD1T8LG-Vs44Numj5RChXqmyNoH8x9mPkjara3seLdZEQhwjrH5ehYlq6MTnEtpiEa4HInWqDfEejSMzaM8DtNNpuGESLX9po-oOdylFxgvvgoedDne3hHxI02sXK4-8XafUoeyBDwlpv-C5ucWo7q4CHa2N0MXaWZnR-NQGUfVsYthqOKGARg8VHXukrOKvpm25CZY-hRPEP8k_dZDiM-NAjFa4MygBesVcqDrKq3_KBh4WAgsJsZdp-5q"}].map(r=>v.jsxs("div",{className:"text-center",children:[v.jsx("img",{alt:r.name,src:r.img,className:"mx-auto h-24 w-24 rounded-full object-cover"}),v.jsx("h3",{className:"mt-4 text-lg font-bold text-[#111714] dark:text-gray-100",children:r.name}),v.jsx("p",{className:"text-sm text-primary",children:r.role})]},r.name))})]})]})})})}),a4=()=>v.jsx("div",{className:"bg-background-light dark:bg-background-dark font-display text-[#111714] dark:text-gray-200",children:v.jsx("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden",children:v.jsx("main",{className:"py-10 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-5xl mx-auto",children:[v.jsxs("header",{className:"mb-12 text-center",children:[v.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#111714] dark:text-gray-100",children:"Welcome to Your QuickPlate Dashboard"}),v.jsx("p",{className:"mt-4 text-lg text-[#648772] dark:text-gray-400 max-w-2xl mx-auto",children:"Manage your food experience seamlessly  from tracking your orders to updating your profile and exploring your favorite restaurants."})]}),v.jsxs("section",{className:"space-y-12",children:[v.jsxs("article",{children:[v.jsxs("h2",{className:"text-3xl font-bold text-[#111714] dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-3 mb-6",children:[v.jsx("span",{className:"text-primary mr-3",children:"1."})," Track Your Orders"]}),v.jsx("p",{className:"text-[#111714] dark:text-gray-300 mb-4",children:"View all your current and past orders in one place. Get real-time status updates from when your food is being prepared to when it's on the way."}),v.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 text-sm text-gray-700 dark:text-gray-300",children:v.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[v.jsx("li",{children:"Monitor your live order progress."}),v.jsx("li",{children:"View estimated delivery times."}),v.jsx("li",{children:"Download your past order receipts."})]})})]}),v.jsxs("article",{children:[v.jsxs("h2",{className:"text-3xl font-bold text-[#111714] dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-3 mb-6",children:[v.jsx("span",{className:"text-primary mr-3",children:"2."})," Explore Restaurants"]}),v.jsx("p",{className:"text-[#111714] dark:text-gray-300 mb-4",children:"Browse a variety of restaurants, explore their menus, and find something delicious to order  all from your dashboard."}),v.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 text-sm text-gray-700 dark:text-gray-300",children:v.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[v.jsx("li",{children:"Filter restaurants by cuisine or rating."}),v.jsx("li",{children:"View menu details and prices."}),v.jsx("li",{children:"Save your favorites for quick access later."})]})})]}),v.jsxs("article",{children:[v.jsxs("h2",{className:"text-3xl font-bold text-[#111714] dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-3 mb-6",children:[v.jsx("span",{className:"text-primary mr-3",children:"3."})," Manage Your Profile"]}),v.jsx("p",{className:"text-[#111714] dark:text-gray-300 mb-4",children:"Update your personal details, delivery addresses, and preferences so you always get the best experience."}),v.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 text-sm text-gray-700 dark:text-gray-300",children:v.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[v.jsx("li",{children:"Edit your name, email, or contact info."}),v.jsx("li",{children:"Add or remove delivery addresses."}),v.jsx("li",{children:"Change your password and account settings."})]})})]}),v.jsxs("article",{children:[v.jsxs("h2",{className:"text-3xl font-bold text-[#111714] dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-3 mb-6",children:[v.jsx("span",{className:"text-primary mr-3",children:"4."})," Leave Feedback"]}),v.jsx("p",{className:"text-[#111714] dark:text-gray-300 mb-4",children:"Help us improve! Share your thoughts about your order or dining experience with a restaurant."}),v.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 text-sm text-gray-700 dark:text-gray-300",children:v.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[v.jsx("li",{children:"Rate restaurants after your order is complete."}),v.jsx("li",{children:"Submit comments directly through your dashboard."}),v.jsx("li",{children:"Your feedback helps improve service for everyone."})]})})]})]}),v.jsxs("section",{className:"mt-16 text-center border-t border-gray-200 dark:border-gray-700 pt-12",children:[v.jsx("h2",{className:"text-3xl font-bold text-[#111714] dark:text-gray-100",children:"Ready to Get Started?"}),v.jsx("p",{className:"mt-4 text-lg text-[#648772] dark:text-gray-400 max-w-2xl mx-auto",children:"Log in to your dashboard now and experience fast, easy food management  anytime, anywhere."}),v.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-4",children:[v.jsx("button",{className:"h-12 px-6 rounded-lg bg-primary text-[#111714] font-bold hover:scale-105 transition-transform",children:"Go to Dashboard"}),v.jsx("button",{className:"h-12 px-6 rounded-lg border border-[#111714] dark:border-gray-300 text-[#111714] dark:text-gray-200 font-bold hover:bg-gray-100 dark:hover:bg-gray-800 transition-all",children:"View Restaurants"})]})]})]})})})}),o4=()=>v.jsx("div",{className:"bg-background-light dark:bg-background-dark font-display text-[#111714] dark:text-gray-200 min-h-screen flex flex-col",children:v.jsxs("main",{className:"grow",children:[v.jsxs("div",{className:"py-16 sm:py-24 px-4 text-center",children:[v.jsx("h1",{className:"text-4xl sm:text-5xl font-bold tracking-tight text-[#111714] dark:text-white",children:"Get in Touch"}),v.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-[#648772] dark:text-gray-400",children:"Have a question, want to contribute to the project, or just looking to collaborate? We'd love to hear from you."})]}),v.jsx("div",{className:"px-4",children:v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-12 md:gap-8",children:[v.jsx("div",{className:"md:col-span-2",children:v.jsxs("form",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"full-name",className:"block text-sm font-medium text-[#111714] dark:text-gray-300 mb-2",children:"Full Name"}),v.jsx("input",{id:"full-name",name:"full-name",type:"text",placeholder:"John Doe",className:"form-input w-full"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[#111714] dark:text-gray-300 mb-2",children:"Email"}),v.jsx("input",{id:"email",name:"email",type:"email",placeholder:"you@example.com",className:"form-input"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-[#111714] dark:text-gray-300 mb-2",children:"Subject"}),v.jsx("input",{id:"subject",name:"subject",type:"text",placeholder:"Question about features",className:"form-input"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-[#111714] dark:text-gray-300 mb-2",children:"Message"}),v.jsx("textarea",{id:"message",name:"message",rows:"5",placeholder:"Your message here...",className:"form-input resize-none"})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",className:"flex w-full sm:w-auto min-w-[84px] items-center justify-center rounded-lg h-12 px-8 bg-primary text-[#111714] text-base font-bold leading-normal tracking-[0.015em] transition-transform hover:scale-105",children:"Submit Message"})})]})}),v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("span",{className:" text-primary text-3xl mt-1",children:v.jsx(XR,{})}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-[#111714] dark:text-gray-100",children:"Email Us"}),v.jsx("p",{className:"text-[#648772] dark:text-gray-400",children:"For general inquiries and support."}),v.jsx("a",{href:"mailto:nero80311@gmail.com",className:"text-primary hover:underline",children:"nero80311@gmail.com"})]})]}),v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"mt-1 text-primary",children:v.jsx(Qw,{className:"h-6 w-6"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-[#111714] dark:text-gray-100",children:"GitHub"}),v.jsx("p",{className:"text-[#648772] dark:text-gray-400",children:"Contribute, report issues, or fork the project."}),v.jsx("a",{href:"https://github.com/danielnero-bot/improved-eureka",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"github.com/improved"})]})]})]})]})})]})});function l4(r){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 34v144c0 16 32 32 32 32 0 112-16 176-16 208 0 16 0 32 16 48s16 16 32 0 16-32 16-48c0-32-16-96-16-208 0 0 32-16 32-32V34h-18v96h-21V34H87v96H66V34H48zm202 0c-16 0-16 16-16 16v272h.4c-4.6 45.8-10.4 76.8-10.4 96 0 16 0 32 16 48s16 16 32 0 16-32 16-48c0-22.1-7.6-59.5-12.4-117.5C287.9 270.4 298 232.2 298 194c0-48-25.8-137.6-48-160zm166 0a64 96 0 0 0-64 96 64 96 0 0 0 47.9 92.8C398.8 326.9 384 387.2 384 418c0 16 0 32 16 48s16 16 32 0 16-32 16-48c0-30.8-14.8-91.1-15.9-195.1A64 96 0 0 0 480 130a64 96 0 0 0-64-96z"},child:[]}]})(r)}function Yw(r){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M401.4 224h-214l83-79.4c11.9-12.5 11.9-32.7 0-45.2s-31.2-12.5-43.2 0L89 233.4c-6 5.8-9 13.7-9 22.4v.4c0 8.7 3 16.6 9 22.4l138.1 134c12 12.5 31.3 12.5 43.2 0 11.9-12.5 11.9-32.7 0-45.2l-83-79.4h214c16.9 0 30.6-14.3 30.6-32 .1-18-13.6-32-30.5-32z"},child:[]}]})(r)}const u4=()=>v.jsx("div",{className:"bg-background-light dark:bg-background-dark font-display text-gray-900 dark:text-gray-100 min-h-screen flex flex-col items-center justify-center p-4",children:v.jsxs("main",{className:"realative flex w-full max-w-4xl flex-col items-center justify-center gap-8 py-10",children:[v.jsx(tn,{to:"/",className:"absolute top-5 left-7 bg-primary rounded-[50%] p-2",type:"button",children:v.jsx(Yw,{})}),v.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[v.jsx("h1",{className:"text-4xl font-black tracking-tighter text-[#111714] dark:text-white sm:text-5xl md:text-6xl",children:"Join QuickPlate"}),v.jsx("p",{className:"text-base text-[#648772] dark:text-gray-400 md:text-lg",children:"Choose how you want to get started."})]}),v.jsxs("div",{className:"grid w-full grid-cols-1 gap-6 sm:grid-cols-2",children:[v.jsxs(tn,{to:"/signupUser",className:"group flex flex-col items-start gap-6 rounded-xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900/50 p-6 shadow-sm transition-all hover:-translate-y-1 hover:shadow-lg hover:border-primary/50 dark:hover:border-primary/70",children:[v.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-primary/20 text-primary transition-colors group-hover:bg-primary group-hover:text-white",children:v.jsx($R,{})}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("h2",{className:"text-xl font-bold text-[#111714] dark:text-white",children:"Sign up as User"}),v.jsx("p",{className:"text-sm text-[#648772] dark:text-gray-400",children:"Explore the open-source restaurant builder, contribute or customize templates."})]})]}),v.jsxs(tn,{to:"/signupRestaurant",className:"group flex flex-col items-start gap-6 rounded-xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900/50 p-6 shadow-sm transition-all hover:-translate-y-1 hover:shadow-lg hover:border-primary/50 dark:hover:border-primary/70",children:[v.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-primary/20 text-primary transition-colors group-hover:bg-primary group-hover:text-white",children:v.jsx(l4,{})}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("h2",{className:"text-xl font-bold text-[#111714] dark:text-white",children:"Sign up as Restaurant Owner"}),v.jsx("p",{className:"text-sm text-[#648772] dark:text-gray-400",children:"Create and manage your own restaurant website using QuickPlate tools."})]})]})]}),v.jsx("div",{className:"pt-8 text-center",children:v.jsx("p",{className:"text-sm text-[#648772] dark:text-gray-500",children:"Powered by QuickPlate Open Source"})})]})}),Ww=({password:r,onChange:e,isVisible:t=!1})=>{const[i,a]=K.useState(0),[l,c]=K.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1});K.useEffect(()=>{const p={length:r.length>=8,uppercase:/[A-Z]/.test(r),lowercase:/[a-z]/.test(r),number:/[0-9]/.test(r),special:/[!@#$%^&*(),.?":{}|<>]/.test(r)};c(p);const _=Object.values(p).filter(Boolean).length;a(_/5*100)},[r]);const f=()=>i>=100?"bg-green-500":i>=60?"bg-yellow-500":i>=30?"bg-orange-500":"bg-red-500",m=(p,_)=>v.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p?v.jsx(qR,{className:"text-green-500"}):v.jsx(FR,{className:"text-red-500"}),v.jsx("span",{className:p?"text-green-500":"text-gray-500 dark:text-gray-400",children:_})]});return v.jsxs("div",{className:`space-y-3 overflow-hidden transition-all duration-300 ease-in-out ${t?"max-h-[200px] opacity-100":"max-h-0 opacity-0"}`,children:[v.jsx("div",{className:"h-2.5 w-full bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:v.jsx("div",{className:`h-full transition-all duration-300 ${f()}`,style:{width:`${i}%`}})}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[m(l.length,"At least 8 characters"),m(l.uppercase,"One uppercase letter"),m(l.lowercase,"One lowercase letter"),m(l.number,"One number"),m(l.special,"One special character")]})]})},c4=()=>{};var Tb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},h4=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],f=r[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Jw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,f=c?r[a+1]:0,m=a+2<r.length,p=m?r[a+2]:0,_=l>>2,E=(l&3)<<4|f>>4;let T=(f&15)<<2|p>>6,A=p&63;m||(A=64,c||(T=64)),i.push(t[_],t[E],t[T],t[A])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Xw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):h4(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],f=a<r.length?t[r.charAt(a)]:0;++a;const p=a<r.length?t[r.charAt(a)]:64;++a;const E=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||f==null||p==null||E==null)throw new d4;const T=l<<2|f>>4;if(i.push(T),p!==64){const A=f<<4&240|p>>2;if(i.push(A),E!==64){const D=p<<6&192|E;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class d4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f4=function(r){const e=Xw(r);return Jw.encodeByteArray(e,!0)},md=function(r){return f4(r).replace(/\./g,"")},Zw=function(r){try{return Jw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=()=>m4().__FIREBASE_DEFAULTS__,p4=()=>{if(typeof process>"u"||typeof Tb>"u")return;const r=Tb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},y4=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Zw(r[1]);return e&&JSON.parse(e)},zd=()=>{try{return c4()||g4()||p4()||y4()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},eE=r=>zd()?.emulatorHosts?.[r],_4=r=>{const e=eE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},tE=()=>zd()?.config,nE=r=>zd()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v4=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[md(JSON.stringify(t)),md(JSON.stringify(c)),""].join(".")}const bu={};function w4(){const r={prod:[],emulator:[]};for(const e of Object.keys(bu))bu[e]?r.emulator.push(e):r.prod.push(e);return r}function E4(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Sb=!1;function iE(r,e){if(typeof window>"u"||typeof document>"u"||!Wo(window.location.host)||bu[r]===e||bu[r]||Sb)return;bu[r]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=w4().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Sb=!0,c()},T}function _(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=E4(i),A=t("text"),D=document.getElementById(A)||document.createElement("span"),P=t("learnmore"),k=document.getElementById(P)||document.createElement("a"),B=t("preprendIcon"),q=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Q=T.element;f(Q),_(k,P);const ie=p();m(q,B),Q.append(q,D,k,ie),document.body.appendChild(Q)}l?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function S4(){const r=zd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A4(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function R4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C4(){const r=un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function I4(){return!S4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k4(){try{return typeof indexedDB=="object"}catch{return!1}}function O4(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="FirebaseError";class Ci extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=N4,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?D4(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Ci(a,f,i)}}function D4(r,e){return r.replace(j4,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const j4=/\{\$([^}]+)}/g;function P4(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function _a(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(xb(l)&&xb(c)){if(!_a(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function xb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function gu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function M4(r,e){const t=new V4(r,e);return t.subscribe.bind(t)}class V4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");L4(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=fg),a.error===void 0&&(a.error=fg),a.complete===void 0&&(a.complete=fg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L4(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r){return r&&r._delegate?r._delegate:r}class va{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new v4;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B4(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:z4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z4(r){return r===ha?void 0:r}function B4(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new U4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const H4={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},F4=Me.INFO,$4={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},G4=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=$4[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=F4,this._logHandler=G4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const K4=(r,e)=>e.some(t=>r instanceof t);let Ab,Rb;function Q4(){return Ab||(Ab=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y4(){return Rb||(Rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sE=new WeakMap,Lg=new WeakMap,aE=new WeakMap,mg=new WeakMap,Vp=new WeakMap;function W4(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(ps(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&sE.set(t,r)}).catch(()=>{}),Vp.set(e,r),e}function X4(r){if(Lg.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Lg.set(r,e)}let Ug={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Lg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||aE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ps(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function J4(r){Ug=r(Ug)}function Z4(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(gg(this),e,...t);return aE.set(i,e.sort?e.sort():[e]),ps(i)}:Y4().includes(r)?function(...e){return r.apply(gg(this),e),ps(sE.get(this))}:function(...e){return ps(r.apply(gg(this),e))}}function eC(r){return typeof r=="function"?Z4(r):(r instanceof IDBTransaction&&X4(r),K4(r,Q4())?new Proxy(r,Ug):r)}function ps(r){if(r instanceof IDBRequest)return W4(r);if(mg.has(r))return mg.get(r);const e=eC(r);return e!==r&&(mg.set(r,e),Vp.set(e,r)),e}const gg=r=>Vp.get(r);function tC(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),f=ps(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ps(c.result),m.oldVersion,m.newVersion,ps(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const nC=["get","getKey","getAll","getAllKeys","count"],rC=["put","add","delete","clear"],pg=new Map;function Cb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pg.get(e))return pg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=rC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||nC.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&m.done]))[0]};return pg.set(e,l),l}J4(r=>({...r,get:(e,t,i)=>Cb(e,t)||r.get(e,t,i),has:(e,t)=>!!Cb(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function sC(r){return r.getComponent()?.type==="VERSION"}const zg="@firebase/app",Ib="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Mp("@firebase/app"),aC="@firebase/app-compat",oC="@firebase/analytics-compat",lC="@firebase/analytics",uC="@firebase/app-check-compat",cC="@firebase/app-check",hC="@firebase/auth",dC="@firebase/auth-compat",fC="@firebase/database",mC="@firebase/data-connect",gC="@firebase/database-compat",pC="@firebase/functions",yC="@firebase/functions-compat",_C="@firebase/installations",vC="@firebase/installations-compat",bC="@firebase/messaging",wC="@firebase/messaging-compat",EC="@firebase/performance",TC="@firebase/performance-compat",SC="@firebase/remote-config",xC="@firebase/remote-config-compat",AC="@firebase/storage",RC="@firebase/storage-compat",CC="@firebase/firestore",IC="@firebase/ai",kC="@firebase/firestore-compat",OC="firebase",NC="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="[DEFAULT]",DC={[zg]:"fire-core",[aC]:"fire-core-compat",[lC]:"fire-analytics",[oC]:"fire-analytics-compat",[cC]:"fire-app-check",[uC]:"fire-app-check-compat",[hC]:"fire-auth",[dC]:"fire-auth-compat",[fC]:"fire-rtdb",[mC]:"fire-data-connect",[gC]:"fire-rtdb-compat",[pC]:"fire-fn",[yC]:"fire-fn-compat",[_C]:"fire-iid",[vC]:"fire-iid-compat",[bC]:"fire-fcm",[wC]:"fire-fcm-compat",[EC]:"fire-perf",[TC]:"fire-perf-compat",[SC]:"fire-rc",[xC]:"fire-rc-compat",[AC]:"fire-gcs",[RC]:"fire-gcs-compat",[CC]:"fire-fst",[kC]:"fire-fst-compat",[IC]:"fire-vertex","fire-js":"fire-js",[OC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map,jC=new Map,qg=new Map;function kb(r,e){try{r.container.addComponent(e)}catch(t){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function zo(r){const e=r.name;if(qg.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;qg.set(e,r);for(const t of gd.values())kb(t,r);for(const t of jC.values())kb(t,r);return!0}function Lp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Dn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Qu("app","Firebase",PC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=NC;function oE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Bg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw ys.create("bad-app-name",{appName:String(a)});if(t||(t=tE()),!t)throw ys.create("no-options");const l=gd.get(a);if(l){if(_a(t,l.options)&&_a(i,l.config))return l;throw ys.create("duplicate-app",{appName:a})}const c=new q4(a);for(const m of qg.values())c.addComponent(m);const f=new MC(t,i,c);return gd.set(a,f),f}function lE(r=Bg){const e=gd.get(r);if(!e&&r===Bg&&tE())return oE();if(!e)throw ys.create("no-app",{appName:r});return e}function _s(r,e,t){let i=DC[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(c.join(" "));return}zo(new va(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firebase-heartbeat-database",LC=1,ku="firebase-heartbeat-store";let yg=null;function uE(){return yg||(yg=tC(VC,LC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ku)}catch(t){console.warn(t)}}}}).catch(r=>{throw ys.create("idb-open",{originalErrorMessage:r.message})})),yg}async function UC(r){try{const t=(await uE()).transaction(ku),i=await t.objectStore(ku).get(cE(r));return await t.done,i}catch(e){if(e instanceof Ci)Si.warn(e.message);else{const t=ys.create("idb-get",{originalErrorMessage:e?.message});Si.warn(t.message)}}}async function Ob(r,e){try{const i=(await uE()).transaction(ku,"readwrite");await i.objectStore(ku).put(e,cE(r)),await i.done}catch(t){if(t instanceof Ci)Si.warn(t.message);else{const i=ys.create("idb-set",{originalErrorMessage:t?.message});Si.warn(i.message)}}}function cE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=1024,BC=30;class qC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Nb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>BC){const a=$C(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Si.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nb(),{heartbeatsToSend:t,unsentEntries:i}=HC(this._heartbeatsCache.heartbeats),a=md(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Si.warn(e),""}}}function Nb(){return new Date().toISOString().substring(0,10)}function HC(r,e=zC){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Db(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Db(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class FC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k4()?O4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ob(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ob(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Db(r){return md(JSON.stringify({version:2,heartbeats:r})).length}function $C(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(r){zo(new va("platform-logger",e=>new iC(e),"PRIVATE")),zo(new va("heartbeat",e=>new qC(e),"PRIVATE")),_s(zg,Ib,r),_s(zg,Ib,"esm2020"),_s("fire-js","")}GC("");var KC="firebase",QC="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(KC,QC,"app");function hE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YC=hE,dE=new Qu("auth","Firebase",hE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Mp("@firebase/auth");function WC(r,...e){pd.logLevel<=Me.WARN&&pd.warn(`Auth (${Xo}): ${r}`,...e)}function td(r,...e){pd.logLevel<=Me.ERROR&&pd.error(`Auth (${Xo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(r,...e){throw zp(r,...e)}function yr(r,...e){return zp(r,...e)}function Up(r,e,t){const i={...YC(),[e]:t};return new Qu("auth","Firebase",i).create(e,{appName:r.name})}function wi(r){return Up(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XC(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Xn(r,"argument-error"),Up(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zp(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return dE.create(r,...e)}function we(r,e,...t){if(!r)throw zp(e,...t)}function _i(r){const e="INTERNAL ASSERTION FAILED: "+r;throw td(e),new Error(e)}function xi(r,e){r||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(){return typeof self<"u"&&self.location?.href||""}function JC(){return jb()==="http:"||jb()==="https:"}function jb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JC()||A4()||"connection"in navigator)?navigator.onLine:!0}function eI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=T4()||R4()}get(){return ZC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r,e){xi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rI=new Wu(3e4,6e4);function Cs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Is(r,e,t,i,a={}){return mE(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Yu({key:r.config.apiKey,...c}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:m,...l};return x4()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Wo(r.emulatorConfig.host)&&(p.credentials="include"),fE.fetch()(await gE(r,r.config.apiHost,t,f),p)})}async function mE(r,e,t){r._canInitEmulator=!1;const i={...tI,...e};try{const a=new sI(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Vh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(r,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Vh(r,"email-already-in-use",c);if(m==="USER_DISABLED")throw Vh(r,"user-disabled",c);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Up(r,_,p);Xn(r,_)}}catch(a){if(a instanceof Ci)throw a;Xn(r,"network-request-failed",{message:String(a)})}}async function Xu(r,e,t,i,a={}){const l=await Is(r,e,t,i,a);return"mfaPendingCredential"in l&&Xn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function gE(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?Bp(r.config,a):`${r.config.apiScheme}://${a}`;return nI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function iI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yr(this.auth,"network-request-failed")),rI.get())})}}function Vh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=yr(r,e,i);return a.customData._tokenResponse=t,a}function Pb(r){return r!==void 0&&r.enterprise!==void 0}class aI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oI(r,e){return Is(r,"GET","/v2/recaptchaConfig",Cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,e){return Is(r,"POST","/v1/accounts:delete",e)}async function yd(r,e){return Is(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uI(r,e=!1){const t=cn(r),i=await t.getIdToken(e),a=qp(i);we(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:wu(_g(a.auth_time)),issuedAtTime:wu(_g(a.iat)),expirationTime:wu(_g(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function _g(r){return Number(r)*1e3}function qp(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return td("JWT malformed, contained fewer than 3 sections"),null;try{const a=Zw(t);return a?JSON.parse(a):(td("Failed to decode base64 JWT payload"),null)}catch(a){return td("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Mb(r){const e=qp(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ci&&cI(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function cI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(r){const e=r.auth,t=await r.getIdToken(),i=await Ou(r,yd(e,{idToken:t}));we(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?pE(a.providerUserInfo):[],c=fI(r.providerData,l),f=r.isAnonymous,m=!(r.email&&a.passwordHash)&&!c?.length,p=f?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Fg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(r,_)}async function dI(r){const e=cn(r);await _d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fI(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function pE(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(r,e){const t=await mE(r,{},async()=>{const i=Yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await gE(r,a,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return r.emulatorConfig&&Wo(r.emulatorConfig.host)&&(m.credentials="include"),fE.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gI(r,e){return Is(r,"POST","/v2/accounts:revokeToken",Cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Mb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await mI(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Do;return i&&(we(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(we(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class gr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new hI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Fg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uI(this,e)}reload(){return dI(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await _d(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await Ou(this,lI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,p=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:A,providerData:D,stsTokenManager:P}=t;we(E&&P,e,"internal-error");const k=Do.fromJSON(this.name,P);we(typeof E=="string",e,"internal-error"),ls(i,e.name),ls(a,e.name),we(typeof T=="boolean",e,"internal-error"),we(typeof A=="boolean",e,"internal-error"),ls(l,e.name),ls(c,e.name),ls(f,e.name),ls(m,e.name),ls(p,e.name),ls(_,e.name);const B=new gr({uid:E,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:k,createdAt:p,lastLoginAt:_});return D&&Array.isArray(D)&&(B.providerData=D.map(q=>({...q}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,t,i=!1){const a=new Do;a.updateFromServerResponse(t);const l=new gr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await _d(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?pE(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Do;f.updateFromIdToken(i);const m=new gr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Fg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Map;function vi(r){xi(r instanceof Function,"Expected a class definition");let e=Vb.get(r);return e?(xi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Vb.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yE.type="NONE";const Lb=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(r,e,t){return`firebase:${r}:${e}:${t}`}class jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=nd(this.userKey,a.apiKey,l),this.fullPersistenceKey=nd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yd(this.auth,{idToken:e}).catch(()=>{});return t?gr._fromGetAccountInfoResponse(this.auth,t,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new jo(vi(Lb),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||vi(Lb);const c=nd(i,e.config.apiKey,e.name);let f=null;for(const p of t)try{const _=await p._get(c);if(_){let E;if(typeof _=="string"){const T=await yd(e,{idToken:_}).catch(()=>{});if(!T)break;E=await gr._fromGetAccountInfoResponse(e,T,_)}else E=gr._fromJSON(e,_);p!==l&&(f=E),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new jo(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new jo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TE(e))return"Blackberry";if(SE(e))return"Webos";if(vE(e))return"Safari";if((e.includes("chrome/")||bE(e))&&!e.includes("edge/"))return"Chrome";if(EE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function _E(r=un()){return/firefox\//i.test(r)}function vE(r=un()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bE(r=un()){return/crios\//i.test(r)}function wE(r=un()){return/iemobile/i.test(r)}function EE(r=un()){return/android/i.test(r)}function TE(r=un()){return/blackberry/i.test(r)}function SE(r=un()){return/webos/i.test(r)}function Hp(r=un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pI(r=un()){return Hp(r)&&!!window.navigator?.standalone}function yI(){return C4()&&document.documentMode===10}function xE(r=un()){return Hp(r)||EE(r)||SE(r)||TE(r)||/windows phone/i.test(r)||wE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r,e=[]){let t;switch(r){case"Browser":t=Ub(un());break;case"Worker":t=`${Ub(un())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,e={}){return Is(r,"GET","/v2/passwordPolicy",Cs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=6;class wI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??bI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zb(this),this.idTokenSubscription=new zb(this),this.beforeStateQueue=new _I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yd(this,{idToken:e}),i=await gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _d(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(wi(this));const t=e?cn(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vI(this),t=new wI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await gI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vi(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ks(r){return cn(r)}class zb{constructor(e){this.auth=e,this.observer=null,this.addObserver=M4(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TI(r){Bd=r}function RE(r){return Bd.loadJS(r)}function SI(){return Bd.recaptchaEnterpriseScript}function xI(){return Bd.gapiScript}function AI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class RI{constructor(){this.enterprise=new CI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const II="recaptcha-enterprise",CE="NO_RECAPTCHA";class kI{constructor(e){this.type=II,this.auth=ks(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{oI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new aI(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;Pb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(CE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RI().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&Pb(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=SI();m.length!==0&&(m+=f),RE(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function Bb(r,e,t,i=!1,a=!1){const l=new kI(r);let c;if(a)c=CE;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function $g(r,e,t,i,a){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Bb(r,e,t,t==="getOobCode");return i(r,l)}else return i(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Bb(r,e,t,t==="getOobCode");return i(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r,e){const t=Lp(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(_a(l,e??{}))return a;Xn(a,"already-initialized")}return t.initialize({options:e})}function NI(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(vi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function DI(r,e,t){const i=ks(r);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=IE(e),{host:c,port:f}=jI(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(_a(p,i.config.emulator)&&_a(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Wo(c)?(rE(`${l}//${c}${m}`),iE("Auth",!0)):PI()}function IE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function jI(r){const e=IE(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:qb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:qb(c)}}}function qb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function PI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,t){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function MI(r,e){return Is(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(r,e){return Xu(r,"POST","/v1/accounts:signInWithPassword",Cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,e){return Xu(r,"POST","/v1/accounts:signInWithEmailLink",Cs(r,e))}async function UI(r,e){return Xu(r,"POST","/v1/accounts:signInWithEmailLink",Cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Fp{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Nu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Nu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $g(e,t,"signInWithPassword",VI);case"emailLink":return LI(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $g(e,i,"signUpPassword",MI);case"emailLink":return UI(e,{idToken:t,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(r,e){return Xu(r,"POST","/v1/accounts:signInWithIdp",Cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="http://localhost";class ba extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new ba(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Po(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Po(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Po(e,t)}buildRequest(){const e={requestUri:zI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qI(r){const e=mu(gu(r)).link,t=e?mu(gu(e)).deep_link_id:null,i=mu(gu(r)).deep_link_id;return(i?mu(gu(i)).link:null)||i||t||e||r}class $p{constructor(e){const t=mu(gu(e)),i=t.apiKey??null,a=t.oobCode??null,l=BI(t.mode??null);we(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=qI(e);try{return new $p(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,t){return Nu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=$p.parseLink(t);return we(i,"argument-error"),Nu._fromEmailAndCode(e,i.code,i.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Gp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Ju{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return mr.credential(t,i)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Ju{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Ju{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ds.credential(t,i)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,e){return Xu(r,"POST","/v1/accounts:signUp",Cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await gr._fromIdTokenResponse(e,i,a),c=Hb(i);return new wa({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Hb(i);return new wa({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Hb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Ci{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,vd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new vd(e,t,i,a)}}function kE(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?vd._fromErrorAndOperation(r,l,e,i):l})}async function FI(r,e,t=!1){const i=await Ou(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return wa._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,e,t=!1){const{auth:i}=r;if(Dn(i.app))return Promise.reject(wi(i));const a="reauthenticate";try{const l=await Ou(r,kE(i,a,e,r),t);we(l.idToken,i,"internal-error");const c=qp(l.idToken);we(c,i,"internal-error");const{sub:f}=c;return we(r.uid===f,i,"user-mismatch"),wa._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Xn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(r,e,t=!1){if(Dn(r.app))return Promise.reject(wi(r));const i="signIn",a=await kE(r,i,e),l=await wa._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}async function GI(r,e){return OE(ks(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NE(r){const e=ks(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DE(r,e,t){if(Dn(r.app))return Promise.reject(wi(r));const i=ks(r),c=await $g(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HI).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&NE(r),m}),f=await wa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function KI(r,e,t){return Dn(r.app)?Promise.reject(wi(r)):GI(cn(r),Jo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&NE(r),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r,e){return cn(r).setPersistence(e)}function YI(r,e,t,i){return cn(r).onIdTokenChanged(e,t,i)}function WI(r,e,t){return cn(r).beforeAuthStateChanged(e,t)}function XI(r,e,t,i){return cn(r).onAuthStateChanged(e,t,i)}function JI(r){return cn(r).signOut()}const bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bd,"1"),this.storage.removeItem(bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1e3,ek=10;class PE extends jE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);yI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ek):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PE.type="LOCAL";const ME=PE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends jE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}VE.type="SESSION";const LE=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new qd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async p=>p(t.origin,l)),m=await tk(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=Kp("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function rk(r){Hr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function ik(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sk(){return navigator?.serviceWorker?.controller||null}function ak(){return UE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firebaseLocalStorageDb",ok=1,wd="firebaseLocalStorage",BE="fbase_key";class Zu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hd(r,e){return r.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function lk(){const r=indexedDB.deleteDatabase(zE);return new Zu(r).toPromise()}function Gg(){const r=indexedDB.open(zE,ok);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(wd,{keyPath:BE})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(wd)?e(i):(i.close(),await lk(),e(await Gg()))})})}async function Fb(r,e,t){const i=Hd(r,!0).put({[BE]:e,value:t});return new Zu(i).toPromise()}async function uk(r,e){const t=Hd(r,!1).get(e),i=await new Zu(t).toPromise();return i===void 0?null:i.value}function $b(r,e){const t=Hd(r,!0).delete(e);return new Zu(t).toPromise()}const ck=800,hk=3;class qE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>hk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qd._getInstance(ak()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ik(),!this.activeServiceWorker)return;this.sender=new nk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gg();return await Fb(e,bd,"1"),await $b(e,bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Fb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>uk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$b(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Hd(a,!1).getAll();return new Zu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ck)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qE.type="LOCAL";const dk=qE;new Wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r,e){return e?vi(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fk(r){return OE(r.auth,new Qp(r),r.bypassAuthState)}function mk(r){const{auth:e,user:t}=r;return we(t,e,"internal-error"),$I(t,new Qp(r),r.bypassAuthState)}async function gk(r){const{auth:e,user:t}=r;return we(t,e,"internal-error"),FI(t,new Qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fk;case"linkViaPopup":case"linkViaRedirect":return gk;case"reauthViaPopup":case"reauthViaRedirect":return mk;default:Xn(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new Wu(2e3,1e4);async function Yp(r,e,t){if(Dn(r.app))return Promise.reject(yr(r,"operation-not-supported-in-this-environment"));const i=ks(r);XC(r,e,Gp);const a=HE(i,t);return new ga(i,"signInViaPopup",e,a).executeNotNull()}class ga extends FE{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pk.get())};e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="pendingRedirect",rd=new Map;class _k extends FE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=rd.get(this.auth._key());if(!e){try{const i=await vk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}rd.set(this.auth._key(),e)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vk(r,e){const t=Ek(e),i=wk(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function bk(r,e){rd.set(r._key(),e)}function wk(r){return vi(r._redirectPersistence)}function Ek(r){return nd(yk,r.config.apiKey,r.name)}async function Tk(r,e,t=!1){if(Dn(r.app))return Promise.reject(wi(r));const i=ks(r),a=HE(i,e),c=await new _k(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=600*1e3;class xk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ak(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!$E(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(yr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gb(e))}saveEventToCache(e){this.cachedEventUids.add(Gb(e)),this.lastProcessedEventTime=Date.now()}}function Gb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function $E({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Ak(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $E(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(r,e={}){return Is(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ik=/^https?/;async function kk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Rk(r);for(const t of e)try{if(Ok(t))return}catch{}Xn(r,"unauthorized-domain")}function Ok(r){const e=Hg(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Ik.test(t))return!1;if(Ck.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Wu(3e4,6e4);function Kb(){const r=Hr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Dk(r){return new Promise((e,t)=>{function i(){Kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kb(),t(yr(r,"network-request-failed"))},timeout:Nk.get()})}if(Hr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hr().gapi?.load)i();else{const a=AI("iframefcb");return Hr()[a]=()=>{gapi.load?i():t(yr(r,"network-request-failed"))},RE(`${xI()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw id=null,e})}let id=null;function jk(r){return id=id||Dk(r),id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new Wu(5e3,15e3),Mk="__/auth/iframe",Vk="emulator/auth/iframe",Lk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zk(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Bp(e,Vk):`https://${r.config.authDomain}/${Mk}`,i={apiKey:e.apiKey,appName:r.name,v:Xo},a=Uk.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Yu(i).slice(1)}`}async function Bk(r){const e=await jk(r),t=Hr().gapi;return we(t,r,"internal-error"),e.open({where:document.body,url:zk(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=yr(r,"network-request-failed"),f=Hr().setTimeout(()=>{l(c)},Pk.get());function m(){Hr().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hk=500,Fk=600,$k="_blank",Gk="http://localhost";class Qb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kk(r,e,t,i=Hk,a=Fk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...qk,width:i.toString(),height:a.toString(),top:l,left:c},p=un().toLowerCase();t&&(f=bE(p)?$k:t),_E(p)&&(e=e||Gk,m.scrollbars="yes");const _=Object.entries(m).reduce((T,[A,D])=>`${T}${A}=${D},`,"");if(pI(p)&&f!=="_self")return Qk(e||"",f),new Qb(null);const E=window.open(e||"",f,_);we(E,r,"popup-blocked");try{E.focus()}catch{}return new Qb(E)}function Qk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="__/auth/handler",Wk="emulator/auth/handler",Xk=encodeURIComponent("fac");async function Yb(r,e,t,i,a,l){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Xo,eventId:a};if(e instanceof Gp){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",P4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Ju){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}r.tenantId&&(c.tid=r.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const m=await r._getAppCheckToken(),p=m?`#${Xk}=${encodeURIComponent(m)}`:"";return`${Jk(r)}?${Yu(f).slice(1)}${p}`}function Jk({config:r}){return r.emulator?Bp(r,Wk):`https://${r.authDomain}/${Yk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="webStorageSupport";class Zk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LE,this._completeRedirectFn=Tk,this._overrideRedirectResult=bk}async _openPopup(e,t,i,a){xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Yb(e,t,i,Hg(),a);return Kk(e,l,Kp())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await Yb(e,t,i,Hg(),a);return rk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(xi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Bk(e),i=new xk(e);return t.register("authEvent",a=>(we(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vg,{type:vg},a=>{const l=a?.[0]?.[vg];l!==void 0&&t(!!l),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xE()||vE()||Hp()}}const e3=Zk;var Wb="@firebase/auth",Xb="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r3(r){zo(new va("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AE(r)},p=new EI(i,a,l,m);return NI(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),zo(new va("auth-internal",e=>{const t=ks(e.getProvider("auth").getImmediate());return(i=>new t3(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(Wb,Xb,n3(r)),_s(Wb,Xb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=300,s3=nE("authIdTokenMaxAge")||i3;let Jb=null;const a3=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>s3)return;const a=t?.token;Jb!==a&&(Jb=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function o3(r=lE()){const e=Lp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=OI(r,{popupRedirectResolver:e3,persistence:[dk,ME,LE]}),i=nE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=a3(l.toString());WI(t,c,()=>c(t.currentUser)),YI(t,f=>c(f))}}const a=eE("auth");return a&&DI(t,`http://${a}`),t}function l3(){return document.getElementsByTagName("head")?.[0]??document}TI({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=yr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",l3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r3("Browser");var Zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,GE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function I(){}I.prototype=R.prototype,C.F=R.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(L,j,z){for(var O=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)O[rt-2]=arguments[rt];return R.prototype[j].apply(L,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,I){I||(I=0);const L=Array(16);if(typeof R=="string")for(var j=0;j<16;++j)L[j]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(j=0;j<16;++j)L[j]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=C.g[0],I=C.g[1],j=C.g[2];let z=C.g[3],O;O=R+(z^I&(j^z))+L[0]+3614090360&4294967295,R=I+(O<<7&4294967295|O>>>25),O=z+(j^R&(I^j))+L[1]+3905402710&4294967295,z=R+(O<<12&4294967295|O>>>20),O=j+(I^z&(R^I))+L[2]+606105819&4294967295,j=z+(O<<17&4294967295|O>>>15),O=I+(R^j&(z^R))+L[3]+3250441966&4294967295,I=j+(O<<22&4294967295|O>>>10),O=R+(z^I&(j^z))+L[4]+4118548399&4294967295,R=I+(O<<7&4294967295|O>>>25),O=z+(j^R&(I^j))+L[5]+1200080426&4294967295,z=R+(O<<12&4294967295|O>>>20),O=j+(I^z&(R^I))+L[6]+2821735955&4294967295,j=z+(O<<17&4294967295|O>>>15),O=I+(R^j&(z^R))+L[7]+4249261313&4294967295,I=j+(O<<22&4294967295|O>>>10),O=R+(z^I&(j^z))+L[8]+1770035416&4294967295,R=I+(O<<7&4294967295|O>>>25),O=z+(j^R&(I^j))+L[9]+2336552879&4294967295,z=R+(O<<12&4294967295|O>>>20),O=j+(I^z&(R^I))+L[10]+4294925233&4294967295,j=z+(O<<17&4294967295|O>>>15),O=I+(R^j&(z^R))+L[11]+2304563134&4294967295,I=j+(O<<22&4294967295|O>>>10),O=R+(z^I&(j^z))+L[12]+1804603682&4294967295,R=I+(O<<7&4294967295|O>>>25),O=z+(j^R&(I^j))+L[13]+4254626195&4294967295,z=R+(O<<12&4294967295|O>>>20),O=j+(I^z&(R^I))+L[14]+2792965006&4294967295,j=z+(O<<17&4294967295|O>>>15),O=I+(R^j&(z^R))+L[15]+1236535329&4294967295,I=j+(O<<22&4294967295|O>>>10),O=R+(j^z&(I^j))+L[1]+4129170786&4294967295,R=I+(O<<5&4294967295|O>>>27),O=z+(I^j&(R^I))+L[6]+3225465664&4294967295,z=R+(O<<9&4294967295|O>>>23),O=j+(R^I&(z^R))+L[11]+643717713&4294967295,j=z+(O<<14&4294967295|O>>>18),O=I+(z^R&(j^z))+L[0]+3921069994&4294967295,I=j+(O<<20&4294967295|O>>>12),O=R+(j^z&(I^j))+L[5]+3593408605&4294967295,R=I+(O<<5&4294967295|O>>>27),O=z+(I^j&(R^I))+L[10]+38016083&4294967295,z=R+(O<<9&4294967295|O>>>23),O=j+(R^I&(z^R))+L[15]+3634488961&4294967295,j=z+(O<<14&4294967295|O>>>18),O=I+(z^R&(j^z))+L[4]+3889429448&4294967295,I=j+(O<<20&4294967295|O>>>12),O=R+(j^z&(I^j))+L[9]+568446438&4294967295,R=I+(O<<5&4294967295|O>>>27),O=z+(I^j&(R^I))+L[14]+3275163606&4294967295,z=R+(O<<9&4294967295|O>>>23),O=j+(R^I&(z^R))+L[3]+4107603335&4294967295,j=z+(O<<14&4294967295|O>>>18),O=I+(z^R&(j^z))+L[8]+1163531501&4294967295,I=j+(O<<20&4294967295|O>>>12),O=R+(j^z&(I^j))+L[13]+2850285829&4294967295,R=I+(O<<5&4294967295|O>>>27),O=z+(I^j&(R^I))+L[2]+4243563512&4294967295,z=R+(O<<9&4294967295|O>>>23),O=j+(R^I&(z^R))+L[7]+1735328473&4294967295,j=z+(O<<14&4294967295|O>>>18),O=I+(z^R&(j^z))+L[12]+2368359562&4294967295,I=j+(O<<20&4294967295|O>>>12),O=R+(I^j^z)+L[5]+4294588738&4294967295,R=I+(O<<4&4294967295|O>>>28),O=z+(R^I^j)+L[8]+2272392833&4294967295,z=R+(O<<11&4294967295|O>>>21),O=j+(z^R^I)+L[11]+1839030562&4294967295,j=z+(O<<16&4294967295|O>>>16),O=I+(j^z^R)+L[14]+4259657740&4294967295,I=j+(O<<23&4294967295|O>>>9),O=R+(I^j^z)+L[1]+2763975236&4294967295,R=I+(O<<4&4294967295|O>>>28),O=z+(R^I^j)+L[4]+1272893353&4294967295,z=R+(O<<11&4294967295|O>>>21),O=j+(z^R^I)+L[7]+4139469664&4294967295,j=z+(O<<16&4294967295|O>>>16),O=I+(j^z^R)+L[10]+3200236656&4294967295,I=j+(O<<23&4294967295|O>>>9),O=R+(I^j^z)+L[13]+681279174&4294967295,R=I+(O<<4&4294967295|O>>>28),O=z+(R^I^j)+L[0]+3936430074&4294967295,z=R+(O<<11&4294967295|O>>>21),O=j+(z^R^I)+L[3]+3572445317&4294967295,j=z+(O<<16&4294967295|O>>>16),O=I+(j^z^R)+L[6]+76029189&4294967295,I=j+(O<<23&4294967295|O>>>9),O=R+(I^j^z)+L[9]+3654602809&4294967295,R=I+(O<<4&4294967295|O>>>28),O=z+(R^I^j)+L[12]+3873151461&4294967295,z=R+(O<<11&4294967295|O>>>21),O=j+(z^R^I)+L[15]+530742520&4294967295,j=z+(O<<16&4294967295|O>>>16),O=I+(j^z^R)+L[2]+3299628645&4294967295,I=j+(O<<23&4294967295|O>>>9),O=R+(j^(I|~z))+L[0]+4096336452&4294967295,R=I+(O<<6&4294967295|O>>>26),O=z+(I^(R|~j))+L[7]+1126891415&4294967295,z=R+(O<<10&4294967295|O>>>22),O=j+(R^(z|~I))+L[14]+2878612391&4294967295,j=z+(O<<15&4294967295|O>>>17),O=I+(z^(j|~R))+L[5]+4237533241&4294967295,I=j+(O<<21&4294967295|O>>>11),O=R+(j^(I|~z))+L[12]+1700485571&4294967295,R=I+(O<<6&4294967295|O>>>26),O=z+(I^(R|~j))+L[3]+2399980690&4294967295,z=R+(O<<10&4294967295|O>>>22),O=j+(R^(z|~I))+L[10]+4293915773&4294967295,j=z+(O<<15&4294967295|O>>>17),O=I+(z^(j|~R))+L[1]+2240044497&4294967295,I=j+(O<<21&4294967295|O>>>11),O=R+(j^(I|~z))+L[8]+1873313359&4294967295,R=I+(O<<6&4294967295|O>>>26),O=z+(I^(R|~j))+L[15]+4264355552&4294967295,z=R+(O<<10&4294967295|O>>>22),O=j+(R^(z|~I))+L[6]+2734768916&4294967295,j=z+(O<<15&4294967295|O>>>17),O=I+(z^(j|~R))+L[13]+1309151649&4294967295,I=j+(O<<21&4294967295|O>>>11),O=R+(j^(I|~z))+L[4]+4149444226&4294967295,R=I+(O<<6&4294967295|O>>>26),O=z+(I^(R|~j))+L[11]+3174756917&4294967295,z=R+(O<<10&4294967295|O>>>22),O=j+(R^(z|~I))+L[2]+718787259&4294967295,j=z+(O<<15&4294967295|O>>>17),O=I+(z^(j|~R))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+z&4294967295}i.prototype.v=function(C,R){R===void 0&&(R=C.length);const I=R-this.blockSize,L=this.C;let j=this.h,z=0;for(;z<R;){if(j==0)for(;z<=I;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<R;)if(L[j++]=C.charCodeAt(z++),j==this.blockSize){a(this,L),j=0;break}}else for(;z<R;)if(L[j++]=C[z++],j==this.blockSize){a(this,L),j=0;break}}this.h=j,this.o+=R},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)C[R++]=this.g[I]>>>L&255;return C};function l(C,R){var I=f;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=R(C)}function c(C,R){this.h=R;const I=[];let L=!0;for(let j=C.length-1;j>=0;j--){const z=C[j]|0;L&&z==R||(I[j]=z,L=!1)}this.g=I}var f={};function m(C){return-128<=C&&C<128?l(C,function(R){return new c([R|0],R<0?-1:0)}):new c([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return k(p(-C));const R=[];let I=1;for(let L=0;C>=I;L++)R[L]=C/I|0,I*=4294967296;return new c(R,0)}function _(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return k(_(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(R,8));let L=E;for(let z=0;z<C.length;z+=8){var j=Math.min(8,C.length-z);const O=parseInt(C.substring(z,z+j),R);j<8?(j=p(Math.pow(R,j)),L=L.j(j).add(p(O))):(L=L.j(I),L=L.add(p(O)))}return L}var E=m(0),T=m(1),A=m(16777216);r=c.prototype,r.m=function(){if(P(this))return-k(this).m();let C=0,R=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);C+=(L>=0?L:4294967296+L)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(P(this))return"-"+k(this).toString(C);const R=p(Math.pow(C,6));var I=this;let L="";for(;;){const j=ie(I,R).g;I=B(I,j.j(R));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=j,D(I))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function P(C){return C.h==-1}r.l=function(C){return C=B(this,C),P(C)?-1:D(C)?0:1};function k(C){const R=C.g.length,I=[];for(let L=0;L<R;L++)I[L]=~C.g[L];return new c(I,~C.h).add(T)}r.abs=function(){return P(this)?k(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),I=[];let L=0;for(let j=0;j<=R;j++){let z=L+(this.i(j)&65535)+(C.i(j)&65535),O=(z>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);L=O>>>16,z&=65535,O&=65535,I[j]=O<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function B(C,R){return C.add(k(R))}r.j=function(C){if(D(this)||D(C))return E;if(P(this))return P(C)?k(this).j(k(C)):k(k(this).j(C));if(P(C))return k(this.j(k(C)));if(this.l(A)<0&&C.l(A)<0)return p(this.m()*C.m());const R=this.g.length+C.g.length,I=[];for(var L=0;L<2*R;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let j=0;j<C.g.length;j++){const z=this.i(L)>>>16,O=this.i(L)&65535,rt=C.i(j)>>>16,pt=C.i(j)&65535;I[2*L+2*j]+=O*pt,q(I,2*L+2*j),I[2*L+2*j+1]+=z*pt,q(I,2*L+2*j+1),I[2*L+2*j+1]+=O*rt,q(I,2*L+2*j+1),I[2*L+2*j+2]+=z*rt,q(I,2*L+2*j+2)}for(C=0;C<R;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=R;C<2*R;C++)I[C]=0;return new c(I,0)};function q(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function Q(C,R){this.g=C,this.h=R}function ie(C,R){if(D(R))throw Error("division by zero");if(D(C))return new Q(E,E);if(P(C))return R=ie(k(C),R),new Q(k(R.g),k(R.h));if(P(R))return R=ie(C,k(R)),new Q(k(R.g),R.h);if(C.g.length>30){if(P(C)||P(R))throw Error("slowDivide_ only works with positive integers.");for(var I=T,L=R;L.l(C)<=0;)I=oe(I),L=oe(L);var j=se(I,1),z=se(L,1);for(L=se(L,2),I=se(I,2);!D(L);){var O=z.add(L);O.l(C)<=0&&(j=j.add(I),z=O),L=se(L,1),I=se(I,1)}return R=B(C,j.j(R)),new Q(j,R)}for(j=E;C.l(R)>=0;){for(I=Math.max(1,Math.floor(C.m()/R.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=p(I),O=z.j(R);P(O)||O.l(C)>0;)I-=L,z=p(I),O=z.j(R);D(z)&&(z=T),j=j.add(z),C=B(C,O)}return new Q(j,C)}r.B=function(C){return ie(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)&C.i(L);return new c(I,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)|C.i(L);return new c(I,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)^C.i(L);return new c(I,this.h^C.h)};function oe(C){const R=C.g.length+1,I=[];for(let L=0;L<R;L++)I[L]=C.i(L)<<1|C.i(L-1)>>>31;return new c(I,C.h)}function se(C,R){const I=R>>5;R%=32;const L=C.g.length-I,j=[];for(let z=0;z<L;z++)j[z]=R>0?C.i(z+I)>>>R|C.i(z+I+1)<<32-R:C.i(z+I);return new c(j,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,GE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,vs=c}).apply(typeof Zb<"u"?Zb:typeof self<"u"?self:typeof window<"u"?window:{});var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KE,pu,QE,sd,Kg,YE,WE,XE;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lh=="object"&&Lh];for(var y=0;y<h.length;++y){var w=h[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var w=i;h=h.split(".");for(var x=0;x<h.length-1;x++){var H=h[x];if(!(H in w))break e;w=w[H]}h=h[h.length-1],x=w[h],y=y(x),y!=x&&y!=null&&e(w,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var w=[],x;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&w.push([x,y[x]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,w){return h.call.apply(h.bind,arguments)}function p(h,y,w){return p=m,p.apply(null,arguments)}function _(h,y){var w=Array.prototype.slice.call(arguments,1);return function(){var x=w.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function E(h,y){function w(){}w.prototype=y.prototype,h.Z=y.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(x,H,Y){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return y.prototype[H].apply(x,ae)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const y=h.length;if(y>0){const w=Array(y);for(let x=0;x<y;x++)w[x]=h[x];return w}return[]}function D(h,y){for(let x=1;x<arguments.length;x++){const H=arguments[x];var w=typeof H;if(w=w!="object"?w:H?Array.isArray(H)?"array":w:"null",w=="array"||w=="object"&&typeof H.length=="number"){w=h.length||0;const Y=H.length||0;h.length=w+Y;for(let ae=0;ae<Y;ae++)h[w+ae]=H[ae]}else h.push(H)}}class P{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(h){c.setTimeout(()=>{throw h},0)}function B(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class q{constructor(){this.h=this.g=null}add(y,w){const x=Q.get();x.set(y,w),this.h?this.h.next=x:this.g=x,this.h=x}}var Q=new P(()=>new ie,h=>h.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,se=!1,C=new q,R=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(I)}};function I(){for(var h;h=B();){try{h.h.call(h.g)}catch(w){k(w)}var y=Q;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}se=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};c.addEventListener("test",w,y),c.removeEventListener("test",w,y)}catch{}return h})();function O(h){return/^[\s\xa0]*$/.test(h)}function rt(h,y){j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(rt,j),rt.prototype.init=function(h,y){const w=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(w=="mouseover"?y=h.fromElement:w=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),X=0;function le(h,y,w,x,H){this.listener=h,this.proxy=null,this.src=y,this.type=w,this.capture=!!x,this.ha=H,this.key=++X,this.da=this.fa=!1}function ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function qe(h,y,w){for(const x in h)y.call(w,h[x],x,h)}function Qe(h,y){for(const w in h)y.call(void 0,h[w],w,h)}function V(h){const y={};for(const w in h)y[w]=h[w];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,y){let w,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(w in x)h[w]=x[w];for(let Y=0;Y<te.length;Y++)w=te[Y],Object.prototype.hasOwnProperty.call(x,w)&&(h[w]=x[w])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,y,w,x,H){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const ae=ke(h,y,x,H);return ae>-1?(y=h[ae],w||(y.fa=!1)):(y=new le(y,this.src,Y,!!x,H),y.fa=w,h.push(y)),y};function Se(h,y){const w=y.type;if(w in h.g){var x=h.g[w],H=Array.prototype.indexOf.call(x,y,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(x,H,1),Y&&(ve(y),h.g[w].length==0&&(delete h.g[w],h.h--))}}function ke(h,y,w,x){for(let H=0;H<h.length;++H){const Y=h[H];if(!Y.da&&Y.listener==y&&Y.capture==!!w&&Y.ha==x)return H}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Vt={};function ct(h,y,w,x,H){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ct(h,y[Y],w,x,H);return null}return w=ul(w),h&&h[pt]?h.J(y,w,f(x)?!!x.capture:!1,H):Ns(h,y,w,!1,x,H)}function Ns(h,y,w,x,H,Y){if(!y)throw Error("Invalid event type");const ae=f(H)?!!H.capture:!!H;let Ce=Ds(h);if(Ce||(h[ze]=Ce=new de(h)),w=Ce.add(y,w,x,ae,Y),w.proxy)return w;if(x=Oa(),w.proxy=x,x.src=h,x.listener=w,h.addEventListener)z||(H=ae),H===void 0&&(H=!1),h.addEventListener(y.toString(),x,H);else if(h.attachEvent)h.attachEvent(br(y.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Oa(){function h(w){return y.call(h.src,h.listener,w)}const y=ol;return h}function Na(h,y,w,x,H){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Na(h,y[Y],w,x,H);else x=f(x)?!!x.capture:!!x,w=ul(w),h&&h[pt]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],w=ke(y,w,x,H),w>-1&&(ve(y[w]),Array.prototype.splice.call(y,w,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Ds(h))&&(y=h.g[y.toString()],h=-1,y&&(h=ke(y,w,x,H)),(w=h>-1?y[h]:null)&&Da(w))}function Da(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[pt])Se(y.i,h);else{var w=h.type,x=h.proxy;y.removeEventListener?y.removeEventListener(w,x,h.capture):y.detachEvent?y.detachEvent(br(w),x):y.addListener&&y.removeListener&&y.removeListener(x),(w=Ds(y))?(Se(w,h),w.h==0&&(w.src=null,y[ze]=null)):ve(h)}}}function br(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function ol(h,y){if(h.da)h=!0;else{y=new rt(y,this);const w=h.listener,x=h.ha||h.src;h.fa&&Da(h),h=w.call(x,y)}return h}function Ds(h){return h=h[ze],h instanceof de?h:null}var ll="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(h){return typeof h=="function"?h:(h[ll]||(h[ll]=function(y){return h.handleEvent(y)}),h[ll])}function St(){L.call(this),this.i=new de(this),this.M=this,this.G=null}E(St,L),St.prototype[pt]=!0,St.prototype.removeEventListener=function(h,y,w,x){Na(this,h,y,w,x)};function Lt(h,y){var w,x=h.G;if(x)for(w=[];x;x=x.G)w.push(x);if(h=h.M,x=y.type||y,typeof y=="string")y=new j(y,h);else if(y instanceof j)y.target=y.target||h;else{var H=y;y=new j(x,h),ue(y,H)}H=!0;let Y,ae;if(w)for(ae=w.length-1;ae>=0;ae--)Y=y.g=w[ae],H=Ii(Y,x,!0,y)&&H;if(Y=y.g=h,H=Ii(Y,x,!0,y)&&H,H=Ii(Y,x,!1,y)&&H,w)for(ae=0;ae<w.length;ae++)Y=y.g=w[ae],H=Ii(Y,x,!1,y)&&H}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const w=h.g[y];for(let x=0;x<w.length;x++)ve(w[x]);delete h.g[y],h.h--}}this.G=null},St.prototype.J=function(h,y,w,x){return this.i.add(String(h),y,!1,w,x)},St.prototype.K=function(h,y,w,x){return this.i.add(String(h),y,!0,w,x)};function Ii(h,y,w,x){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let Y=0;Y<y.length;++Y){const ae=y[Y];if(ae&&!ae.da&&ae.capture==w){const Ce=ae.listener,bt=ae.ha||ae.src;ae.fa&&Se(h.i,ae),H=Ce.call(bt,x)!==!1&&H}}return H&&!x.defaultPrevented}function of(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function oc(h){h.g=of(()=>{h.g=null,h.i&&(h.i=!1,oc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class hn extends L{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:oc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(h){L.call(this),this.h=h,this.g={}}E(js,L);var cl=[];function hl(h){qe(h.g,function(y,w){this.g.hasOwnProperty(w)&&Da(y)},h),h.g={}}js.prototype.N=function(){js.Z.N.call(this),hl(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=c.JSON.stringify,lf=c.JSON.parse,lc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function uc(){}function cc(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){j.call(this,"d")}E(Kt,j);function Mn(){j.call(this,"c")}E(Mn,j);var vt={},hc=null;function ja(){return hc=hc||new St}vt.Ia="serverreachability";function dc(h){j.call(this,vt.Ia,h)}E(dc,j);function wr(h){const y=ja();Lt(y,new dc(y))}vt.STAT_EVENT="statevent";function Ps(h,y){j.call(this,vt.STAT_EVENT,h),this.stat=y}E(Ps,j);function xt(h){const y=ja();Lt(y,new Ps(y,h))}vt.Ja="timingevent";function Er(h,y){j.call(this,vt.Ja,h),this.size=y}E(Er,j);function Tr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function uf(h,y,w,x,H,Y){h.info(function(){if(h.g)if(Y){var ae="",Ce=Y.split("&");for(let $e=0;$e<Ce.length;$e++){var bt=Ce[$e].split("=");if(bt.length>1){const ht=bt[0];bt=bt[1];const zn=ht.split("_");ae=zn.length>=2&&zn[1]=="type"?ae+(ht+"="+bt+"&"):ae+(ht+"=redacted&")}}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+y+`
`+w+`
`+ae})}function fc(h,y,w,x,H,Y,ae){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+y+`
`+w+`
`+Y+" "+ae})}function Sr(h,y,w,x){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+cf(h,w)+(x?" "+x:"")})}function Ms(h,y){h.info(function(){return"TIMEOUT: "+y})}Zn.prototype.info=function(){};function cf(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var w=Y[h];if(!(w.length<2)){var x=w[1];if(Array.isArray(x)&&!(x.length<1)){var H=x[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ae=1;ae<x.length;ae++)x[ae]=""}}}}return ki(Y)}catch{return y}}var Vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fl;function Ls(){}E(Ls,uc),Ls.prototype.g=function(){return new XMLHttpRequest},fl=new Ls;function Jr(h){return encodeURIComponent(String(h))}function mc(h){var y=1;h=h.split(":");const w=[];for(;y>0&&h.length;)w.push(h.shift()),y--;return h.length&&w.push(h.join(":")),w}function er(h,y,w,x){this.j=h,this.i=y,this.l=w,this.S=x||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new tr}function tr(){this.i=null,this.g="",this.h=!1}var At={},Ht={};function xr(h,y,w){h.M=1,h.A=Us(Ct(y)),h.u=w,h.R=!0,Pa(h,null)}function Pa(h,y){h.F=Date.now(),Ar(h),h.B=Ct(h.A);var w=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),Ua(w.i,"t",x),h.C=0,w=h.j.L,h.h=new tr,h.g=Ic(h.j,w?y:null,!h.u),h.P>0&&(h.O=new hn(p(h.Y,h,h.g),h.P)),y=h.V,w=h.g,x=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(cl[0]=H.toString()),H=cl);for(let Y=0;Y<H.length;Y++){const ae=ct(w,H[Y],x||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),wr(),uf(h.i,h.v,h.B,h.l,h.S,h.u)}er.prototype.ba=function(h){h=h.target;const y=this.O;y&&ir(h)==3?y.j():this.Y(h)},er.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=ir(this.g),bt=this.g.ya(),$e=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ce!=4||bt==7||(bt==8||$e<=0?wr(3):wr(2)),Rr(this);var y=this.g.ca();this.X=y;var w=hf(this);if(this.o=y==200,fc(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var x,H=this.g;if((x=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(x)){var Y=x;break t}}Y=null}if(h=Y)Sr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cr(this,h);else{this.o=!1,this.m=3,xt(12),Tn(this),Vn(this);break e}}if(this.R){h=!0;let ht;for(;!this.K&&this.C<w.length;)if(ht=pc(this,w),ht==Ht){Ce==4&&(this.m=4,xt(14),h=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==At){this.m=4,xt(15),Sr(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Sr(this.i,this.l,ht,null),Cr(this,ht);if(gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||w.length!=0||this.h.h||(this.m=1,xt(16),h=!1),this.o=this.o&&h,!h)Sr(this.i,this.l,w,"[Invalid Chunked Response]"),Tn(this),Vn(this);else if(w.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Cl(ae),ae.P=!0,xt(11))}}else Sr(this.i,this.l,w,null),Cr(this,w);Ce==4&&Tn(this),this.o&&!this.K&&(Ce==4?xc(this.j,this):(this.o=!1,Ar(this)))}else ei(this.g),y==400&&w.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Tn(this),Vn(this)}}}catch{}finally{}};function hf(h){if(!gc(h))return h.g.la();const y=Qt(h.g);if(y==="")return"";let w="";const x=y.length,H=ir(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),Vn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<x;Y++)h.h.h=!0,w+=h.h.i.decode(y[Y],{stream:!(H&&Y==x-1)});return y.length=0,h.h.g+=w,h.C=0,h.h.g}function gc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function pc(h,y){var w=h.C,x=y.indexOf(`
`,w);return x==-1?Ht:(w=Number(y.substring(w,x)),isNaN(w)?At:(x+=1,x+w>y.length?Ht:(y=y.slice(x,x+w),h.C=x+w,y)))}er.prototype.cancel=function(){this.K=!0,Tn(this)};function Ar(h){h.T=Date.now()+h.H,Ma(h,h.H)}function Ma(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Tr(p(h.aa,h),y)}function Rr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}er.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ms(this.i,this.B),this.M!=2&&(wr(),xt(17)),Tn(this),this.m=2,Vn(this)):Ma(this,this.T-h)};function Vn(h){h.j.I==0||h.K||xc(h.j,h)}function Tn(h){Rr(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,hl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Cr(h,y){try{var w=h.j;if(w.I!=0&&(w.g==h||kr(w.h,h))){if(!h.L&&kr(w.h,h)&&w.I==3){try{var x=w.Ba.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)Fa(w),Li(w);else break e;Gs(w),xt(18)}}else w.xa=H[1],0<w.xa-w.K&&H[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Tr(p(w.Va,w),6e3));Ir(w.h)<=1&&w.ta&&(w.ta=void 0)}else Mr(w,11)}else if((h.L||w.g==h)&&Fa(w),!O(y))for(H=w.Ba.g.parse(y),y=0;y<H.length;y++){let $e=H[y];const ht=$e[0];if(!(ht<=w.K))if(w.K=ht,$e=$e[1],w.I==2)if($e[0]=="c"){w.M=$e[1],w.ba=$e[2];const zn=$e[3];zn!=null&&(w.ka=zn,w.j.info("VER="+w.ka));const Vr=$e[4];Vr!=null&&(w.za=Vr,w.j.info("SVER="+w.za));const sr=$e[5];sr!=null&&typeof sr=="number"&&sr>0&&(x=1.5*sr,w.O=x,w.j.info("backChannelRequestTimeoutMs_="+x)),x=w;const ar=h.g;if(ar){const Ks=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var Y=x.h;Y.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(pl(Y,Y.h),Y.h=null))}if(x.G){const $a=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(x.wa=$a,Ye(x.J,x.G,$a))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),x=w;var ae=h;if(x.na=Cc(x,x.L?x.ba:null,x.W),ae.L){yl(x.h,ae);var Ce=ae,bt=x.O;bt&&(Ce.H=bt),Ce.D&&(Rr(Ce),Ar(Ce)),x.g=ae}else Tc(x);w.i.length>0&&Pr(w)}else $e[0]!="stop"&&$e[0]!="close"||Mr(w,7);else w.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Mr(w,7):Al(w):$e[0]!="noop"&&w.l&&w.l.qa($e),w.A=0)}}wr(4)}catch{}}var Rt=class{constructor(h,y){this.g=h,this.map=y}};function ml(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ir(h){return h.h?1:h.g?h.g.size:0}function kr(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function pl(h,y){h.g?h.g.add(y):h.h=y}function yl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ml.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _l(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const w of h.g.values())y=y.concat(w.G);return y}return A(h.i)}var yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(h,y){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const x=h[w].indexOf("=");let H,Y=null;x>=0?(H=h[w].substring(0,x),Y=h[w].substring(x+1)):H=h[w],y(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Sn?(this.l=h.l,Ft(this,h.j),this.o=h.o,this.g=h.g,Oi(this,h.u),this.h=h.h,vl(this,wc(h.i)),this.m=h.m):h&&(y=String(h).match(yc))?(this.l=!1,Ft(this,y[1]||"",!0),this.o=Or(y[2]||""),this.g=Or(y[3]||"",!0),Oi(this,y[4]),this.h=Or(y[5]||"",!0),vl(this,y[6]||"",!0),this.m=Or(y[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}Sn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(zs(y,La,!0),":");var w=this.g;return(w||y=="file")&&(h.push("//"),(y=this.o)&&h.push(zs(y,La,!0),"@"),h.push(Jr(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(zs(w,w.charAt(0)=="/"?bl:_c,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",zs(w,vc)),h.join("")},Sn.prototype.resolve=function(h){const y=Ct(this);let w=!!h.j;w?Ft(y,h.j):w=!!h.o,w?y.o=h.o:w=!!h.g,w?y.g=h.g:w=h.u!=null;var x=h.h;if(w)Oi(y,h.u);else if(w=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var H=y.h.lastIndexOf("/");H!=-1&&(x=y.h.slice(0,H+1)+x)}if(H=x,H==".."||H==".")x="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){x=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let ae=0;ae<H.length;){const Ce=H[ae++];Ce=="."?x&&ae==H.length&&Y.push(""):Ce==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),x&&ae==H.length&&Y.push("")):(Y.push(Ce),x=!0)}x=Y.join("/")}else x=H}return w?y.h=x:w=h.i.toString()!=="",w?vl(y,wc(h.i)):w=!!h.m,w&&(y.m=h.m),y};function Ct(h){return new Sn(h)}function Ft(h,y,w){h.j=w?Or(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Oi(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function vl(h,y,w){y instanceof Di?(h.i=y,za(h.i,h.l)):(w||(y=zs(y,Ni)),h.i=new Di(y,h.l))}function Ye(h,y,w){h.i.set(y,w)}function Us(h){return Ye(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Or(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function zs(h,y,w){return typeof h=="string"?(h=encodeURI(h).replace(y,gn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var La=/[#\/\?@]/g,_c=/[#\?:]/g,bl=/[#\?]/g,Ni=/[#\?@]/g,vc=/#/g;function Di(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&Va(h.i,function(y,w){h.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}r=Di.prototype,r.add=function(h,y){pn(this),this.i=null,h=ji(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(y),this.h+=1,this};function bc(h,y){pn(h),y=ji(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function wl(h,y){return pn(h),y=ji(h,y),h.g.has(y)}r.forEach=function(h,y){pn(this),this.g.forEach(function(w,x){w.forEach(function(H){h.call(y,H,x,this)},this)},this)};function El(h,y){pn(h);let w=[];if(typeof y=="string")wl(h,y)&&(w=w.concat(h.g.get(ji(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)w=w.concat(h[y]);return w}r.set=function(h,y){return pn(this),this.i=null,h=ji(this,h),wl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=El(this,h),h.length>0?String(h[0]):y):y};function Ua(h,y,w){bc(h,y),w.length>0&&(h.i=null,h.g.set(ji(h,y),A(w)),h.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let x=0;x<y.length;x++){var w=y[x];const H=Jr(w);w=El(this,w);for(let Y=0;Y<w.length;Y++){let ae=H;w[Y]!==""&&(ae+="="+Jr(w[Y])),h.push(ae)}}return this.i=h.join("&")};function wc(h){const y=new Di;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function ji(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function za(h,y){y&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(w,x){const H=x.toLowerCase();x!=H&&(bc(this,x),Ua(this,H,w))},h)),h.j=y}function nr(h,y){const w=new Zn;if(c.Image){const x=new Image;x.onload=_(Ln,w,"TestLoadImage: loaded",!0,y,x),x.onerror=_(Ln,w,"TestLoadImage: error",!1,y,x),x.onabort=_(Ln,w,"TestLoadImage: abort",!1,y,x),x.ontimeout=_(Ln,w,"TestLoadImage: timeout",!1,y,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else y(!1)}function Tl(h,y){const w=new Zn,x=new AbortController,H=setTimeout(()=>{x.abort(),Ln(w,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:x.signal}).then(Y=>{clearTimeout(H),Y.ok?Ln(w,"TestPingServer: ok",!0,y):Ln(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Ln(w,"TestPingServer: error",!1,y)})}function Ln(h,y,w,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(w)}catch{}}function Pi(){this.g=new lc}function Nr(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Nr,uc),Nr.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(h,y){St.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Bs,St),r=Bs.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,rr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Mi(this):rr(this),this.readyState==3&&Ba(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Mi(this))},r.Na=function(h){this.g&&(this.response=h,Mi(this))},r.ga=function(){this.g&&Mi(this)};function Mi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,rr(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=y.next();return h.join(`\r
`)};function rr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Un(h){let y="";return qe(h,function(w,x){y+=x,y+=":",y+=w,y+=`\r
`}),y}function qs(h,y,w){e:{for(x in w){var x=!1;break e}x=!0}x||(w=Un(w),typeof h=="string"?w!=null&&Jr(w):Ye(h,y,w))}function Je(h){St.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,St);var Dr=/^https?$/i,Sl=["POST","PUT"];r=Je.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,w,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fl.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Hs(this,Y);return}if(h=w||"",w=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)w.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())w.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Sl,y,void 0)>=0)||x||H||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of w)this.g.setRequestHeader(Y,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Hs(this,Y)}};function Hs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,xl(h),Zr(h)}function xl(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),Zr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zr(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},r.Xa=function(){Fs(this)};function Fs(h){if(h.h&&typeof l<"u"){if(h.v&&ir(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),ir(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var x;if(x=Y===0){let ae=String(h.D).match(yc)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),x=!Dr.test(ae?ae.toLowerCase():"")}w=x}if(w)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var H=ir(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",xl(h)}}finally{Zr(h)}}}}function Zr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,y||Lt(h,"ready");try{w.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ir(h){return h.g?h.g.readyState:0}r.ca=function(){try{return ir(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),lf(y)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ei(h){const y={};h=(h.g&&ir(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(O(h[x]))continue;var w=mc(h[x]);const H=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=y[H]||[];y[H]=Y,Y.push(w)}Qe(y,function(x){return x.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(h,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||y}function Vi(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=jr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=jr("baseRetryDelayMs",5e3,h),this.Za=jr("retryDelaySeedMs",1e4,h),this.Ta=jr("forwardChannelMaxRetries",2,h),this.va=jr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(h&&h.concurrentRequestLimit),this.Ba=new Pi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vi.prototype,r.ka=8,r.I=1,r.connect=function(h,y,w,x){xt(0),this.W=h,this.H=y||{},w&&x!==void 0&&(this.H.OSID=w,this.H.OAID=x),this.F=this.X,this.J=Cc(this,null,this.W),Pr(this)};function Al(h){if(qa(h),h.I==3){var y=h.V++,w=Ct(h.J);if(Ye(w,"SID",h.M),Ye(w,"RID",y),Ye(w,"TYPE","terminate"),$s(h,w),y=new er(h,h.j,y),y.M=2,y.A=Us(Ct(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=y.A,w=!0),w||(y.g=Ic(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ar(y)}Rc(h)}function Li(h){h.g&&(Cl(h),h.g.cancel(),h.g=null)}function qa(h){Li(h),h.v&&(c.clearTimeout(h.v),h.v=null),Fa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Pr(h){if(!gl(h.h)&&!h.m){h.m=!0;var y=h.Ea;oe||R(),se||(oe(),se=!0),C.add(y,h),h.D=0}}function Ha(h,y){return Ir(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Tr(p(h.Ea,h,y),Ac(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new er(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=V(Y),ue(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var x=this.i[w];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,y>4096){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Ec(this,H,y),w=Ct(this.J),Ye(w,"RID",h),Ye(w,"CVER",22),this.G&&Ye(w,"X-HTTP-Session-Id",this.G),$s(this,w),Y&&(this.R?y="headers="+Jr(Un(Y))+"&"+y:this.u&&qs(w,this.u,Y)),pl(this.h,H),this.Ra&&Ye(w,"TYPE","init"),this.S?(Ye(w,"$req",y),Ye(w,"SID","null"),H.U=!0,xr(H,w,null)):xr(H,w,y),this.I=2}}else this.I==3&&(h?Rl(this,h):this.i.length==0||gl(this.h)||Rl(this))};function Rl(h,y){var w;y?w=y.l:w=h.V++;const x=Ct(h.J);Ye(x,"SID",h.M),Ye(x,"RID",w),Ye(x,"AID",h.K),$s(h,x),h.u&&h.o&&qs(x,h.u,h.o),w=new er(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Ec(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),pl(h.h,w),xr(w,x,y)}function $s(h,y){h.H&&qe(h.H,function(w,x){Ye(y,x,w)}),h.l&&qe({},function(w,x){Ye(y,x,w)})}function Ec(h,y,w){w=Math.min(h.i.length,w);const x=h.l?p(h.l.Ka,h.l,h):null;e:{var H=h.i;let Ce=-1;for(;;){const bt=["count="+w];Ce==-1?w>0?(Ce=H[0].g,bt.push("ofs="+Ce)):Ce=0:bt.push("ofs="+Ce);let $e=!0;for(let ht=0;ht<w;ht++){var Y=H[ht].g;const zn=H[ht].map;if(Y-=Ce,Y<0)Ce=Math.max(0,H[ht].g-100),$e=!1;else try{Y="req"+Y+"_"||"";try{var ae=zn instanceof Map?zn:Object.entries(zn);for(const[Vr,sr]of ae){let ar=sr;f(sr)&&(ar=ki(sr)),bt.push(Y+Vr+"="+encodeURIComponent(ar))}}catch(Vr){throw bt.push(Y+"type="+encodeURIComponent("_badmap")),Vr}}catch{x&&x(zn)}}if($e){ae=bt.join("&");break e}}ae=void 0}return h=h.i.splice(0,w),y.G=h,ae}function Tc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;oe||R(),se||(oe(),se=!0),C.add(y,h),h.A=0}}function Gs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Tr(p(h.Da,h),Ac(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Sc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Tr(p(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Li(this),Sc(this))};function Cl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Sc(h){h.g=new er(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ct(h.na);Ye(y,"RID","rpc"),Ye(y,"SID",h.M),Ye(y,"AID",h.K),Ye(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ye(y,"TO",h.ia),Ye(y,"TYPE","xmlhttp"),$s(h,y),h.u&&h.o&&qs(y,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=Us(Ct(y)),w.u=null,w.R=!0,Pa(w,h)}r.Va=function(){this.C!=null&&(this.C=null,Li(this),Gs(this),xt(19))};function Fa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function xc(h,y){var w=null;if(h.g==y){Fa(h),Cl(h),h.g=null;var x=2}else if(kr(h.h,y))w=y.G,yl(h.h,y),x=1;else return;if(h.I!=0){if(y.o)if(x==1){w=y.u?y.u.length:0,y=Date.now()-y.F;var H=h.D;x=ja(),Lt(x,new Er(x,w)),Pr(h)}else Tc(h);else if(H=y.m,H==3||H==0&&y.X>0||!(x==1&&Ha(h,y)||x==2&&Gs(h)))switch(w&&w.length>0&&(y=h.h,y.i=y.i.concat(w)),H){case 1:Mr(h,5);break;case 4:Mr(h,10);break;case 3:Mr(h,6);break;default:Mr(h,2)}}}function Ac(h,y){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*y}function Mr(h,y){if(h.j.info("Error code "+y),y==2){var w=p(h.bb,h),x=h.Ua;const H=!x;x=new Sn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ft(x,"https"),Us(x),H?nr(x.toString(),w):Tl(x.toString(),w)}else xt(2);h.I=0,h.l&&h.l.pa(y),Rc(h),qa(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Rc(h){if(h.I=0,h.ja=[],h.l){const y=_l(h.h);(y.length!=0||h.i.length!=0)&&(D(h.ja,y),D(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function Cc(h,y,w){var x=w instanceof Sn?Ct(w):new Sn(w);if(x.g!="")y&&(x.g=y+"."+x.g),Oi(x,x.u);else{var H=c.location;x=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const Y=new Sn(null);x&&Ft(Y,x),y&&(Y.g=y),H&&Oi(Y,H),w&&(Y.h=w),x=Y}return w=h.G,y=h.wa,w&&y&&Ye(x,w,y),Ye(x,"VER",h.ka),$s(h,x),x}function Ic(h,y,w){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Je(new Nr({ab:w})):new Je(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}r=kc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ui(){}Ui.prototype.g=function(h,y){return new dn(h,y)};function dn(h,y){St.call(this),this.g=new Vi(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!O(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ti(this)}E(dn,St),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Al(this.g)},dn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=ki(h),h=w);y.i.push(new Rt(y.Ya++,h)),y.I==3&&Pr(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,dn.Z.N.call(this)};function Oc(h){Kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const w in y){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Oc,Kt);function Nc(){Mn.call(this),this.status=1}E(Nc,Mn);function ti(h){this.g=h}E(ti,kc),ti.prototype.ra=function(){Lt(this.g,"a")},ti.prototype.qa=function(h){Lt(this.g,new Oc(h))},ti.prototype.pa=function(h){Lt(this.g,new Nc)},ti.prototype.oa=function(){Lt(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,XE=function(){return new Ui},WE=function(){return ja()},YE=vt,Kg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,sd=Vs,dl.COMPLETE="complete",QE=dl,cc.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",St.prototype.listen=St.prototype.J,pu=cc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,KE=Je}).apply(typeof Lh<"u"?Lh:typeof self<"u"?self:typeof window<"u"?window:{});const e1="@firebase/firestore",t1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Mp("@firebase/firestore");function Ro(){return Ea.logLevel}function ce(r,...e){if(Ea.logLevel<=Me.DEBUG){const t=e.map(Wp);Ea.debug(`Firestore (${Zo}): ${r}`,...t)}}function Ai(r,...e){if(Ea.logLevel<=Me.ERROR){const t=e.map(Wp);Ea.error(`Firestore (${Zo}): ${r}`,...t)}}function Bo(r,...e){if(Ea.logLevel<=Me.WARN){const t=e.map(Wp);Ea.warn(`Firestore (${Zo}): ${r}`,...t)}}function Wp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,JE(r,i,t)}function JE(r,e,t){let i=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ai(i),new Error(i)}function Ke(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||JE(e,a,i)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(on.UNAUTHENTICATED)))}shutdown(){}}class c3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class h3{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new bs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new bs)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new ZE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class d3{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f3{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new d3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const i=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new n1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=g3(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Ve(r,e){return r<e?-1:r>e?1:0}function Qg(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return bg(a)===bg(l)?Ve(a,l):bg(a)?1:-1}return Ve(r.length,e.length)}const p3=55296,y3=57343;function bg(r){const e=r.charCodeAt(0);return e>=p3&&e<=y3}function qo(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="__name__";class qr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ee(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=qr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ve(e.length,t.length)}static compareSegments(e,t){const i=qr.isNumericId(e),a=qr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?qr.extractNumericId(e).compare(qr.extractNumericId(t)):Qg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vs.fromString(e.substring(4,e.length-2))}}class at extends qr{construct(e,t,i){return new at(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new at(t)}static emptyPath(){return new at([])}}const _3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends qr{construct(e,t,i){return new en(e,t,i)}static isValidIdentifier(e){return _3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r1}static keyField(){return new en([r1])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(at.fromString(e))}static fromName(e){return new _e(at.fromString(e).popFirst(5))}static empty(){return new _e(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r,e,t){if(!t)throw new he(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function v3(r,e,t,i){if(e===!0&&i===!0)throw new he(ne.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function i1(r){if(!_e.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function s1(r){if(_e.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function tT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Du(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fd(r);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r,e){const t={typeString:r};return e&&(t.value=e),t}function ec(r,e){if(!tT(r))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new he(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=-62135596800,o1=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*o1);return new ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<a1)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o1}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ec(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-a1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Mt("string",ut._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ut(0,0))}static max(){return new xe(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=-1;function b3(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(i===1e9?new ut(t+1,0):new ut(t,i));return new Es(a,_e.empty(),e)}function w3(r){return new Es(r.readTime,r.key,ju)}class Es{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Es(xe.min(),_e.empty(),ju)}static max(){return new Es(xe.max(),_e.empty(),ju)}}function E3(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==T3)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,i)=>{t(e)}))}static reject(e){return new re(((t,i)=>{i(e)}))}static waitFor(e){return new re(((t,i)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(m=>i(m)))})),c=!0,l===a&&t()}))}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next((a=>a?re.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new re(((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next((_=>{c[p]=_,++f,f===l&&i(c)}),(_=>a(_)))}}))}static doWhile(e,t){return new re(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function x3(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$d.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function Gd(r){return r==null}function Ed(r){return r===0&&1/r==-1/0}function A3(r){return typeof r=="number"&&Number.isInteger(r)&&!Ed(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="";function R3(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=l1(e)),e=C3(r.get(t),e);return l1(e)}function C3(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case nT:t+="";break;default:t+=l}}return t}function l1(r){return r+nT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Aa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function rT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uh(this.root,e,this.comparator,!0)}}class Uh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=a??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Zt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new c1(this.data.getIterator())}getIteratorFrom(e){return new c1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class c1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new pr([])}unionWith(e){let t=new qt(en.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new iT("Invalid base64 string: "+l):l}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const I3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const t=I3.exec(r);if(Ke(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ss(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="server_timestamp",aT="__type__",oT="__previous_value__",lT="__local_write_time__";function Zp(r){return(r?.mapValue?.fields||{})[aT]?.stringValue===sT}function Kd(r){const e=r.mapValue.fields[oT];return Zp(e)?Kd(e):e}function Pu(r){const e=Ts(r.mapValue.fields[lT].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,t,i,a,l,c,f,m,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=_}}const Td="(default)";class Mu{constructor(e,t){this.projectId=e,this.database=t||Td}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===Td}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__type__",O3="__max__",zh={mapValue:{}},cT="__vector__",Sd="value";function xs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zp(r)?4:D3(r)?9007199254740991:N3(r)?10:11:Ee(28295,{value:r})}function Yr(r,e){if(r===e)return!0;const t=xs(r);if(t!==xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pu(r).isEqual(Pu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ts(a.timestampValue),f=Ts(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Ss(a.bytesValue).isEqual(Ss(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return Tt(a.geoPointValue.latitude)===Tt(l.geoPointValue.latitude)&&Tt(a.geoPointValue.longitude)===Tt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Tt(a.integerValue)===Tt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Tt(a.doubleValue),f=Tt(l.doubleValue);return c===f?Ed(c)===Ed(f):isNaN(c)&&isNaN(f)}return!1})(r,e);case 9:return qo(r.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(u1(c)!==u1(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Yr(c[m],f[m])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Vu(r,e){return(r.values||[]).find((t=>Yr(t,e)))!==void 0}function Ho(r,e){if(r===e)return 0;const t=xs(r),i=xs(e);if(t!==i)return Ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Tt(l.integerValue||l.doubleValue),m=Tt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(r,e);case 3:return h1(r.timestampValue,e.timestampValue);case 4:return h1(Pu(r),Pu(e));case 5:return Qg(r.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ss(l),m=Ss(c);return f.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const _=Ve(f[p],m[p]);if(_!==0)return _}return Ve(f.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ve(Tt(l.latitude),Tt(c.latitude));return f!==0?f:Ve(Tt(l.longitude),Tt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return d1(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},p=f[Sd]?.arrayValue,_=m[Sd]?.arrayValue,E=Ve(p?.values?.length||0,_?.values?.length||0);return E!==0?E:d1(p,_)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===zh.mapValue&&c===zh.mapValue)return 0;if(l===zh.mapValue)return 1;if(c===zh.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let E=0;E<m.length&&E<_.length;++E){const T=Qg(m[E],_[E]);if(T!==0)return T;const A=Ho(f[m[E]],p[_[E]]);if(A!==0)return A}return Ve(m.length,_.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function h1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const t=Ts(r),i=Ts(e),a=Ve(t.seconds,i.seconds);return a!==0?a:Ve(t.nanos,i.nanos)}function d1(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Ho(t[a],i[a]);if(l)return l}return Ve(t.length,i.length)}function Fo(r){return Yg(r)}function Yg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Ts(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ss(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return _e.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Yg(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Yg(t.fields[c])}`;return a+"}"})(r.mapValue):Ee(61005,{value:r})}function ad(r){switch(xs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kd(r);return e?16+ad(e):16;case 5:return 2*r.stringValue.length;case 6:return Ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+ad(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return Aa(i.fields,((l,c)=>{a+=l.length+ad(c)})),a})(r.mapValue);default:throw Ee(13486,{value:r})}}function f1(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Wg(r){return!!r&&"integerValue"in r}function ey(r){return!!r&&"arrayValue"in r}function m1(r){return!!r&&"nullValue"in r}function g1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function od(r){return!!r&&"mapValue"in r}function N3(r){return(r?.mapValue?.fields||{})[uT]?.stringValue===cT}function Eu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Aa(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Eu(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eu(r.arrayValue.values[t]);return e}return{...r}}function D3(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===O3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!od(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(t)}setAll(e){let t=en.emptyPath(),i={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=f.popLast()}c?i[f.lastSegment()]=Eu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());od(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];od(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Aa(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Yn(Eu(this.value))}}function hT(r){const e=[];return Aa(r.fields,((t,i)=>{const a=new en([t]);if(od(i)){const l=hT(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,i,a,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new ln(e,0,xe.min(),xe.min(),xe.min(),Yn.empty(),0)}static newFoundDocument(e,t,i,a){return new ln(e,1,t,xe.min(),i,a,0)}static newNoDocument(e,t){return new ln(e,2,t,xe.min(),xe.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,xe.min(),xe.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t){this.position=e,this.inclusive=t}}function p1(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),t.key):i=Ho(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function y1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Yr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t="asc"){this.field=e,this.dir=t}}function j3(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{}class Pt extends dT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new M3(e,t,i):t==="array-contains"?new U3(e,i):t==="in"?new z3(e,i):t==="not-in"?new B3(e,i):t==="array-contains-any"?new q3(e,i):new Pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new V3(e,i):new L3(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ho(t,this.value)):t!==null&&xs(this.value)===xs(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends dT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vr(e,t)}matches(e){return fT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fT(r){return r.op==="and"}function mT(r){return P3(r)&&fT(r)}function P3(r){for(const e of r.filters)if(e instanceof vr)return!1;return!0}function Xg(r){if(r instanceof Pt)return r.field.canonicalString()+r.op.toString()+Fo(r.value);if(mT(r))return r.filters.map((e=>Xg(e))).join(",");{const e=r.filters.map((t=>Xg(t))).join(",");return`${r.op}(${e})`}}function gT(r,e){return r instanceof Pt?(function(i,a){return a instanceof Pt&&i.op===a.op&&i.field.isEqual(a.field)&&Yr(i.value,a.value)})(r,e):r instanceof vr?(function(i,a){return a instanceof vr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&gT(c,a.filters[f])),!0):!1})(r,e):void Ee(19439)}function pT(r){return r instanceof Pt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Fo(t.value)}`})(r):r instanceof vr?(function(t){return t.op.toString()+" {"+t.getFilters().map(pT).join(" ,")+"}"})(r):"Filter"}class M3 extends Pt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class V3 extends Pt{constructor(e,t){super(e,"in",t),this.keys=yT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class L3 extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=yT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yT(r,e){return(e.arrayValue?.values||[]).map((t=>_e.fromName(t.referenceValue)))}class U3 extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ey(t)&&Vu(t.arrayValue,this.value)}}class z3 extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Vu(this.value.arrayValue,t)}}class B3 extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Vu(this.value.arrayValue,t)}}class q3 extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Vu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,t=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function _1(r,e=null,t=[],i=[],a=null,l=null,c=null){return new H3(r,e,t,i,a,l,c)}function ty(r){const e=Re(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Xg(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Fo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Fo(i))).join(",")),e.Te=t}return e.Te}function ny(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!j3(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!gT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!y1(r.startAt,e.startAt)&&y1(r.endAt,e.endAt)}function Jg(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F3(r,e,t,i,a,l,c,f){return new tc(r,e,t,i,a,l,c,f)}function _T(r){return new tc(r)}function v1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function vT(r){return r.collectionGroup!==null}function Tu(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new qt(en.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Ad(l,i))})),t.has(en.keyField().canonicalString())||e.Ie.push(new Ad(en.keyField(),i))}return e.Ie}function Fr(r){const e=Re(r);return e.Ee||(e.Ee=$3(e,Tu(r))),e.Ee}function $3(r,e){if(r.limitType==="F")return _1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Ad(a.field,l)}));const t=r.endAt?new xd(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new xd(r.startAt.position,r.startAt.inclusive):null;return _1(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Zg(r,e){const t=r.filters.concat([e]);return new tc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ep(r,e,t){return new tc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Qd(r,e){return ny(Fr(r),Fr(e))&&r.limitType===e.limitType}function bT(r){return`${ty(Fr(r))}|lt:${r.limitType}`}function Co(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>pT(a))).join(", ")}]`),Gd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Fo(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Fo(a))).join(",")),`Target(${i})`})(Fr(r))}; limitType=${r.limitType})`}function Yd(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Tu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,f,m){const p=p1(c,f,m);return c.inclusive?p<=0:p<0})(i.startAt,Tu(i),a)||i.endAt&&!(function(c,f,m){const p=p1(c,f,m);return c.inclusive?p>=0:p>0})(i.endAt,Tu(i),a))})(r,e)}function G3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wT(r){return(e,t)=>{let i=!1;for(const a of Tu(r)){const l=K3(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function K3(r,e,t){const i=r.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Ho(m,p):Ee(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return rT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new gt(_e.comparator);function Ri(){return Q3}const ET=new gt(_e.comparator);function yu(...r){let e=ET;for(const t of r)e=e.insert(t.key,t);return e}function TT(r){let e=ET;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function pa(){return Su()}function ST(){return Su()}function Su(){return new Ra((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Y3=new gt(_e.comparator),W3=new qt(_e.comparator);function Le(...r){let e=W3;for(const t of r)e=e.add(t);return e}const X3=new qt(Ve);function J3(){return X3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function xT(r){return{integerValue:""+r}}function Z3(r,e){return A3(e)?xT(e):ry(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this._=void 0}}function eO(r,e,t){return r instanceof Lu?(function(a,l){const c={fields:{[aT]:{stringValue:sT},[lT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Zp(l)&&(l=Kd(l)),l&&(c.fields[oT]=l),{mapValue:c}})(t,e):r instanceof Uu?RT(r,e):r instanceof zu?CT(r,e):(function(a,l){const c=AT(a,l),f=b1(c)+b1(a.Ae);return Wg(c)&&Wg(a.Ae)?xT(f):ry(a.serializer,f)})(r,e)}function tO(r,e,t){return r instanceof Uu?RT(r,e):r instanceof zu?CT(r,e):t}function AT(r,e){return r instanceof Rd?(function(i){return Wg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Lu extends Wd{}class Uu extends Wd{constructor(e){super(),this.elements=e}}function RT(r,e){const t=IT(e);for(const i of r.elements)t.some((a=>Yr(a,i)))||t.push(i);return{arrayValue:{values:t}}}class zu extends Wd{constructor(e){super(),this.elements=e}}function CT(r,e){let t=IT(e);for(const i of r.elements)t=t.filter((a=>!Yr(a,i)));return{arrayValue:{values:t}}}class Rd extends Wd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function b1(r){return Tt(r.integerValue||r.doubleValue)}function IT(r){return ey(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t){this.field=e,this.transform=t}}function rO(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof Uu&&a instanceof Uu||i instanceof zu&&a instanceof zu?qo(i.elements,a.elements,Yr):i instanceof Rd&&a instanceof Rd?Yr(i.Ae,a.Ae):i instanceof Lu&&a instanceof Lu})(r.transform,e.transform)}class iO{constructor(e,t){this.version=e,this.transformResults=t}}class Ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ld(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Xd{}function kT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new NT(r.key,Ei.none()):new nc(r.key,r.data,Ei.none());{const t=r.data,i=Yn.empty();let a=new qt(en.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ca(r.key,i,new pr(a.toArray()),Ei.none())}}function sO(r,e,t){r instanceof nc?(function(a,l,c){const f=a.value.clone(),m=E1(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Ca?(function(a,l,c){if(!ld(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=E1(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(OT(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function xu(r,e,t,i){return r instanceof nc?(function(l,c,f,m){if(!ld(l.precondition,c))return f;const p=l.value.clone(),_=T1(l.fieldTransforms,m,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ca?(function(l,c,f,m){if(!ld(l.precondition,c))return f;const p=T1(l.fieldTransforms,m,c),_=c.data;return _.setAll(OT(l)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(r,e,t,i):(function(l,c,f){return ld(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(r,e,t)}function aO(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=AT(i.transform,a||null);l!=null&&(t===null&&(t=Yn.empty()),t.set(i.field,l))}return t||null}function w1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&qo(i,a,((l,c)=>rO(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nc extends Xd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ca extends Xd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function OT(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function E1(r,e,t){const i=new Map;Ke(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,tO(c,f,t[a]))}return i}function T1(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,eO(l,c,e))}return i}class NT extends Xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oO extends Xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&sO(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ST();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const m=kT(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(xe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Le())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,((t,i)=>w1(t,i)))&&qo(this.baseMutations,e.baseMutations,((t,i)=>w1(t,i)))}}class iy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return Y3})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new iy(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Be;function hO(r){switch(r){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function DT(r){if(r===void 0)return Ai("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:r})}}(Be=Dt||(Dt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new vs([4294967295,4294967295],0);function S1(r){const e=dO().encode(r),t=new GE;return t.update(e),new Uint8Array(t.digest())}function x1(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new vs([t,i],0),new vs([a,l],0)]}class sy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _u(`Invalid padding: ${t}`);if(i<0)throw new _u(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new _u(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=vs.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(vs.fromNumber(i)));return a.compare(fO)===1&&(a=new vs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=S1(e),[i,a]=x1(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new sy(l,a,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=S1(e),[i,a]=x1(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Jd(xe.min(),a,new gt(Ve),Ri(),Le())}}class rc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new rc(i,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class jT{constructor(e,t){this.targetId=e,this.Ce=t}}class PT{constructor(e,t,i=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class A1{constructor(){this.ve=0,this.Fe=R1(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),i=Le();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ee(38017,{changeType:l})}})),new rc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=R1()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ri(),this.Je=Bh(),this.He=Bh(),this.Ye=new gt(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Jg(l))if(i===0){const c=new _e(l.path);this.et(t,c,ln.newNoDocument(c,xe.min()))}else Ke(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=Ss(i).toUint8Array()}catch(m){if(m instanceof iT)return Bo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new sy(c,a,l)}catch(m){return Bo(m instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Jg(f.target)){const m=new _e(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ln.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Le();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Jd(e,t,this.Ye,this.je,i);return this.je=Ri(),this.Je=Bh(),this.He=Bh(),this.Ye=new gt(Ve),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new A1,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Bh(){return new gt(_e.comparator)}function R1(){return new gt(_e.comparator)}const gO={asc:"ASCENDING",desc:"DESCENDING"},pO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yO={and:"AND",or:"OR"};class _O{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tp(r,e){return r.useProto3Json||Gd(e)?e:{value:e}}function Cd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vO(r,e){return Cd(r,e.toTimestamp())}function $r(r){return Ke(!!r,49232),xe.fromTimestamp((function(t){const i=Ts(t);return new ut(i.seconds,i.nanos)})(r))}function ay(r,e){return np(r,e).canonicalString()}function np(r,e){const t=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function VT(r){const e=at.fromString(r);return Ke(qT(e),10190,{key:e.toString()}),e}function rp(r,e){return ay(r.databaseId,e.path)}function wg(r,e){const t=VT(e);if(t.get(1)!==r.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(UT(t))}function LT(r,e){return ay(r.databaseId,e)}function bO(r){const e=VT(r);return e.length===4?at.emptyPath():UT(e)}function ip(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function UT(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function C1(r,e,t){return{name:rp(r,e),fields:t.value.mapValue.fields}}function wO(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,_){return p.useProto3Json?(Ke(_===void 0||typeof _=="string",58123),nn.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),nn.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const _=p.code===void 0?ne.UNKNOWN:DT(p.code);return new he(_,p.message||"")})(c);t=new PT(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=wg(r,i.document.name),l=$r(i.document.updateTime),c=i.document.createTime?$r(i.document.createTime):xe.min(),f=new Yn({mapValue:{fields:i.document.fields}}),m=ln.newFoundDocument(a,l,c,f),p=i.targetIds||[],_=i.removedTargetIds||[];t=new ud(p,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=wg(r,i.document),l=i.readTime?$r(i.readTime):xe.min(),c=ln.newNoDocument(a,l),f=i.removedTargetIds||[];t=new ud([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=wg(r,i.document),l=i.removedTargetIds||[];t=new ud([],l,a,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new cO(a,l),f=i.targetId;t=new jT(f,c)}}return t}function EO(r,e){let t;if(e instanceof nc)t={update:C1(r,e.key,e.value)};else if(e instanceof NT)t={delete:rp(r,e.key)};else if(e instanceof Ca)t={update:C1(r,e.key,e.data),updateMask:OO(e.fieldMask)};else{if(!(e instanceof oO))return Ee(16599,{Vt:e.type});t={verify:rp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof Lu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Uu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Rd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ee(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:vO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)})(r,e.precondition)),t}function TO(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?$r(a.updateTime):$r(l);return c.isEqual(xe.min())&&(c=$r(l)),new iO(c,a.transformResults||[])})(t,e)))):[]}function SO(r,e){return{documents:[LT(r,e.path)]}}function xO(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=LT(r,a);const l=(function(p){if(p.length!==0)return BT(vr.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((_=>(function(T){return{field:Io(T.field),direction:CO(T.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=tp(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function AO(r){let e=bO(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ke(i===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const T=zT(E);return T instanceof vr&&mT(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((T=>(function(D){return new Ad(ko(D.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(t.orderBy));let f=null;t.limit&&(f=(function(E){let T;return T=typeof E=="object"?E.value:E,Gd(T)?null:T})(t.limit));let m=null;t.startAt&&(m=(function(E){const T=!!E.before,A=E.values||[];return new xd(A,T)})(t.startAt));let p=null;return t.endAt&&(p=(function(E){const T=!E.before,A=E.values||[];return new xd(A,T)})(t.endAt)),F3(e,a,c,l,f,"F",m,p)}function RO(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zT(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ko(t.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ko(t.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ko(t.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ko(t.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Pt.create(ko(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return vr.create(t.compositeFilter.filters.map((i=>zT(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(r):Ee(30097,{filter:r})}function CO(r){return gO[r]}function IO(r){return pO[r]}function kO(r){return yO[r]}function Io(r){return{fieldPath:r.canonicalString()}}function ko(r){return en.fromServerFormat(r.fieldPath)}function BT(r){return r instanceof Pt?(function(t){if(t.op==="=="){if(g1(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(m1(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(g1(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(m1(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:IO(t.op),value:t.value}}})(r):r instanceof vr?(function(t){const i=t.getFilters().map((a=>BT(a)));return i.length===1?i[0]:{compositeFilter:{op:kO(t.op),filters:i}}})(r):Ee(54877,{filter:r})}function OO(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function qT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t,i,a,l=xe.min(),c=xe.min(),f=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.yt=e}}function DO(r){const e=AO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.Cn=new PO}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Es.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class PO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new qt(at.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new qt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HT=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(HT,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $o(0)}static cr(){return new $o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="LruGarbageCollector",MO=1048576;function O1([r,e],[t,i]){const a=Ve(r,t);return a===0?Ve(e,i):a}class VO{constructor(e){this.Ir=e,this.buffer=new qt(O1),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();O1(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(k1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){tl(t)?ce(k1,"Ignoring IndexedDB error during garbage collection: ",t):await el(t)}await this.Vr(3e5)}))}}class UO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return re.resolve($d.ce);const i=new VO(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(I1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I1):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,f,m,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(p=Date.now(),Ro()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function zO(r,e){return new UO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.changes=new Ra((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&xu(i.mutation,a,pr.empty(),ut.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Le()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Le()){const a=pa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=yu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=pa();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Le())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,a){let l=Ri();const c=Su(),f=(function(){return Su()})();return t.forEach(((m,p)=>{const _=i.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof Ca)?l=l.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),xu(_.mutation,p,_.mutation.getFieldMask(),ut.now())):c.set(p.key,pr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,_)=>c.set(p,_))),t.forEach(((p,_)=>f.set(p,new qO(_,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=Su();let a=new gt(((c,f)=>c-f)),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=t.get(m);if(p===null)return;let _=i.get(m)||pr.empty();_=f.applyToLocalView(p,_),i.set(m,_);const E=(a.get(f.batchId)||Le()).add(m);a=a.insert(f.batchId,E)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,_=m.value,E=ST();_.forEach((T=>{if(!l.has(T)){const A=kT(t.get(T),i.get(T));A!==null&&E.set(T,A),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,E))}return re.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):re.resolve(pa());let f=ju,m=l;return c.next((p=>re.forEach(p,((_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{m=m.insert(_,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Le()))).next((_=>({batchId:f,changes:TT(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((i=>{let a=yu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=yu();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(m=>{const p=(function(E,T){return new tc(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((_=>{_.forEach(((E,T)=>{c=c.insert(E,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((m,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,ln.newInvalidDocument(_)))}));let f=yu();return c.forEach(((m,p)=>{const _=l.get(m);_!==void 0&&xu(_.mutation,p,pr.empty(),ut.now()),Yd(t,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:$r(a.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:DO(a.bundledQuery),readTime:$r(a.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.overlays=new gt(_e.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=pa();return re.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),re.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const a=pa(),l=t.length+1,c=new _e(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new gt(((p,_)=>p-_));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let _=l.get(p.largestBatchId);_===null&&(_=pa(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const f=pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,_)=>f.set(p,_))),!(f.size()>=a)););return re.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new uO(t,i));let l=this.qr.get(t);l===void 0&&(l=Le(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.Qr=new qt(Gt.$r),this.Ur=new qt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Gt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Gt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new _e(new at([])),i=new Gt(t,e),a=new Gt(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new at([])),i=new Gt(t,e),a=new Gt(t,e+1);let l=Le();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Gt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Gt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Gt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lO(l,t,i,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Gt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Jp:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Gt(t,0),a=new Gt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new qt(Ve);return t.forEach((a=>{const l=new Gt(a,0),c=new Gt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new Gt(new _e(l),0);let f=new qt(Ve);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),re.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(t.mutations,(a=>{const l=new Gt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Gt(t,0),a=this.Zr.firstAfterOrEqual(i);return re.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.ri=e,this.docs=(function(){return new gt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let i=Ri();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Ri();const c=t.path,f=new _e(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||E3(w3(_),i)<=0||(a.has(_.key)||Yd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ee(9500)}ii(e,t){return re.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new YO(this)}getSize(e){return re.resolve(this.size)}}class YO extends BO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.persistence=e,this.si=new Ra((t=>ty(t)),ny),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new oy,this.targetCount=0,this.ai=$o.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new $o(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t){this.ui={},this.overlays={},this.ci=new $d(0),this.li=!1,this.li=!0,this.hi=new GO,this.referenceDelegate=e(this),this.Pi=new WO(this),this.indexManager=new jO,this.remoteDocumentCache=(function(a){return new QO(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new NO(t),this.Ii=new FO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $O,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new KO(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const a=new XO(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return re.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class XO extends S3{constructor(e){super(),this.currentSequenceNumber=e}}class ly{constructor(e){this.persistence=e,this.Ri=new oy,this.Vi=null}static mi(e){return new ly(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(i=>{const a=_e.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,xe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Id{constructor(e,t){this.persistence=e,this.pi=new Ra((i=>R3(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=zO(this,t)}static mi(e,t){return new Id(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?re.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(i++,l.removeEntry(c,xe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ad(e.data.value)),t}br(e,t,i){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return re.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Le(),a=Le();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new uy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return I4()?8:x3(un())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new JO;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(Ro()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Ro()<=Me.DEBUG&&ce("QueryEngine","Query:",Co(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Ro()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):re.resolve())}ys(e,t){if(v1(t))return re.resolve(null);let i=Fr(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=ep(t,null,"F"),i=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Le(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.Ds(t,f);return this.Cs(t,p,c,m.readTime)?this.ys(e,ep(t,null,"F")):this.vs(e,p,t,m)}))))})))))}ws(e,t,i,a){return v1(t)||a.isEqual(xe.min())?re.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?re.resolve(null):(Ro()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Co(t)),this.vs(e,c,t,b3(a,ju)).next((f=>f)))}))}Ds(e,t){let i=new qt(wT(e));return t.forEach(((a,l)=>{Yd(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Ro()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Co(t)),this.ps.getDocumentsMatchingQuery(e,t,Es.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="LocalStore",eN=3e8;class tN{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new gt(Ve),this.xs=new Ra((l=>ty(l)),ny),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function nN(r,e,t,i){return new tN(r,e,t,i)}async function $T(r,e){const t=Re(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let m=Le();for(const p of a){c.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of l){f.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function rN(r,e){const t=Re(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,_){const E=p.batch,T=E.keys();let A=re.resolve();return T.forEach((D=>{A=A.next((()=>_.getEntry(m,D))).next((P=>{const k=p.docVersions.get(D);Ke(k!==null,48541),P.version.compareTo(k)<0&&(E.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),_.addEntry(P)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Le();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function GT(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function iN(r,e){const t=Re(r),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((_,E)=>{const T=a.get(E);if(!T)return;f.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,E))));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(nn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),a=a.insert(E,A),(function(P,k,B){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=eN?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,A,_)&&f.push(t.Pi.updateTargetData(l,A))}));let m=Ri(),p=Le();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),f.push(sN(l,c,e.documentUpdates).next((_=>{m=_.ks,p=_.qs}))),!i.isEqual(xe.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(_)}return re.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function sN(r,e,t){let i=Le(),a=Le();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=Ri();return t.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(xe.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):ce(cy,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function aN(r,e){const t=Re(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Jp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function oN(r,e){const t=Re(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,re.resolve(a)):t.Pi.allocateTargetId(i).next((c=>(a=new ms(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function sp(r,e,t){const i=Re(r),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!tl(c))throw c;ce(cy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function N1(r,e,t){const i=Re(r);let a=xe.min(),l=Le();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,_){const E=Re(m),T=E.xs.get(_);return T!==void 0?re.resolve(E.Ms.get(T)):E.Pi.getTargetData(p,_)})(i,c,Fr(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:xe.min(),t?l:Le()))).next((f=>(lN(i,G3(e),f),{documents:f,Qs:l})))))}function lN(r,e,t){let i=r.Os.get(e)||xe.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}class D1{constructor(){this.activeTargetIds=J3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uN{constructor(){this.Mo=new D1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new D1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="ConnectivityMonitor";class P1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(j1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(j1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function ap(){return qh===null?qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="RestConnection",hN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Td?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=ap(),f=this.zo(e,t.toUriEncodedString());ce(Eg,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),_=Wo(p);return this.Jo(e,f,m,i,_).then((E=>(ce(Eg,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Bo(Eg,`RPC '${e}' ${c} failed with error: `,E,"url: ",f,"request:",i),E}))}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=hN[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class mN extends dN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=ap();return new Promise(((f,m)=>{const p=new KE;p.setWithCredentials(!0),p.listenOnce(QE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case sd.NO_ERROR:const E=p.getResponseJson();ce(sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case sd.TIMEOUT:ce(sn,`RPC '${e}' ${c} timed out`),m(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:const T=p.getStatus();if(ce(sn,`RPC '${e}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const P=(function(B){const q=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(q)>=0?q:ne.UNKNOWN})(D.status);m(new he(P,D.message))}else m(new he(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(sn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(a);ce(sn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",_,i,15)}))}T_(e,t,i){const a=ap(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=XE(),f=WE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");ce(sn,`Creating RPC '${e}' stream ${a}: ${_}`,m);const E=c.createWebChannel(_,m);this.I_(E);let T=!1,A=!1;const D=new fN({Yo:k=>{A?ce(sn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(T||(ce(sn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),T=!0),ce(sn,`RPC '${e}' stream ${a} sending:`,k),E.send(k))},Zo:()=>E.close()}),P=(k,B,q)=>{k.listen(B,(Q=>{try{q(Q)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return P(E,pu.EventType.OPEN,(()=>{A||(ce(sn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),P(E,pu.EventType.CLOSE,(()=>{A||(A=!0,ce(sn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(E))})),P(E,pu.EventType.ERROR,(k=>{A||(A=!0,Bo(sn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),D.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),P(E,pu.EventType.MESSAGE,(k=>{if(!A){const B=k.data[0];Ke(!!B,16349);const q=B,Q=q?.error||q[0]?.error;if(Q){ce(sn,`RPC '${e}' stream ${a} received error:`,Q);const ie=Q.status;let oe=(function(R){const I=Dt[R];if(I!==void 0)return DT(I)})(ie),se=Q.message;oe===void 0&&(oe=ne.INTERNAL,se="Unknown error status: "+ie+" with message "+Q.message),A=!0,D.a_(new he(oe,se)),E.close()}else ce(sn,`RPC '${e}' stream ${a} received:`,B),D.u_(B)}})),P(f,YE.STAT_EVENT,(k=>{k.stat===Kg.PROXY?ce(sn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===Kg.NOPROXY&&ce(sn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Tg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(r){return new _O(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="PersistentStream";class QT{constructor(e,t,i,a,l,c,f,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new he(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(M1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ce(M1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gN extends QT{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=wO(this.serializer,e),i=(function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?$r(c.readTime):xe.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=ip(this.serializer),t.addTarget=(function(l,c){let f;const m=c.target;if(f=Jg(m)?{documents:SO(l,m)}:{query:xO(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=MT(l,c.resumeToken);const p=tp(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(xe.min())>0){f.readTime=Cd(l,c.snapshotVersion.toTimestamp());const p=tp(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const i=RO(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=ip(this.serializer),t.removeTarget=e,this.q_(t)}}class pN extends QT{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=TO(e.writeResults,e.commitTime),i=$r(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>EO(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{}class _N extends yN{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,np(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ne.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,np(t,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class bN{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ia(this)&&(ce(Ta,"Restarting streams for network reachability change."),await(async function(m){const p=Re(m);p.Ea.add(4),await ic(p),p.Ra.set("Unknown"),p.Ea.delete(4),await ef(p)})(this))}))})),this.Ra=new vN(i,a)}}async function ef(r){if(Ia(r))for(const e of r.da)await e(!0)}async function ic(r){for(const e of r.da)await e(!1)}function YT(r,e){const t=Re(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),my(t)?fy(t):nl(t).O_()&&dy(t,e))}function hy(r,e){const t=Re(r),i=nl(t);t.Ia.delete(e),i.O_()&&WT(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ia(t)&&t.Ra.set("Unknown"))}function dy(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nl(r).Y_(e)}function WT(r,e){r.Va.Ue(e),nl(r).Z_(e)}function fy(r){r.Va=new mO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),nl(r).start(),r.Ra.ua()}function my(r){return Ia(r)&&!nl(r).x_()&&r.Ia.size>0}function Ia(r){return Re(r).Ea.size===0}function XT(r){r.Va=void 0}async function wN(r){r.Ra.set("Online")}async function EN(r){r.Ia.forEach(((e,t)=>{dy(r,e)}))}async function TN(r,e){XT(r),my(r)?(r.Ra.ha(e),fy(r)):r.Ra.set("Unknown")}async function SN(r,e,t){if(r.Ra.set("Online"),e instanceof PT&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(r,e)}catch(i){ce(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await kd(r,i)}else if(e instanceof ud?r.Va.Ze(e):e instanceof jT?r.Va.st(e):r.Va.tt(e),!t.isEqual(xe.min()))try{const i=await GT(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(p);_&&l.Ia.set(p,_.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),WT(l,m);const E=new ms(_.target,m,p,_.sequenceNumber);dy(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){ce(Ta,"Failed to raise snapshot:",i),await kd(r,i)}}async function kd(r,e,t){if(!tl(e))throw e;r.Ea.add(1),await ic(r),r.Ra.set("Offline"),t||(t=()=>GT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(Ta,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await ef(r)}))}function JT(r,e){return e().catch((t=>kd(r,t,e)))}async function tf(r){const e=Re(r),t=As(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jp;for(;xN(e);)try{const a=await aN(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,AN(e,a)}catch(a){await kd(e,a)}ZT(e)&&eS(e)}function xN(r){return Ia(r)&&r.Ta.length<10}function AN(r,e){r.Ta.push(e);const t=As(r);t.O_()&&t.X_&&t.ea(e.mutations)}function ZT(r){return Ia(r)&&!As(r).x_()&&r.Ta.length>0}function eS(r){As(r).start()}async function RN(r){As(r).ra()}async function CN(r){const e=As(r);for(const t of r.Ta)e.ea(t.mutations)}async function IN(r,e,t){const i=r.Ta.shift(),a=iy.from(i,e,t);await JT(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await tf(r)}async function kN(r,e){e&&As(r).X_&&await(async function(i,a){if((function(c){return hO(c)&&c!==ne.ABORTED})(a.code)){const l=i.Ta.shift();As(i).B_(),await JT(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await tf(i)}})(r,e),ZT(r)&&eS(r)}async function V1(r,e){const t=Re(r);t.asyncQueue.verifyOperationInProgress(),ce(Ta,"RemoteStore received new credentials");const i=Ia(t);t.Ea.add(3),await ic(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ef(t)}async function ON(r,e){const t=Re(r);e?(t.Ea.delete(2),await ef(t)):e||(t.Ea.add(2),await ic(t),t.Ra.set("Unknown"))}function nl(r){return r.ma||(r.ma=(function(t,i,a){const l=Re(t);return l.sa(),new gN(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:wN.bind(null,r),t_:EN.bind(null,r),r_:TN.bind(null,r),H_:SN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),my(r)?fy(r):r.Ra.set("Unknown")):(await r.ma.stop(),XT(r))}))),r.ma}function As(r){return r.fa||(r.fa=(function(t,i,a){const l=Re(t);return l.sa(),new pN(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:RN.bind(null,r),r_:kN.bind(null,r),ta:CN.bind(null,r),na:IN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await tf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Ta,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,f=new gy(e,t,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(r,e){if(Ai("AsyncQueue",`${e}: ${r}`),tl(r))return new he(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=yu(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Mo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.ga=new gt(_e.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Go{constructor(e,t,i,a,l,c,f,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Go(e,t,Mo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DN{constructor(){this.queries=U1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Re(t),l=a.queries;a.queries=U1(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function U1(){return new Ra((r=>bT(r)),Qd)}async function jN(r,e){const t=Re(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new NN,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=py(c,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&yy(t)}async function PN(r,e){const t=Re(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function MN(r,e){const t=Re(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(i=!0);c.wa=a}}i&&yy(t)}function VN(r,e,t){const i=Re(r),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function yy(r){r.Ca.forEach((e=>{e.next()}))}var op,z1;(z1=op||(op={})).Ma="default",z1.Cache="cache";class LN{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Go(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.key=e}}class nS{constructor(e){this.key=e}}class UN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=wT(e),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new L1,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,E)=>{const T=a.get(_),A=Yd(this.query,E)?E:null,D=!!T&&this.mutatedKeys.has(T.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;T&&A?T.data.isEqual(A.data)?D!==P&&(i.track({type:3,doc:A}),k=!0):this.su(T,A)||(i.track({type:2,doc:A}),k=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(f=!0)):!T&&A?(i.track({type:0,doc:A}),k=!0):T&&!A&&(i.track({type:1,doc:T}),k=!0,(m||p)&&(f=!0)),k&&(A?(c=c.add(A),l=P?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(A,D){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:k})}};return P(A)-P(D)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),a=a??!1;const f=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new Go(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new nS(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new tS(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _y="SyncEngine";class zN{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class BN{constructor(e){this.key=e,this.hu=!1}}class qN{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ra((f=>bT(f)),Qd),this.Iu=new Map,this.Eu=new Set,this.du=new gt(_e.comparator),this.Au=new Map,this.Ru=new oy,this.Vu={},this.mu=new Map,this.fu=$o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HN(r,e,t=!0){const i=lS(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await rS(i,e,t,!0),a}async function FN(r,e){const t=lS(r);await rS(t,e,!0,!1)}async function rS(r,e,t,i){const a=await oN(r.localStore,Fr(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await $N(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&YT(r.remoteStore,a),f}async function $N(r,e,t,i,a){r.pu=(E,T,A)=>(async function(P,k,B,q){let Q=k.view.ru(B);Q.Cs&&(Q=await N1(P.localStore,k.query,!1).then((({documents:C})=>k.view.ru(C,Q))));const ie=q&&q.targetChanges.get(k.targetId),oe=q&&q.targetMismatches.get(k.targetId)!=null,se=k.view.applyChanges(Q,P.isPrimaryClient,ie,oe);return q1(P,k.targetId,se.au),se.snapshot})(r,E,T,A);const l=await N1(r.localStore,e,!0),c=new UN(e,l.Qs),f=c.ru(l.documents),m=rc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),p=c.applyChanges(f,r.isPrimaryClient,m);q1(r,t,p.au);const _=new zN(e,t,c);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),p.snapshot}async function GN(r,e,t){const i=Re(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Qd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await sp(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&hy(i.remoteStore,a.targetId),lp(i,a.targetId)})).catch(el)):(lp(i,a.targetId),await sp(i.localStore,a.targetId,!0))}async function KN(r,e){const t=Re(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),hy(t.remoteStore,i.targetId))}async function QN(r,e,t){const i=t6(r);try{const a=await(function(c,f){const m=Re(c),p=ut.now(),_=f.reduce(((A,D)=>A.add(D.key)),Le());let E,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=Ri(),P=Le();return m.Ns.getEntries(A,_).next((k=>{D=k,D.forEach(((B,q)=>{q.isValidDocument()||(P=P.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,D))).next((k=>{E=k;const B=[];for(const q of f){const Q=aO(q,E.get(q.key).overlayedDocument);Q!=null&&B.push(new Ca(q.key,Q,hT(Q.value.mapValue),Ei.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,B,f)})).next((k=>{T=k;const B=k.applyToLocalDocumentSet(E,P);return m.documentOverlayCache.saveOverlays(A,k.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:TT(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new gt(Ve)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(i,a.batchId,t),await sc(i,a.changes),await tf(i.remoteStore)}catch(a){const l=py(a,"Failed to persist write");t.reject(l)}}async function iS(r,e){const t=Re(r);try{const i=await iN(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ke(c.hu,14607):a.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))})),await sc(t,i,e)}catch(i){await el(i)}}function B1(r,e,t){const i=Re(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Re(c);m.onlineState=f;let p=!1;m.queries.forEach(((_,E)=>{for(const T of E.Sa)T.va(f)&&(p=!0)})),p&&yy(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function YN(r,e,t){const i=Re(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new gt(_e.comparator);c=c.insert(l,ln.newNoDocument(l,xe.min()));const f=Le().add(l),m=new Jd(xe.min(),new Map,new gt(Ve),c,f);await iS(i,m),i.du=i.du.remove(l),i.Au.delete(e),vy(i)}else await sp(i.localStore,e,!1).then((()=>lp(i,e,t))).catch(el)}async function WN(r,e){const t=Re(r),i=e.batch.batchId;try{const a=await rN(t.localStore,e);aS(t,i,null),sS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await sc(t,a)}catch(a){await el(a)}}async function XN(r,e,t){const i=Re(r);try{const a=await(function(c,f){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return m.mutationQueue.lookupMutationBatch(p,f).next((E=>(Ke(E!==null,37113),_=E.keys(),m.mutationQueue.removeMutationBatch(p,E)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>m.localDocuments.getDocuments(p,_)))}))})(i.localStore,e);aS(i,e,t),sS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await sc(i,a)}catch(a){await el(a)}}function sS(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function aS(r,e,t){const i=Re(r);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function lp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||oS(r,i)}))}function oS(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(hy(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),vy(r))}function q1(r,e,t){for(const i of t)i instanceof tS?(r.Ru.addReference(i.key,e),JN(r,i)):i instanceof nS?(ce(_y,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||oS(r,i.key)):Ee(19791,{wu:i})}function JN(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(ce(_y,"New document in limbo: "+t),r.Eu.add(i),vy(r))}function vy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new _e(at.fromString(e)),i=r.fu.next();r.Au.set(i,new BN(t)),r.du=r.du.insert(t,i),YT(r.remoteStore,new ms(Fr(_T(t.path)),i,"TargetPurposeLimboResolution",$d.ce))}}async function sc(r,e,t){const i=Re(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{c.push(i.pu(m,e,t).then((p=>{if((p||t)&&i.isPrimaryClient){const _=p?!p.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=uy.As(m.targetId,p);l.push(_)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,p){const _=Re(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>re.forEach(p,(T=>re.forEach(T.Es,(A=>_.persistence.referenceDelegate.addReference(E,T.targetId,A))).next((()=>re.forEach(T.ds,(A=>_.persistence.referenceDelegate.removeReference(E,T.targetId,A)))))))))}catch(E){if(!tl(E))throw E;ce(cy,"Failed to update sequence numbers: "+E)}for(const E of p){const T=E.targetId;if(!E.fromCache){const A=_.Ms.get(T),D=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(D);_.Ms=_.Ms.insert(T,P)}}})(i.localStore,l))}async function ZN(r,e){const t=Re(r);if(!t.currentUser.isEqual(e)){ce(_y,"User change. New user:",e.toKey());const i=await $T(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new he(ne.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await sc(t,i.Ls)}}function e6(r,e){const t=Re(r),i=t.Au.get(e);if(i&&i.hu)return Le().add(i.key);{let a=Le();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function lS(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=iS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YN.bind(null,e),e.Pu.H_=MN.bind(null,e.eventManager),e.Pu.yu=VN.bind(null,e.eventManager),e}function t6(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XN.bind(null,e),e}class Od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return nN(this.persistence,new ZO,e.initialUser,this.serializer)}Cu(e){return new FT(ly.mi,this.serializer)}Du(e){return new uN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Od.provider={build:()=>new Od};class n6 extends Od{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof Id,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new LO(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new FT((i=>Id.mi(i,t)),this.serializer)}}class up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>B1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZN.bind(null,this.syncEngine),await ON(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DN})()}createDatastore(e){const t=Zd(e.databaseInfo.databaseId),i=(function(l){return new mN(l)})(e.databaseInfo);return(function(l,c,f,m){return new _N(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,f){return new bN(i,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>B1(this.syncEngine,t,0)),(function(){return P1.v()?new P1:new cN})())}createSyncEngine(e,t){return(function(a,l,c,f,m,p,_){const E=new qN(a,l,c,f,m,p);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Re(t);ce(Ta,"RemoteStore shutting down."),i.Ea.add(5),await ic(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class i6{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ce(Rs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ce(Rs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=py(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Sg(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Rs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await $T(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function H1(r,e){r.asyncQueue.verifyOperationInProgress();const t=await s6(r);ce(Rs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>V1(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>V1(e.remoteStore,a))),r._onlineComponents=e}async function s6(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Rs,"Using user provided OfflineComponentProvider");try{await Sg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Bo("Error using user provided cache. Falling back to memory cache: "+t),await Sg(r,new Od)}}else ce(Rs,"Using default OfflineComponentProvider"),await Sg(r,new n6(void 0));return r._offlineComponents}async function uS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Rs,"Using user provided OnlineComponentProvider"),await H1(r,r._uninitializedComponentsProvider._online)):(ce(Rs,"Using default OnlineComponentProvider"),await H1(r,new up))),r._onlineComponents}function a6(r){return uS(r).then((e=>e.syncEngine))}async function o6(r){const e=await uS(r),t=e.eventManager;return t.onListen=HN.bind(null,e.syncEngine),t.onUnlisten=GN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KN.bind(null,e.syncEngine),t}function l6(r,e,t={}){const i=new bs;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const _=new r6({next:T=>{_.Nu(),c.enqueueAndForget((()=>PN(l,E))),T.fromCache&&m.source==="server"?p.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),E=new LN(f,_,{includeMetadataChanges:!0,qa:!0});return jN(l,E)})(await o6(r),r.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="firestore.googleapis.com",$1=!0;class G1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hS,this.ssl=$1}else this.host=e.host,this.ssl=e.ssl??$1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MO)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cS(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new u3;switch(i.type){case"firstParty":return new f3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=F1.get(t);i&&(ce("ComponentProvider","Removing Datastore"),F1.delete(t),i.terminate())})(this),Promise.resolve()}}function u6(r,e,t,i={}){r=Du(r,nf);const a=Wo(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;a&&(rE(`https://${f}`),iE("Firestore",!0)),l.host!==hS&&l.host!==f&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!_a(m,c)&&(r._setSettings(m),i.mockUserToken)){let p,_;if(typeof i.mockUserToken=="string")p=i.mockUserToken,_=on.MOCK_USER;else{p=b4(i.mockUserToken,r._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new on(E)}r._authCredentials=new c3(new ZE(p,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new rl(this.firestore,e,this._query)}}class Bt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(ec(t,Bt._jsonSchema))return new Bt(e,i||null,new _e(at.fromString(t.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Mt("string",Bt._jsonSchemaVersion),referencePath:Mt("string")};class ws extends rl{constructor(e,t,i){super(e,t,_T(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new _e(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function c6(r,e,...t){if(r=cn(r),eT("collection","path",e),r instanceof nf){const i=at.fromString(e,...t);return s1(i),new ws(r,null,i)}{if(!(r instanceof Bt||r instanceof ws))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(at.fromString(e,...t));return s1(i),new ws(r.firestore,null,i)}}function dS(r,e,...t){if(r=cn(r),arguments.length===1&&(e=Xp.newId()),eT("doc","path",e),r instanceof nf){const i=at.fromString(e,...t);return i1(i),new Bt(r,null,new _e(i))}{if(!(r instanceof Bt||r instanceof ws))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(at.fromString(e,...t));return i1(i),new Bt(r.firestore,r instanceof ws?r.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="AsyncQueue";class Q1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KT(this,"async_queue_retry"),this._c=()=>{const i=Tg();i&&ce(K1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Tg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Tg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tl(e))throw e;ce(K1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",Y1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=gy.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ee(47125,{Pc:Y1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Y1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class by extends nf{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Q1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q1(e),this._firestoreClient=void 0,await e}}}function h6(r,e){const t=typeof r=="object"?r:lE(),i=typeof r=="string"?r:Td,a=Lp(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=_4("firestore");l&&u6(a,...l)}return a}function fS(r){if(r._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||d6(r),r._firestoreClient}function d6(r){const e=r._freezeSettings(),t=(function(a,l,c,f){return new k3(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,cS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new i6(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(nn.fromBase64String(e))}catch(t){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ec(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Mt("string",Wn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gr._jsonSchemaVersion}}static fromJSON(e){if(ec(e,Gr._jsonSchema))return new Gr(e.latitude,e.longitude)}}Gr._jsonSchemaVersion="firestore/geoPoint/1.0",Gr._jsonSchema={type:Mt("string",Gr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ec(e,Kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Kr(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kr._jsonSchemaVersion="firestore/vectorValue/1.0",Kr._jsonSchema={type:Mt("string",Kr._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=/^__.*__$/;class m6{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new nc(e,this.data,t,this.fieldTransforms)}}function mS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Ty{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ty({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mS(this.Ac)&&f6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class g6{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Zd(e)}Cc(e,t,i,a=!1){return new Ty({Ac:e,methodName:t,Dc:i,path:en.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gS(r){const e=r._freezeSettings(),t=Zd(r._databaseId);return new g6(r._databaseId,!!e.ignoreUndefinedProperties,t)}function p6(r,e,t,i,a,l={}){const c=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);_S("Data must be an object, but it was:",c,i);const f=pS(i,c);let m,p;if(l.merge)m=new pr(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const T=_6(e,E,t);if(!c.contains(T))throw new he(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);b6(_,T)||_.push(T)}m=new pr(_),p=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,p=c.fieldTransforms;return new m6(new Yn(f),m,p)}class Sy extends Ey{_toFieldTransform(e){return new nO(e.path,new Lu)}isEqual(e){return e instanceof Sy}}function y6(r,e,t,i=!1){return xy(t,r.Cc(i?4:3,e))}function xy(r,e){if(yS(r=cn(r)))return _S("Unsupported field value:",e,r),pS(r,e);if(r instanceof Ey)return(function(i,a){if(!mS(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let m=xy(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Z3(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ut.fromDate(i);return{timestampValue:Cd(a.serializer,l)}}if(i instanceof ut){const l=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cd(a.serializer,l)}}if(i instanceof Gr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wn)return{bytesValue:MT(a.serializer,i._byteString)};if(i instanceof Bt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ay(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Kr)return(function(c,f){return{mapValue:{fields:{[uT]:{stringValue:cT},[Sd]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return ry(f.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Fd(i)}`)})(r,e)}function pS(r,e){const t={};return rT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(r,((i,a)=>{const l=xy(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function yS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ut||r instanceof Gr||r instanceof Wn||r instanceof Bt||r instanceof Ey||r instanceof Kr)}function _S(r,e,t){if(!yS(t)||!tT(t)){const i=Fd(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function _6(r,e,t){if((e=cn(e))instanceof wy)return e._internalPath;if(typeof e=="string")return vS(r,e);throw Nd("Field path arguments must be of type string or ",r,!1,void 0,t)}const v6=new RegExp("[~\\*/\\[\\]]");function vS(r,e,t){if(e.search(v6)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new wy(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Nd(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new he(ne.INVALID_ARGUMENT,f+r+m)}function b6(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ay("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class w6 extends bS{data(){return super.data()}}function Ay(r,e){return typeof e=="string"?vS(r,e):e instanceof wy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ry{}class T6 extends Ry{}function S6(r,e,...t){let i=[];e instanceof Ry&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((m=>m instanceof Cy)).length,f=l.filter((m=>m instanceof rf)).length;if(c>1||c>0&&f>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class rf extends T6{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new rf(e,t,i)}_apply(e){const t=this._parse(e);return wS(e._query,t),new rl(e.firestore,e.converter,Zg(e._query,t))}_parse(e){const t=gS(e.firestore);return(function(l,c,f,m,p,_,E){let T;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){X1(E,_);const D=[];for(const P of E)D.push(W1(m,l,P));T={arrayValue:{values:D}}}else T=W1(m,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||X1(E,_),T=y6(f,c,E,_==="in"||_==="not-in");return Pt.create(p,_,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function x6(r,e,t){const i=e,a=Ay("where",r);return rf._create(a,i,t)}class Cy extends Ry{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cy(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:vr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)wS(c,m),c=Zg(c,m)})(e._query,t),new rl(e.firestore,e.converter,Zg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W1(r,e,t){if(typeof(t=cn(t))=="string"){if(t==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vT(e)&&t.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(at.fromString(t));if(!_e.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return f1(r,new _e(i))}if(t instanceof Bt)return f1(r,t._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fd(t)}.`)}function X1(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wS(r,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class A6{convertValue(e,t="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Aa(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Sd].arrayValue?.values?.map((i=>Tt(i.doubleValue)));return new Kr(t)}convertGeoPoint(e){return new Gr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Kd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const t=Ts(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=at.fromString(e);Ke(qT(i),9688,{name:e});const a=new Mu(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return a.isEqual(t)||Ai(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Hh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vo extends bS{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ay("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Vo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vo._jsonSchema={type:Mt("string",Vo._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class cd extends Vo{data(e={}){return super.data(e)}}class Lo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Hh(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new cd(this._firestore,this._userDataWriter,i.key,i,new Hh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new cd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Hh(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new cd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Hh(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:C6(f.type),doc:m,oldIndex:p,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C6(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:Mt("string",Lo._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class I6 extends A6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}}function J1(r){r=Du(r,rl);const e=Du(r.firestore,by),t=fS(e),i=new I6(e);return E6(r._query),l6(t,r._query).then((a=>new Lo(e,i,r,a)))}function k6(r,e,t){r=Du(r,Bt);const i=Du(r.firestore,by),a=R6(r.converter,e,t);return O6(i,[p6(gS(i),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Ei.none())])}function O6(r,e){return(function(i,a){const l=new bs;return i.asyncQueue.enqueueAndForget((async()=>QN(await a6(i),a,l))),l.promise})(fS(r),e)}function Z1(){return new Sy("serverTimestamp")}(function(e,t=!0){(function(a){Zo=a})(Xo),zo(new va("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new by(new h3(i.getProvider("auth-internal")),new m3(c,i.getProvider("app-check-internal")),(function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(p.options.projectId,_)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),_s(e1,t1,e),_s(e1,t1,"esm2020")})();const ES=()=>{Object.keys(localStorage).filter(e=>e.includes("firebase:authUser")).forEach(e=>{console.warn("Clearing potentially corrupted auth data:",e),localStorage.removeItem(e)})},N6=r=>{XI(r,e=>{e?(console.debug("Auth state changed - signed in user:",{uid:e.uid,email:e.email,emailVerified:e.emailVerified,isAnonymous:e.isAnonymous}),e.getIdToken(!0).catch(t=>{console.error("Failed to refresh token:",t),t?.code==="auth/invalid-user-token"&&(console.warn("Invalid user token, clearing auth state..."),ES(),JI(r))})):console.debug("Auth state changed - signed out")})},D6={apiKey:"AIzaSyDqs8YOGjtkgm2UCXOxv2huEhR0s8B0Du8",authDomain:"founder-f210a.firebaseapp.com",projectId:"founder-f210a",storageBucket:"founder-f210a.firebasestorage.app",messagingSenderId:"your-messaging-sender-id",appId:"1:913952495991:web:28d64d9e5f30a6c53d6972"},TS=oE(D6),Qr=o3(TS);N6(Qr);const cp=h6(TS);QI(Qr,ME).catch(r=>{console.warn("Firebase auth setPersistence failed:",r),r?.code==="auth/invalid-persistence-type"&&ES()});const j6=()=>{const r=Gu(),[e,t]=K.useState(""),[i,a]=K.useState(""),[l,c]=K.useState(""),[f,m]=K.useState(!1),[p,_]=K.useState(!1),[E,T]=K.useState(""),[A,D]=K.useState(!1),P=async B=>{B.preventDefault(),T(""),D(!0);try{await DE(Qr,e,l),r("/dashboard")}catch(q){T(q.message)}D(!1)},k=async()=>{T(""),D(!0);const B=new mr;try{await Yp(Qr,B),r("/dashboard")}catch(q){T(q.message)}D(!1)};return v.jsxs("div",{className:"relative flex min-h-screen w-full flex-col items-center justify-center bg-background-light dark:bg-background-dark p-4 font-display",children:[v.jsxs(tn,{to:"/getStarted",className:"flex text-black dark:text-white absolute top-5 left-7",children:[v.jsx("button",{className:" text-primary pr-3 pt-0.5",children:v.jsx(Yw,{})}),v.jsx("span",{className:"pt-0.5",children:" Back"})]}),v.jsx("div",{className:"absolute top-4 right-4",children:v.jsxs("button",{className:"flex h-10 w-10 cursor-pointer items-center justify-center rounded-full bg-white dark:bg-background-dark/50 text-gray-700 dark:text-gray-300",children:[v.jsx("span",{className:"material-symbols-outlined dark:hidden",children:v.jsx(Pp,{})}),v.jsx("span",{className:"material-symbols-outlined hidden dark:inline",children:v.jsx(jp,{})})]})}),v.jsxs("main",{className:"flex w-full max-w-md flex-col items-center",children:[v.jsxs("div",{className:"w-full rounded-xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-background-dark/50 p-6 sm:p-8 shadow-sm",children:[v.jsx("div",{className:"flex flex-col items-center text-center mb-8",children:v.jsx("p",{className:"text-[#111714] dark:text-white text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em]",children:"Create Your QuickPlate Account"})}),v.jsxs("form",{onSubmit:P,className:"flex flex-col gap-4",children:[E&&v.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:E}),v.jsxs("label",{className:"flex flex-col",children:[v.jsx("p",{className:"text-[#111714] dark:text-gray-300 text-base font-medium leading-normal pb-2",children:"Full Name"}),v.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111714] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dce5df] dark:border-gray-700 bg-white dark:bg-gray-800 focus:border-primary/50 h-14 placeholder:text-[#648772] dark:placeholder:text-gray-500 p-[15px] text-base font-normal leading-normal",placeholder:"Enter your full name",type:"text",value:i,onChange:B=>a(B.target.value),required:!0})]}),v.jsxs("label",{className:"flex flex-col",children:[v.jsx("p",{className:"text-[#111714] dark:text-gray-300 text-base font-medium leading-normal pb-2",children:"Email Address"}),v.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111714] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dce5df] dark:border-gray-700 bg-white dark:bg-gray-800 focus:border-primary/50 h-14 placeholder:text-[#648772] dark:placeholder:text-gray-500 p-[15px] text-base font-normal leading-normal",placeholder:"Enter your email address",type:"email",value:e,onChange:B=>t(B.target.value),required:!0})]}),v.jsxs("label",{className:"flex flex-col",children:[v.jsx("p",{className:"text-[#111714] dark:text-gray-300 text-base font-medium leading-normal pb-2",children:"Password"}),v.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-lg relative",children:[v.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111714] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dce5df] dark:border-gray-700 bg-white dark:bg-gray-800 focus:border-primary/50 h-14 placeholder:text-[#648772] dark:placeholder:text-gray-500 p-[15px] pr-12 text-base font-normal leading-normal",placeholder:"Enter your password",type:f?"text":"password",value:l,onChange:B=>c(B.target.value),onFocus:()=>_(!0),onBlur:()=>_(!1)}),v.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-4 h-full px-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:f?v.jsx(Np,{size:20}):v.jsx(Dp,{size:20})})]}),v.jsx("div",{className:"mt-4",children:v.jsx(Ww,{password:l,onChange:c,isVisible:p||l.length>0})})]}),v.jsxs("div",{className:"pt-4 flex flex-col gap-4",children:[v.jsx("button",{type:"submit",disabled:A,className:"flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 p-3.5 flex-1 bg-primary text-[#111714] hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background-light dark:focus:ring-offset-background-dark focus:ring-primary text-base font-bold leading-normal tracking-[0.015em] disabled:opacity-50 disabled:cursor-not-allowed",children:v.jsx("span",{className:"truncate",children:A?"Signing up...":"Sign Up as User"})}),v.jsxs("div",{className:"relative flex items-center justify-center mt-2",children:[v.jsx("div",{className:"absolute w-full border-t border-gray-300 dark:border-gray-700"}),v.jsx("div",{className:"relative bg-white dark:bg-background-dark px-4",children:v.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),v.jsxs("button",{type:"button",onClick:k,disabled:A,className:"flex items-center justify-center gap-2 w-full h-12 px-4 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx(Op,{className:"w-5 h-5"}),v.jsx("span",{children:"Sign up with Google"})]}),v.jsx(tn,{to:"/login",className:"text-center text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors",children:"Already have an account? Login"})]})]})]}),v.jsx("div",{className:"absolute bottom-6 text-center mt-6 px-4",children:v.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["By signing up, you agree to our"," ",v.jsx("a",{href:"../LICENSE",className:"underline hover:text-primary dark:hover:text-primary",children:"Open Source License (MIT)"}),"."]})})]}),v.jsx("footer",{className:"absolute bottom-0 text-center",children:v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Powered by QuickPlate Open Source"})})]})},P6=()=>{const r=Gu(),[e,t]=K.useState(""),[i,a]=K.useState(""),[l,c]=K.useState(""),[f,m]=K.useState(""),[p,_]=K.useState(!1),[E,T]=K.useState(!1),[A,D]=K.useState(!1),[P,k]=K.useState(""),B=async(ie,oe=e)=>{const se={ownerId:ie,ownerName:oe,restaurantName:i||null,email:l||null,createdAt:Z1(),updatedAt:Z1(),status:"active"};Object.keys(se).forEach(C=>se[C]===void 0&&delete se[C]);try{console.debug("[saveRestaurantData] writing payload to restaurants/"+ie,se),await k6(dS(cp,"restaurants",ie),se,{merge:!0}),console.debug("[saveRestaurantData] write succeeded for",ie)}catch(C){throw console.error("[saveRestaurantData] Firestore write error:",C),C}},q=async ie=>{if(ie.preventDefault(),!e||!l||!f||!i){k("All fields are required");return}k(""),D(!0);try{const oe=await DE(Qr,l,f);try{await oe.user.getIdToken()}catch(se){console.warn("Could not get ID token immediately after signup:",se)}r("/restaurantsetup"),B(oe.user.uid).catch(se=>{console.error("Background saveRestaurantData error:",se)})}catch(oe){console.error("Signup error:",oe),k(oe?.message||JSON.stringify(oe)||"Failed to create account")}D(!1)},Q=async()=>{if(!i){k("Please enter your restaurant name before signing up with Google");return}k(""),D(!0);const ie=new mr;try{const oe=await Yp(Qr,ie);await B(oe.user.uid,oe.user.displayName),r("/restaurantsetup")}catch(oe){k(oe?.message||"Google sign-in failed")}D(!1)};return v.jsxs("div",{className:"relative flex min-h-screen w-full flex-col items-center justify-center bg-background-light dark:bg-background-dark p-4 font-display text-slate-800 dark:text-slate-200",children:[v.jsx("div",{className:"absolute top-6 right-6",children:v.jsxs("button",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-white/50 dark:bg-black/50 text-slate-700 dark:text-slate-300 backdrop-blur-sm",children:[v.jsx("span",{className:"material-symbols-outlined dark:hidden",children:v.jsx(jp,{})}),v.jsx("span",{className:"material-symbols-outlined hidden dark:inline",children:v.jsx(Pp,{})})]})}),v.jsxs("main",{className:"w-full max-w-md space-y-8 px-4 sm:px-0",children:[v.jsxs("div",{className:"bg-white dark:bg-slate-900/50 p-8 sm:p-10 rounded-xl shadow-lg border border-slate-200 dark:border-slate-800",children:[v.jsx("div",{className:"text-center mb-8",children:v.jsx("p",{className:"text-slate-900 dark:text-white text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em]",children:"Create Your Restaurant Account"})}),v.jsxs("form",{onSubmit:q,className:"space-y-6",children:[P&&v.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:P}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("label",{className:"flex flex-col",children:[v.jsx("p",{className:"text-slate-800 dark:text-slate-200 text-base font-medium leading-normal pb-2",children:"Full Name"}),v.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-800 dark:text-slate-200 focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-slate-300 dark:border-slate-700 bg-background-light dark:bg-background-dark h-14 placeholder:text-slate-400 dark:placeholder:text-slate-500 p-[15px] text-base font-normal leading-normal",placeholder:"Jane Doe",type:"text",value:e,onChange:ie=>t(ie.target.value),required:!0})]}),v.jsxs("label",{className:"flex flex-col",children:[v.jsx("p",{className:"text-slate-800 dark:text-slate-200 text-base font-medium leading-normal pb-2",children:"Restaurant Name"}),v.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-800 dark:text-slate-200 focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-slate-300 dark:border-slate-700 bg-background-light dark:bg-background-dark h-14 placeholder:text-slate-400 dark:placeholder:text-slate-500 p-[15px] text-base font-normal leading-normal",placeholder:"The Gourmet Corner",type:"text",value:i,onChange:ie=>a(ie.target.value),required:!0})]}),v.jsxs("label",{className:"flex flex-col",children:[v.jsx("p",{className:"text-slate-800 dark:text-slate-200 text-base font-medium leading-normal pb-2",children:"Email"}),v.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-800 dark:text-slate-200 focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-slate-300 dark:border-slate-700 bg-background-light dark:bg-background-dark h-14 placeholder:text-slate-400 dark:placeholder:text-slate-500 p-[15px] text-base font-normal leading-normal",placeholder:"jane.doe@example.com",type:"email",value:l,onChange:ie=>c(ie.target.value),required:!0})]}),v.jsxs("label",{className:"flex flex-col",children:[v.jsx("p",{className:"text-slate-800 dark:text-slate-200 text-base font-medium leading-normal pb-2",children:"Password"}),v.jsxs("div",{className:"relative flex w-full flex-1 items-stretch",children:[v.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-800 dark:text-slate-200 focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-slate-300 dark:border-slate-700 bg-background-light dark:bg-background-dark h-14 placeholder:text-slate-400 dark:placeholder:text-slate-500 p-[15px] text-base font-normal leading-normal pr-12",placeholder:"",type:p?"text":"password",value:f,onChange:ie=>m(ie.target.value),onFocus:()=>T(!0),onBlur:()=>T(!1)}),v.jsx("button",{type:"button",onClick:()=>_(!p),className:"absolute inset-y-0 right-0 flex items-center justify-center pr-4 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300",children:p?v.jsx(Np,{}):v.jsx(Dp,{})})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx(Ww,{password:f,onChange:m,isVisible:E||f.length>0}),P&&v.jsx("div",{className:"mt-3 bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded",children:P}),v.jsxs("div",{className:"relative flex items-center justify-center mt-4",children:[v.jsx("div",{className:"absolute w-full border-t border-gray-300 dark:border-gray-700"}),v.jsx("div",{className:"relative bg-white dark:bg-slate-900 px-4",children:v.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),v.jsxs("button",{type:"button",onClick:Q,disabled:A,className:"flex items-center justify-center gap-2 w-full h-12 mt-3 px-4 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx(Op,{className:"w-5 h-5"}),v.jsx("span",{children:"Sign up with Google"})]})]})]})]}),v.jsx("div",{className:"pt-2",children:v.jsx("button",{type:"submit",disabled:A,className:"flex h-14 w-full items-center justify-center gap-2 rounded-lg bg-primary px-8 py-4 text-base font-bold leading-normal text-black transition-all duration-200 hover:bg-opacity-80 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Creating Account...":"Sign Up as Restaurant Owner"})})]}),v.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-6",children:["By signing up, you agree to our"," ",v.jsx(tn,{to:"/license",className:"font-medium text-primary/80 hover:text-primary",children:"Open Source License (MIT)"}),"."]}),v.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-4",children:["Already have an account?"," ",v.jsx(tn,{to:"/login",className:"font-medium text-primary/80 hover:text-primary",children:"Login"})]})]}),v.jsx("footer",{className:"text-center",children:v.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"Powered by QuickPlate Open Source"})})]})]})},M6=()=>{const r=Gu(),[e,t]=K.useState(""),[i,a]=K.useState(""),[l,c]=K.useState(!1),[f,m]=K.useState(!1),[p,_]=K.useState(""),[E,T]=K.useState("user"),A=async(k,B=0)=>{if(!k)return"user";try{B>0&&await new Promise(oe=>setTimeout(oe,1e3*B));const q=Qr.currentUser;if(q?.uid&&(await J1(dS(cp,"restaurants",q.uid))).exists())return"restaurant";const Q=S6(c6(cp,"restaurants"),x6("email","==",k));return(await J1(Q)).empty?"user":"restaurant"}catch(q){return console.error("Error checking role by email:",q),B<3?(console.log(`Retrying role check (attempt ${B+1})...`),A(k,B+1)):"user"}},D=async k=>{if(k.preventDefault(),!e||!i){_("Email and password are required");return}_(""),m(!0);try{const B=await KI(Qr,e,i);await B.user.getIdToken(!0);const q=await A(B.user.email);r(q==="restaurant"?"/adminDashboard":"/dashboard")}catch(B){_(B?.message||"Failed to log in")}m(!1)},P=async()=>{_(""),m(!0);try{const k=new mr,B=await Yp(Qr,k);await B.user.getIdToken(!0);const q=await A(B.user.email);r(q==="restaurant"?"/adminDashboard":"/dashboard")}catch(k){_(k?.message||"Google sign-in failed")}m(!1)};return v.jsx("div",{className:"font-display bg-background-light dark:bg-background-dark text-white text-text-light-primary dark:text-dark-primary",children:v.jsxs("div",{className:"relative flex min-h-screen w-full flex-col items-center justify-center p-4",children:[v.jsx("div",{className:"absolute top-4 right-4",children:v.jsxs("button",{className:"flex h-10 w-10 cursor-pointer items-center justify-center rounded-full bg-surface-light dark:bg-surface-dark shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-[0_4px_12px_rgba(0,0,0,0.1)]",children:[v.jsx("span",{className:"material-symbols-outlined text-text-light-secondary dark:text-dark-secondary block dark:hidden",children:v.jsx(jp,{})}),v.jsx("span",{className:"material-symbols-outlined text-text-light-secondary dark:text-dark-secondary hidden dark:block",children:v.jsx(Pp,{})})]})}),v.jsx("main",{className:"w-full max-w-md mx-auto",children:v.jsxs("div",{className:"flex flex-col gap-8",children:[v.jsxs("div",{className:"flex flex-col gap-3 text-center",children:[v.jsx("h1",{className:"text-4xl font-bold tracking-tighter",children:"Welcome Back to QuickPlate"}),v.jsx("p",{className:"text-base text-text-light-secondary dark:text-dark-secondary",children:"Sign in to continue your journey."})]}),v.jsxs("form",{onSubmit:D,className:"flex flex-col gap-4",children:[p&&v.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:p}),v.jsx("div",{className:"flex flex-col gap-1",children:v.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[v.jsx("p",{className:"pb-2 text-base font-medium",children:"Email"}),v.jsx("input",{className:"form-input flex h-14 w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg border border-border-light bg-surface-light p-4 text-base font-normal leading-normal text-text-light-primary placeholder:text-text-light-secondary focus:border-primary focus:outline-0 focus:ring-2 focus:ring-primary/20 dark:border-border-dark dark:bg-surface-dark dark:text-dark-primary dark:placeholder:text-dark-secondary dark:focus:border-primary",placeholder:"Enter your email address",type:"email",value:e,onChange:k=>t(k.target.value),required:!0})]})}),v.jsx("div",{className:"flex flex-col gap-1",children:v.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[v.jsx("p",{className:"pb-2 text-base font-medium",children:"Password"}),v.jsx("div",{className:"relative flex w-full flex-1 items-center",children:v.jsxs("div",{className:"relative flex w-full flex-1 items-stretch",children:[v.jsx("input",{className:"form-input flex h-14 w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg border border-border-light bg-surface-light p-4 text-base font-normal leading-normal text-text-light-primary placeholder:text-text-light-secondary focus:border-primary focus:outline-0 focus:ring-2 focus:ring-primary/20 dark:border-border-dark dark:bg-surface-dark dark:text-dark-primary dark:placeholder:text-dark-secondary dark:focus:border-primary",placeholder:"",type:l?"text":"password",value:i,onChange:k=>a(k.target.value)}),v.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 flex items-center justify-center pr-4 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300",children:l?v.jsx(Np,{}):v.jsx(Dp,{})})]})})]})}),v.jsxs("div",{className:"flex h-12 flex-1 items-center justify-center rounded-lg bg-background-light dark:bg-background-dark p-1 border border-border-light dark:border-border-dark",children:[v.jsxs("label",{className:"flex h-full flex-1 cursor-pointer items-center justify-center overflow-hidden rounded-md px-2 text-sm font-medium text-text-light-secondary has-checked:bg-surface-light has-checked:text-text-light-primary has-checked:shadow-[0_1px_3px_rgba(0,0,0,0.08)] dark:text-dark-secondary dark:has-checked:bg-surface-dark dark:has-checked:text-dark-primary",children:[v.jsx("span",{className:"truncate",children:"Login as User"}),v.jsx("input",{className:"invisible w-0",name:"role-selector",type:"radio",value:"user",checked:E==="user",onChange:k=>T(k.target.value)})]}),v.jsxs("label",{className:"flex h-full flex-1 cursor-pointer items-center justify-center overflow-hidden rounded-md px-2 text-sm font-medium text-text-light-secondary has-checked:bg-surface-light has-checked:text-text-light-primary has-checked:shadow-[0_1px_3px_rgba(0,0,0,0.08)] dark:text-dark-secondary dark:has-checked:bg-surface-dark dark:has-checked:text-dark-primary",children:[v.jsx("span",{className:"truncate",children:"Login as Restaurant Owner"}),v.jsx("input",{className:"invisible w-0",name:"role-selector",type:"radio",value:"restaurant",checked:E==="restaurant",onChange:k=>T(k.target.value)})]})]}),v.jsx("button",{type:"submit",disabled:f,className:"flex h-12 min-w-[84px] w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg bg-primary px-5 text-base font-bold text-text-light-primary transition-colors hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:v.jsx("span",{className:"truncate",children:f?"Logging in...":"Login"})}),v.jsxs("div",{className:"relative flex items-center justify-center mt-2",children:[v.jsx("div",{className:"absolute w-full border-t border-gray-300 dark:border-gray-700"}),v.jsx("div",{className:"relative bg-background-light dark:bg-background-dark px-4",children:v.jsx("span",{className:"text-sm text-text-light-secondary dark:text-dark-secondary",children:"Or continue with"})})]}),v.jsxs("button",{type:"button",onClick:P,disabled:f,className:"flex items-center justify-center gap-2 w-full h-12 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx(Op,{className:"w-5 h-5"}),v.jsx("span",{children:"Sign in with Google"})]}),v.jsxs("p",{className:"text-center text-sm text-text-light-secondary dark:text-dark-secondary",children:["Don't have an account?"," ",v.jsx(tn,{to:E==="restaurant"?"/signupRestaurant":"/signupUser",className:"font-semibold text-primary hover:underline",children:"Sign up"})]})]})]})}),v.jsx("footer",{className:"absolute bottom-6 text-center text-sm text-text-light-secondary dark:text-dark-secondary",children:"Powered by QuickPlate Open Source"})]})})},V6=()=>v.jsxs("div",{className:"",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"MIT License"}),v.jsx("p",{children:"Copyright (c) 2025 Daniel Oghenero"}),v.jsx("p",{className:"mt-4",children:"Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),v.jsx("p",{className:"mt-4 italic",children:"THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE."})]}),L6=()=>v.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark min-h-screen flex",children:[v.jsxs("aside",{className:"fixed inset-y-0 left-0 z-30 w-64 -translate-x-full flex-col border-r border-border-light bg-card-light transition-transform duration-300 dark:border-border-dark dark:bg-card-dark lg:sticky lg:translate-x-0",children:[v.jsxs("div",{className:"flex h-16 items-center gap-3 border-b border-border-light px-6 dark:border-border-dark",children:[v.jsx("div",{className:"size-8 text-primary",children:v.jsxs("svg",{fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("g",{clipPath:"url(#clip0_6_319)",children:v.jsx("path",{d:"M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z",fill:"currentColor"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"clip0_6_319",children:v.jsx("rect",{fill:"white",height:"48",width:"48"})})})]})}),v.jsx("span",{className:"text-lg font-bold",children:"QuickPlate"})]}),v.jsxs("nav",{className:"flex flex-1 flex-col justify-between p-4",children:[v.jsxs("ul",{className:"space-y-2",children:[v.jsx("li",{children:v.jsxs("a",{href:"#",className:"flex items-center gap-3 rounded-lg bg-primary/10 px-3 py-2 text-primary dark:bg-primary/20",children:[v.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),v.jsx("span",{children:"Dashboard"})]})}),v.jsx("li",{children:v.jsxs("a",{href:"#",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-text-muted-light transition-colors hover:text-text-light dark:text-text-muted-dark dark:hover:text-text-dark",children:[v.jsx("span",{className:"material-symbols-outlined",children:"restaurant_menu"}),v.jsx("span",{children:"Menu"})]})}),v.jsx("li",{children:v.jsxs("a",{href:"#",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-text-muted-light transition-colors hover:text-text-light dark:text-text-muted-dark dark:hover:text-text-dark",children:[v.jsx("span",{className:"material-symbols-outlined",children:"storefront"}),v.jsx("span",{children:"Restaurant Info"})]})}),v.jsx("li",{children:v.jsxs("a",{href:"#",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-text-muted-light transition-colors hover:text-text-light dark:text-text-muted-dark dark:hover:text-text-dark",children:[v.jsx("span",{className:"material-symbols-outlined",children:"settings"}),v.jsx("span",{children:"Settings"})]})})]}),v.jsx("ul",{children:v.jsx("li",{children:v.jsxs("a",{href:"#",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-text-muted-light transition-colors hover:text-text-light dark:text-text-muted-dark dark:hover:text-text-dark",children:[v.jsx("span",{className:"material-symbols-outlined",children:"logout"}),v.jsx("span",{children:"Logout"})]})})})]})]}),v.jsxs("div",{className:"flex flex-1 flex-col",children:[v.jsxs("header",{className:"sticky top-0 z-20 flex h-16 items-center justify-between border-b border-border-light bg-card-light px-4 dark:border-border-dark dark:bg-card-dark sm:px-6 lg:justify-end",children:[v.jsx("button",{className:"rounded-full p-2 lg:hidden",children:v.jsx("span",{className:"material-symbols-outlined",children:"menu"})}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{className:"relative rounded-full p-2 text-text-muted-light transition-colors hover:text-text-light dark:text-text-muted-dark dark:hover:text-text-dark",children:v.jsx("span",{className:"material-symbols-outlined",children:"light_mode"})}),v.jsxs("div",{className:"flex h-16 items-center gap-3 px-6",children:[v.jsx("div",{className:"size-8 text-primary",children:v.jsxs("svg",{fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("g",{clipPath:"url(#clip0_6_319)",children:v.jsx("path",{d:"M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z",fill:"currentColor"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"clip0_6_319",children:v.jsx("rect",{fill:"white",height:"48",width:"48"})})})]})}),v.jsx("span",{className:"text-lg font-bold",children:"Bella Italia"})]})]})]}),v.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:v.jsxs("div",{className:"mx-auto max-w-7xl space-y-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard Overview"}),v.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:"Welcome back, here's an overview of your restaurant's performance."})]}),v.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[v.jsx("div",{className:"rounded-2xl border border-border-light bg-card-light p-6 shadow-md dark:border-border-dark dark:bg-card-dark",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:"Today's Revenue"}),v.jsx("p",{className:"text-3xl font-bold",children:"$1,250"})]}),v.jsx("span",{className:"material-symbols-outlined rounded-full bg-primary/10 p-2 text-primary",children:"payments"})]})}),v.jsx("div",{className:"rounded-2xl border border-border-light bg-card-light p-6 shadow-md dark:border-border-dark dark:bg-card-dark",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:"Today's Orders"}),v.jsx("p",{className:"text-3xl font-bold",children:"68"})]}),v.jsx("span",{className:"material-symbols-outlined rounded-full bg-primary/10 p-2 text-primary",children:"receipt_long"})]})}),v.jsx("div",{className:"rounded-2xl border border-border-light bg-card-light p-6 shadow-md dark:border-border-dark dark:bg-card-dark",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:"New Customers"}),v.jsx("p",{className:"text-3xl font-bold",children:"12"})]}),v.jsx("span",{className:"material-symbols-outlined rounded-full bg-primary/10 p-2 text-primary",children:"person_add"})]})})]}),v.jsx("div",{className:"rounded-2xl border border-border-light bg-card-light p-6 text-center shadow-md dark:border-border-dark dark:bg-card-dark",children:v.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 py-16",children:[v.jsx("span",{className:"material-symbols-outlined text-6xl text-text-muted-light dark:text-text-muted-dark",children:"analytics"}),v.jsx("h2",{className:"text-2xl font-bold",children:"Order Analytics"}),v.jsx("p",{className:"max-w-md text-text-muted-light dark:text-text-muted-dark",children:"Detailed charts and reports for your order history will be displayed here. This feature is coming soon!"})]})})]})})]})]});var hp=function(r,e){return hp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])},hp(r,e)};function SS(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hp(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Dd=function(){return Dd=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Dd.apply(this,arguments)};function il(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(t[i[a]]=r[i[a]]);return t}function xS(r,e,t,i){var a=arguments.length,l=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,e,t,i);else for(var f=r.length-1;f>=0;f--)(c=r[f])&&(l=(a<3?c(l):a>3?c(e,t,l):c(e,t))||l);return a>3&&l&&Object.defineProperty(e,t,l),l}function AS(r,e){return function(t,i){e(t,i,r)}}function RS(r,e,t,i,a,l){function c(B){if(B!==void 0&&typeof B!="function")throw new TypeError("Function expected");return B}for(var f=i.kind,m=f==="getter"?"get":f==="setter"?"set":"value",p=!e&&r?i.static?r:r.prototype:null,_=e||(p?Object.getOwnPropertyDescriptor(p,i.name):{}),E,T=!1,A=t.length-1;A>=0;A--){var D={};for(var P in i)D[P]=P==="access"?{}:i[P];for(var P in i.access)D.access[P]=i.access[P];D.addInitializer=function(B){if(T)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(B||null))};var k=(0,t[A])(f==="accessor"?{get:_.get,set:_.set}:_[m],D);if(f==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(E=c(k.get))&&(_.get=E),(E=c(k.set))&&(_.set=E),(E=c(k.init))&&a.unshift(E)}else(E=c(k))&&(f==="field"?a.unshift(E):_[m]=E)}p&&Object.defineProperty(p,i.name,_),T=!0}function CS(r,e,t){for(var i=arguments.length>2,a=0;a<e.length;a++)t=i?e[a].call(r,t):e[a].call(r);return i?t:void 0}function IS(r){return typeof r=="symbol"?r:"".concat(r)}function kS(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function OS(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function ge(r,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(_){try{p(i.next(_))}catch(E){c(E)}}function m(_){try{p(i.throw(_))}catch(E){c(E)}}function p(_){_.done?l(_.value):a(_.value).then(f,m)}p((i=i.apply(r,e||[])).next())})}function NS(r,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(_){return m([p,_])}}function m(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(t=0)),t;)try{if(i=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,a=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){t.label=p[1];break}if(p[0]===6&&t.label<l[1]){t.label=l[1],l=p;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(p);break}l[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(r,t)}catch(_){p=[6,_],a=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var sf=Object.create?(function(r,e,t,i){i===void 0&&(i=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,a)}):(function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]});function DS(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sf(e,r,t)}function jd(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Iy(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),a,l=[],c;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(f){c={error:f}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return l}function jS(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Iy(arguments[e]));return r}function PS(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),a=0,e=0;e<t;e++)for(var l=arguments[e],c=0,f=l.length;c<f;c++,a++)i[a]=l[c];return i}function MS(r,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return r.concat(l||Array.prototype.slice.call(e))}function Ko(r){return this instanceof Ko?(this.v=r,this):new Ko(r)}function VS(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(A){return function(D){return Promise.resolve(D).then(A,E)}}function f(A,D){i[A]&&(a[A]=function(P){return new Promise(function(k,B){l.push([A,P,k,B])>1||m(A,P)})},D&&(a[A]=D(a[A])))}function m(A,D){try{p(i[A](D))}catch(P){T(l[0][3],P)}}function p(A){A.value instanceof Ko?Promise.resolve(A.value.v).then(_,E):T(l[0][2],A)}function _(A){m("next",A)}function E(A){m("throw",A)}function T(A,D){A(D),l.shift(),l.length&&m(l[0][0],l[0][1])}}function LS(r){var e,t;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,l){e[a]=r[a]?function(c){return(t=!t)?{value:Ko(r[a](c)),done:!1}:l?l(c):c}:l}}function US(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof jd=="function"?jd(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(l){t[l]=r[l]&&function(c){return new Promise(function(f,m){c=r[l](c),a(f,m,c.done,c.value)})}}function a(l,c,f,m){Promise.resolve(m).then(function(p){l({value:p,done:f})},c)}}function zS(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var U6=Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e},dp=function(r){return dp=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},dp(r)};function BS(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t=dp(r),i=0;i<t.length;i++)t[i]!=="default"&&sf(e,r,t[i]);return U6(e,r),e}function qS(r){return r&&r.__esModule?r:{default:r}}function HS(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)}function FS(r,e,t,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(r,t):a?a.value=t:e.set(r,t),t}function $S(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function GS(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],t&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e}var z6=typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i};function KS(r){function e(l){r.error=r.hasError?new z6(l,r.error,"An error was suppressed during disposal."):l,r.hasError=!0}var t,i=0;function a(){for(;t=r.stack.pop();)try{if(!t.async&&i===1)return i=0,r.stack.push(t),Promise.resolve().then(a);if(t.dispose){var l=t.dispose.call(t.value);if(t.async)return i|=2,Promise.resolve(l).then(a,function(c){return e(c),a()})}else i|=1}catch(c){e(c)}if(i===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return a()}function QS(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,i,a,l,c){return i?e?".jsx":".js":a&&(!l||!c)?t:a+l+"."+c.toLowerCase()+"js"}):r}const B6={__extends:SS,__assign:Dd,__rest:il,__decorate:xS,__param:AS,__esDecorate:RS,__runInitializers:CS,__propKey:IS,__setFunctionName:kS,__metadata:OS,__awaiter:ge,__generator:NS,__createBinding:sf,__exportStar:DS,__values:jd,__read:Iy,__spread:jS,__spreadArrays:PS,__spreadArray:MS,__await:Ko,__asyncGenerator:VS,__asyncDelegator:LS,__asyncValues:US,__makeTemplateObject:zS,__importStar:BS,__importDefault:qS,__classPrivateFieldGet:HS,__classPrivateFieldSet:FS,__classPrivateFieldIn:$S,__addDisposableResource:GS,__disposeResources:KS,__rewriteRelativeImportExtension:QS},q6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:GS,get __assign(){return Dd},__asyncDelegator:LS,__asyncGenerator:VS,__asyncValues:US,__await:Ko,__awaiter:ge,__classPrivateFieldGet:HS,__classPrivateFieldIn:$S,__classPrivateFieldSet:FS,__createBinding:sf,__decorate:xS,__disposeResources:KS,__esDecorate:RS,__exportStar:DS,__extends:SS,__generator:NS,__importDefault:qS,__importStar:BS,__makeTemplateObject:zS,__metadata:OS,__param:AS,__propKey:IS,__read:Iy,__rest:il,__rewriteRelativeImportExtension:QS,__runInitializers:CS,__setFunctionName:kS,__spread:jS,__spreadArray:MS,__spreadArrays:PS,__values:jd,default:B6},Symbol.toStringTag,{value:"Module"})),H6="modulepreload",F6=function(r){return"/improved-eureka/"+r},ew={},sl=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let p=function(_){return Promise.all(_.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};var c=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");a=p(t.map(_=>{if(_=F6(_),_ in ew)return;ew[_]=!0;const E=_.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${T}`))return;const A=document.createElement("link");if(A.rel=E?"stylesheet":H6,E||(A.as="script"),A.crossOrigin="",A.href=_,m&&A.setAttribute("nonce",m),document.head.appendChild(A),E)return new Promise((D,P)=>{A.addEventListener("load",D),A.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${_}`)))})}))}function l(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return a.then(f=>{for(const m of f||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},$6=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>sl(async()=>{const{default:i}=await Promise.resolve().then(()=>ka);return{default:i}},[]).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class ky extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class tw extends ky{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nw extends ky{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class rw extends ky{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fp;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(fp||(fp={}));class G6{constructor(e,{headers:t={},customFetch:i,region:a=fp.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=$6(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ge(this,arguments,void 0,function*(t,i={}){var a;try{const{headers:l,method:c,body:f,signal:m}=i;let p={},{region:_}=i;_||(_=this.region);const E=new URL(`${this.url}/${t}`);_&&_!=="any"&&(p["x-region"]=_,E.searchParams.set("forceFunctionRegion",_));let T;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",T=f):typeof f=="string"?(p["Content-Type"]="text/plain",T=f):typeof FormData<"u"&&f instanceof FormData?T=f:(p["Content-Type"]="application/json",T=JSON.stringify(f)):T=f;const A=yield this.fetch(E.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:T,signal:m}).catch(B=>{throw B.name==="AbortError"?B:new tw(B)}),D=A.headers.get("x-relay-error");if(D&&D==="true")throw new nw(A);if(!A.ok)throw new rw(A);let P=((a=A.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return P==="application/json"?k=yield A.json():P==="application/octet-stream"||P==="application/pdf"?k=yield A.blob():P==="text/event-stream"?k=A:P==="multipart/form-data"?k=yield A.formData():k=yield A.text(),{data:k,error:null,response:A}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new tw(l)}:{data:null,error:l,response:l instanceof rw||l instanceof nw?l.context:void 0}}})}}var an={};const al=Iw(q6);var Fh={},$h={},Gh={},Kh={},Qh={},K6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qo=K6();const Q6=Qo.fetch,YS=Qo.fetch.bind(Qo),WS=Qo.Headers,Y6=Qo.Request,W6=Qo.Response,ka=Object.freeze(Object.defineProperty({__proto__:null,Headers:WS,Request:Y6,Response:W6,default:YS,fetch:Q6},Symbol.toStringTag,{value:"Module"})),X6=Iw(ka);var Yh={},iw;function XS(){if(iw)return Yh;iw=1,Object.defineProperty(Yh,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Yh.default=r,Yh}var sw;function JS(){if(sw)return Qh;sw=1,Object.defineProperty(Qh,"__esModule",{value:!0});const r=al,e=r.__importDefault(X6),t=r.__importDefault(XS());class i{constructor(l){var c,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var _,E,T,A;let D=null,P=null,k=null,B=p.status,q=p.statusText;if(p.ok){if(this.method!=="HEAD"){const se=await p.text();se===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((_=this.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?P=se:P=JSON.parse(se))}const ie=(E=this.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),oe=(T=p.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");ie&&oe&&oe.length>1&&(k=parseInt(oe[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(D={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,k=null,B=406,q="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const ie=await p.text();try{D=JSON.parse(ie),Array.isArray(D)&&p.status===404&&(P=[],D=null,B=200,q="OK")}catch{p.status===404&&ie===""?(B=204,q="No Content"):D={message:ie}}if(D&&this.isMaybeSingle&&(!((A=D?.details)===null||A===void 0)&&A.includes("0 rows"))&&(D=null,B=200,q="OK"),D&&this.shouldThrowOnError)throw new t.default(D)}return{error:D,data:P,count:k,status:B,statusText:q}});return this.shouldThrowOnError||(m=m.catch(p=>{var _,E,T;return{error:{message:`${(_=p?.name)!==null&&_!==void 0?_:"FetchError"}: ${p?.message}`,details:`${(E=p?.stack)!==null&&E!==void 0?E:""}`,hint:"",code:`${(T=p?.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),m.then(l,c)}returns(){return this}overrideTypes(){return this}}return Qh.default=i,Qh}var aw;function ZS(){if(aw)return Kh;aw=1,Object.defineProperty(Kh,"__esModule",{value:!0});const e=al.__importDefault(JS());class t extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:f,referencedTable:m=f}={}){const p=m?`${m}.order`:"order",_=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${_?`${_},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:f=c}={}){const m=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${a}`),this.url.searchParams.set(p,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:f=!1,wal:m=!1,format:p="text"}={}){var _;const E=[a?"analyze":null,l?"verbose":null,c?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),T=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${T}"; options=${E};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Kh.default=t,Kh}var ow;function Oy(){if(ow)return Gh;ow=1,Object.defineProperty(Gh,"__esModule",{value:!0});const e=al.__importDefault(ZS()),t=new RegExp("[,()]");class i extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const f=Array.from(new Set(c)).map(m=>typeof m=="string"&&t.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:f,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const _=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${p}fts${_}.${c}`),this}match(l){return Object.entries(l).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(l,c,f){return this.url.searchParams.append(l,`not.${c}.${f}`),this}or(l,{foreignTable:c,referencedTable:f=c}={}){const m=f?`${f}.or`:"or";return this.url.searchParams.append(m,`(${l})`),this}filter(l,c,f){return this.url.searchParams.append(l,`${c}.${f}`),this}}return Gh.default=i,Gh}var lw;function e2(){if(lw)return $h;lw=1,Object.defineProperty($h,"__esModule",{value:!0});const e=al.__importDefault(Oy());class t{constructor(a,{headers:l={},schema:c,fetch:f}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=f}select(a,l){const{head:c=!1,count:f}=l??{},m=c?"HEAD":"GET";let p=!1;const _=(a??"*").split("").map(E=>/\s/.test(E)&&!p?"":(E==='"'&&(p=!p),E)).join("");return this.url.searchParams.set("select",_),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var f;const m="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((_,E)=>_.concat(Object.keys(E)),[]);if(p.length>0){const _=[...new Set(p)].map(E=>`"${E}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:f,defaultToNull:m=!0}={}){var p;const _="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const E=a.reduce((T,A)=>T.concat(Object.keys(A)),[]);if(E.length>0){const T=[...new Set(E)].map(A=>`"${A}"`);this.url.searchParams.set("columns",T.join(","))}}return new e.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(a,{count:l}={}){var c;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return $h.default=t,$h}var uw;function J6(){if(uw)return Fh;uw=1,Object.defineProperty(Fh,"__esModule",{value:!0});const r=al,e=r.__importDefault(e2()),t=r.__importDefault(Oy());class i{constructor(l,{headers:c={},schema:f,fetch:m}={}){this.url=l,this.headers=new Headers(c),this.schemaName=f,this.fetch=m}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:f=!1,get:m=!1,count:p}={}){var _;let E;const T=new URL(`${this.url}/rpc/${l}`);let A;f||m?(E=f?"HEAD":"GET",Object.entries(c).filter(([P,k])=>k!==void 0).map(([P,k])=>[P,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([P,k])=>{T.searchParams.append(P,k)})):(E="POST",A=c);const D=new Headers(this.headers);return p&&D.set("Prefer",`count=${p}`),new t.default({method:E,url:T,headers:D,schema:this.schemaName,body:A,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}}return Fh.default=i,Fh}var cw;function Z6(){if(cw)return an;cw=1,Object.defineProperty(an,"__esModule",{value:!0}),an.PostgrestError=an.PostgrestBuilder=an.PostgrestTransformBuilder=an.PostgrestFilterBuilder=an.PostgrestQueryBuilder=an.PostgrestClient=void 0;const r=al,e=r.__importDefault(J6());an.PostgrestClient=e.default;const t=r.__importDefault(e2());an.PostgrestQueryBuilder=t.default;const i=r.__importDefault(Oy());an.PostgrestFilterBuilder=i.default;const a=r.__importDefault(ZS());an.PostgrestTransformBuilder=a.default;const l=r.__importDefault(JS());an.PostgrestBuilder=l.default;const c=r.__importDefault(XS());return an.PostgrestError=c.default,an.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},an}var t2=Z6();const n2=Sp(t2),eD=Qx({__proto__:null,default:n2},[t2]),{PostgrestClient:tD,PostgrestQueryBuilder:pj,PostgrestFilterBuilder:yj,PostgrestTransformBuilder:_j,PostgrestBuilder:vj,PostgrestError:bj}=n2||eD;class nD{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const rD="2.78.0",iD=`realtime-js/${rD}`,sD="1.0.0",mp=1e4,aD=1e3,oD=100;var Au;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Au||(Au={}));var zt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(zt||(zt={}));var fr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(fr||(fr={}));var gp;(function(r){r.websocket="websocket"})(gp||(gp={}));var fa;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(fa||(fa={}));class lD{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const a=t.getUint8(1),l=t.getUint8(2);let c=this.HEADER_LENGTH+2;const f=i.decode(e.slice(c,c+a));c=c+a;const m=i.decode(e.slice(c,c+l));c=c+l;const p=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:f,event:m,payload:p}}}class r2{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(st||(st={}));const hw=(r,e,t={})=>{var i;const a=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=uD(c,r,e,a),l),{}):{}},uD=(r,e,t,i)=>{const a=e.find(f=>f.name===r),l=a?.type,c=t[r];return l&&!i.includes(l)?i2(l,c):pp(c)},i2=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return fD(e,t)}switch(r){case st.bool:return cD(e);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return hD(e);case st.json:case st.jsonb:return dD(e);case st.timestamp:return mD(e);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return pp(e);default:return pp(e)}},pp=r=>r,cD=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},hD=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},dD=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},fD=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let l;const c=r.slice(1,t);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(f=>i2(e,f))}return r},mD=r=>typeof r=="string"?r.replace(" ","T"):r,s2=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class xg{constructor(e,t,i={},a=mp){this.channel=e,this.event=t,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dw;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(dw||(dw={}));class Ru{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ru.syncState(this.state,a,l,c),this.pendingDiffs.forEach(m=>{this.state=Ru.syncDiff(this.state,m,l,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ru.syncDiff(this.state,a,l,c),f())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,a){const l=this.cloneDeep(e),c=this.transformState(t),f={},m={};return this.map(l,(p,_)=>{c[p]||(m[p]=_)}),this.map(c,(p,_)=>{const E=l[p];if(E){const T=_.map(k=>k.presence_ref),A=E.map(k=>k.presence_ref),D=_.filter(k=>A.indexOf(k.presence_ref)<0),P=E.filter(k=>T.indexOf(k.presence_ref)<0);D.length>0&&(f[p]=D),P.length>0&&(m[p]=P)}else f[p]=_}),this.syncDiff(l,{joins:f,leaves:m},i,a)}static syncDiff(e,t,i,a){const{joins:l,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(f,m)=>{var p;const _=(p=e[f])!==null&&p!==void 0?p:[];if(e[f]=this.cloneDeep(m),_.length>0){const E=e[f].map(A=>A.presence_ref),T=_.filter(A=>E.indexOf(A.presence_ref)<0);e[f].unshift(...T)}i(f,_,m)}),this.map(c,(f,m)=>{let p=e[f];if(!p)return;const _=m.map(E=>E.presence_ref);p=p.filter(E=>_.indexOf(E.presence_ref)<0),e[f]=p,a(f,p,m),p.length===0&&delete e[f]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const a=e[i];return"metas"in a?t[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[i]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fw;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(fw||(fw={}));var Cu;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Cu||(Cu={}));var yi;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(yi||(yi={}));class Ny{constructor(e,t={config:{}},i){var a,l;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new xg(this,fr.join,this.params,this.timeout),this.rejoinTimer=new r2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fr.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new Ru(this),this.broadcastEndpointURL=s2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:c,presence:f,private:m}}=this.params,p=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(A=>A.filter))!==null&&a!==void 0?a:[],_=!!this.bindings[Cu.PRESENCE]&&this.bindings[Cu.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,E={},T={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:_}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(A=>e?.(yi.CHANNEL_ERROR,A)),this._onClose(()=>e?.(yi.CLOSED)),this.updateJoinPayload(Object.assign({config:T},E)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:A})=>{var D;if(this.socket.setAuth(),A===void 0){e?.(yi.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,k=(D=P?.length)!==null&&D!==void 0?D:0,B=[];for(let q=0;q<k;q++){const Q=P[q],{filter:{event:ie,schema:oe,table:se,filter:C}}=Q,R=A&&A[q];if(R&&R.event===ie&&R.schema===oe&&R.table===se&&R.filter===C)B.push(Object.assign(Object.assign({},Q),{id:R.id}));else{this.unsubscribe(),this.state=zt.errored,e?.(yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,e&&e(yi.SUBSCRIBED);return}}).receive("error",A=>{this.state=zt.errored,e?.(yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e?.(yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===zt.joined&&e===Cu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const p=await f.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(e,t={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,f,m;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new xg(this,fr.leave,{},e),i.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(l),c}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new xg(this,e,t,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>oD){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var a,l;const c=e.toLocaleLowerCase(),{close:f,error:m,leave:p,join:_}=fr;if(i&&[f,m,p,_].indexOf(c)>=0&&i!==this._joinRef())return;let T=this._onMessage(c,t,i);if(t&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(A=>{var D,P,k;return((D=A.filter)===null||D===void 0?void 0:D.event)==="*"||((k=(P=A.filter)===null||P===void 0?void 0:P.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(A=>A.callback(T,i)):(l=this.bindings[c])===null||l===void 0||l.filter(A=>{var D,P,k,B,q,Q;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in A){const ie=A.id,oe=(D=A.filter)===null||D===void 0?void 0:D.event;return ie&&((P=t.ids)===null||P===void 0?void 0:P.includes(ie))&&(oe==="*"||oe?.toLocaleLowerCase()===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const ie=(q=(B=A?.filter)===null||B===void 0?void 0:B.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return ie==="*"||ie===((Q=t?.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===c}).map(A=>{if(typeof T=="object"&&"ids"in T){const D=T.data,{schema:P,table:k,commit_timestamp:B,type:q,errors:Q}=D;T=Object.assign(Object.assign({},{schema:P,table:k,commit_timestamp:B,eventType:q,new:{},old:{},errors:Q}),this._getPayloadRecords(D))}A.callback(T,i)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const a=e.toLocaleLowerCase(),l={type:a,filter:t,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Ny.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fr.close,{},e)}_onError(e){this._on(fr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=hw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=hw(e.columns,e.old_record)),t}}const Ag=()=>{},Wh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gD=[1e3,2e3,5e3,1e4],pD=1e4,yD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _D{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mp,this.transport=null,this.heartbeatIntervalMs=Wh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ag,this.ref=0,this.reconnectTimer=null,this.logger=Ag,this.conn=null,this.sendBuffer=[],this.serializer=new lD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>sl(async()=>{const{default:f}=await Promise.resolve().then(()=>ka);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${gp.websocket}`,this.httpEndpoint=s2(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nD.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:sD}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Au.connecting:return fa.Connecting;case Au.open:return fa.Open;case Au.closing:return fa.Closing;default:return fa.Closed}}isConnected(){return this.connectionState()===fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new Ny(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:i,payload:a,ref:l}=e,c=()=>{this.encode(e,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${t} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(aD,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Wh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:c}=t,f=c?`(${c})`:"",m=l.status||"";this.log("receive",`${m} ${i} ${a} ${f}`.trim(),l),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(a,l,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(fr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${i}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([yD],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const a={access_token:t,version:iD};t&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(fr.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new r2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,a,l,c,f,m,p,_;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:mp,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Wh.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Ag,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(E=>gD[E-1]||pD),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((E,T)=>T(JSON.stringify(E))),this.decode=(_=e?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Dy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ft(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class vD extends Dy{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yp extends Dy{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const jy=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>sl(async()=>{const{default:i}=await Promise.resolve().then(()=>ka);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},bD=()=>ge(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sl(()=>Promise.resolve().then(()=>ka),void 0)).Response:Response}),_p=r=>{if(Array.isArray(r))return r.map(t=>_p(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const a=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=_p(i)}),e},wD=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Rg=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},ED=(r,e,t)=>ge(void 0,void 0,void 0,function*(){const i=yield bD();r instanceof i&&!t?.noResolveJson?r.json().then(a=>{const l=r.status||500,c=a?.statusCode||l+"";e(new vD(Rg(a),l,c))}).catch(a=>{e(new yp(Rg(a),a))}):e(new yp(Rg(r),r))}),TD=(r,e,t,i)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"||!i?a:(wD(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),t))};function ac(r,e,t,i,a,l){return ge(this,void 0,void 0,function*(){return new Promise((c,f)=>{r(t,TD(e,i,a,l)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>c(m)).catch(m=>ED(m,f,i))})})}function Bu(r,e,t,i){return ge(this,void 0,void 0,function*(){return ac(r,"GET",e,t,i)})}function dr(r,e,t,i,a){return ge(this,void 0,void 0,function*(){return ac(r,"POST",e,i,a,t)})}function vp(r,e,t,i,a){return ge(this,void 0,void 0,function*(){return ac(r,"PUT",e,i,a,t)})}function SD(r,e,t,i){return ge(this,void 0,void 0,function*(){return ac(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function Py(r,e,t,i,a){return ge(this,void 0,void 0,function*(){return ac(r,"DELETE",e,i,a,t)})}class xD{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}}var a2;class AD{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[a2]="BlobDownloadBuilder",this.promise=null}asStream(){return new xD(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}}a2=Symbol.toStringTag;const RD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CD{constructor(e,t={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=jy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,a){return ge(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},mw),a);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const m=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),m&&l.append("metadata",this.encodeMetadata(m)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl),m&&l.append("metadata",this.encodeMetadata(m))):(l=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),a?.headers&&(f=Object.assign(Object.assign({},f),a.headers));const p=this._removeEmptyFolders(t),_=this._getFinalPath(p),E=yield(e=="PUT"?vp:dr)(this.fetch,`${this.url}/object/${_}`,l,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:E.Id,fullPath:E.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ft(l))return{data:null,error:l};throw l}})}upload(e,t,i){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,a){return ge(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",t);try{let m;const p=Object.assign({upsert:mw.upsert},a),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",p.cacheControl)):(m=i,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType);const E=yield vp(this.fetch,f.toString(),m,{headers:_});return{data:{path:l,fullPath:E.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(ft(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,t){return ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);t?.upsert&&(a["x-upsert"]="true");const l=yield dr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(this.url+l.url),f=c.searchParams.get("token");if(!f)throw new Dy("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:f},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}update(e,t,i){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return ge(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}copy(e,t,i){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,i){return ge(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield dr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,i){return ge(this,void 0,void 0,function*(){try{const a=yield dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}download(e,t){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(t?.transform||{}),c=l?`?${l}`:"",f=this._getFinalPath(e),m=()=>Bu(this.fetch,`${this.url}/${a}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new AD(m,this.shouldThrowOnError)}info(e){return ge(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Bu(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:_p(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}exists(e){return ge(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield SD(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i)&&i instanceof yp){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),a=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const f=typeof t?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(t?.transform||{});m!==""&&a.push(m);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${p}`)}}}remove(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Py(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}list(e,t,i){return ge(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},RD),t),{prefix:e||""});return{data:yield dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}listV2(e,t){return ge(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield dr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const o2="2.78.0",l2={"X-Client-Info":`storage-js/${o2}`};class ID{constructor(e,t={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l2),t),this.fetch=jy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ge(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Bu(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}getBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Bu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}createBucket(e){return ge(this,arguments,void 0,function*(t,i={public:!1}){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}updateBucket(e,t){return ge(this,void 0,void 0,function*(){try{return{data:yield vp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}emptyBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Py(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class kD{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l2),t),this.fetch=jy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}listBuckets(e){return ge(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const i=t.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Bu(this.fetch,a,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Py(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}}const My={"X-Client-Info":`storage-js/${o2}`,"Content-Type":"application/json"};class u2 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function jn(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Cg extends u2{constructor(e,t,i){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class OD extends u2{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var gw;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gw||(gw={}));const Vy=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>sl(async()=>{const{default:i}=await Promise.resolve().then(()=>ka);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},ND=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},pw=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),DD=(r,e,t)=>ge(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!t?.noResolveJson){const a=r.status||500,l=r;if(typeof l.json=="function")l.json().then(c=>{const f=c?.statusCode||c?.code||a+"";e(new Cg(pw(c),a,f))}).catch(()=>{const c=a+"",f=l.statusText||`HTTP ${a} error`;e(new Cg(f,a,c))});else{const c=a+"",f=l.statusText||`HTTP ${a} error`;e(new Cg(f,a,c))}}else e(new OD(pw(r),r))}),jD=(r,e,t,i)=>{const a={method:r,headers:e?.headers||{}};return i?(ND(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),t)):a};function PD(r,e,t,i,a,l){return ge(this,void 0,void 0,function*(){return new Promise((c,f)=>{r(t,jD(e,i,a,l)).then(m=>{if(!m.ok)throw m;if(i?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>c(m)).catch(m=>DD(m,f,i))})})}function Pn(r,e,t,i,a){return ge(this,void 0,void 0,function*(){return PD(r,"POST",e,i,a,t)})}class MD{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},My),t),this.fetch=Vy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield Pn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}getIndex(e,t){return ge(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}listIndexes(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return ge(this,void 0,void 0,function*(){try{return{data:(yield Pn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}}class VD{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},My),t),this.fetch=Vy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}getVectors(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}listVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Pn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}queryVectors(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}deleteVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}}class LD{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},My),t),this.fetch=Vy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield Pn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}getBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}listBuckets(){return ge(this,arguments,void 0,function*(e={}){try{return{data:yield Pn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield Pn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}}class UD extends LD{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new zD(this.url,this.headers,e,this.fetch)}}class zD extends MD{constructor(e,t,i,a){super(e,t,a),this.vectorBucketName=i}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ge(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ge(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ge(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ge(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new BD(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class BD extends VD{constructor(e,t,i,a,l){super(e,t,l),this.vectorBucketName=i,this.indexName=a}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ge(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ge(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ge(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ge(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ge(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class qD extends ID{constructor(e,t={},i,a){super(e,t,i,a)}from(e){return new CD(this.url,this.headers,e,this.fetch)}get vectors(){return new UD(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kD(this.url+"/iceberg",this.headers,this.fetch)}}const HD="2.78.0";let vu="";typeof Deno<"u"?vu="deno":typeof document<"u"?vu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vu="react-native":vu="node";const FD={"X-Client-Info":`supabase-js-${vu}/${HD}`},$D={headers:FD},GD={schema:"public"},KD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QD={},YD=r=>{let e;return r?e=r:typeof fetch>"u"?e=YS:e=fetch,(...t)=>e(...t)},WD=()=>typeof Headers>"u"?WS:Headers,XD=(r,e,t)=>{const i=YD(t),a=WD();return async(l,c)=>{var f;const m=(f=await e())!==null&&f!==void 0?f:r;let p=new a(c?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),i(l,Object.assign(Object.assign({},c),{headers:p}))}};function JD(r){return r.endsWith("/")?r:r+"/"}function ZD(r,e){var t,i;const{db:a,auth:l,realtime:c,global:f}=r,{db:m,auth:p,realtime:_,global:E}=e,T={db:Object.assign(Object.assign({},m),a),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},_),c),storage:{},global:Object.assign(Object.assign(Object.assign({},E),f),{headers:Object.assign(Object.assign({},(t=E?.headers)!==null&&t!==void 0?t:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?T.accessToken=r.accessToken:delete T.accessToken,T}function e5(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(JD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const c2="2.78.0",Oo=30*1e3,bp=3,Ig=bp*Oo,t5="http://localhost:9999",n5="supabase.auth.token",r5={"X-Client-Info":`gotrue-js/${c2}`},wp="X-Supabase-Api-Version",h2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,s5=600*1e3;class qu extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function pe(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class a5 extends qu{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function o5(r){return pe(r)&&r.name==="AuthApiError"}class ma extends qu{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Os extends qu{constructor(e,t,i,a){super(e,i,a),this.name=t,this.status=i}}class cr extends Os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function l5(r){return pe(r)&&r.name==="AuthSessionMissingError"}class Eo extends Os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xh extends Os{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jh extends Os{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function u5(r){return pe(r)&&r.name==="AuthImplicitGrantRedirectError"}class yw extends Os{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ep extends Os{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function kg(r){return pe(r)&&r.name==="AuthRetryableFetchError"}class _w extends Os{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class Tp extends Os{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vw=` 	
\r=`.split(""),c5=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<vw.length;e+=1)r[vw[e].charCodeAt(0)]=-2;for(let e=0;e<Pd.length;e+=1)r[Pd[e].charCodeAt(0)]=e;return r})();function bw(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Pd[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Pd[i]),e.queuedBits-=6}}function d2(r,e,t){const i=c5[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function ww(r){const e=[],t=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{f5(c,i,t)};for(let c=0;c<r.length;c+=1)d2(r.charCodeAt(c),a,l);return e.join("")}function h5(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function d5(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}h5(i,e)}}function f5(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Uo(r){const e=[],t={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)d2(r.charCodeAt(a),t,i);return new Uint8Array(e)}function m5(r){const e=[];return d5(r,t=>e.push(t)),new Uint8Array(e)}function ya(r){const e=[],t={queue:0,queuedBits:0},i=a=>{e.push(a)};return r.forEach(a=>bw(a,t,i)),bw(null,t,i),e.join("")}function g5(r){return Math.round(Date.now()/1e3)+r}function p5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const mn=()=>typeof window<"u"&&typeof document<"u",ua={tested:!1,writable:!1},f2=()=>{if(!mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ua.tested)return ua.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ua.tested=!0,ua.writable=!0}catch{ua.tested=!0,ua.writable=!1}return ua.writable};function y5(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return t.searchParams.forEach((i,a)=>{e[a]=i}),e}const m2=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>sl(async()=>{const{default:i}=await Promise.resolve().then(()=>ka);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},_5=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",No=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ca=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},us=async(r,e)=>{await r.removeItem(e)};class af{constructor(){this.promise=new af.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}af.promiseConstructor=Promise;function Og(r){const e=r.split(".");if(e.length!==3)throw new Tp("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!i5.test(e[i]))throw new Tp("JWT not in base64url format");return{header:JSON.parse(ww(e[0])),payload:JSON.parse(ww(e[1])),signature:Uo(e[2]),raw:{header:e[0],payload:e[1]}}}async function v5(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function b5(r,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await r(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function w5(r){return("0"+r.toString(16)).substr(-2)}function E5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let a="";for(let l=0;l<56;l++)a+=t.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,w5).join("")}async function T5(r){const t=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function S5(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await T5(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function To(r,e,t=!1){const i=E5();let a=i;t&&(a+="/PASSWORD_RECOVERY"),await No(r,`${e}-code-verifier`,a);const l=await S5(i);return[l,i===l?"plain":"s256"]}const x5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function A5(r){const e=r.headers.get(wp);if(!e||!e.match(x5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function R5(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function C5(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const I5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function So(r){if(!I5.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ng(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k5(r,e){return new Proxy(r,{get:(t,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,a)}})}function Ew(r){return JSON.parse(JSON.stringify(r))}const da=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),O5=[502,503,504];async function Tw(r){var e;if(!_5(r))throw new Ep(da(r),0);if(O5.includes(r.status))throw new Ep(da(r),r.status);let t;try{t=await r.json()}catch(l){throw new ma(da(l),l)}let i;const a=A5(r);if(a&&a.getTime()>=h2["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new _w(da(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new cr}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new _w(da(t),r.status,t.weak_password.reasons);throw new a5(da(t),r.status||500,i)}const N5=(r,e,t,i)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),t))};async function Te(r,e,t,i){var a;const l=Object.assign({},i?.headers);l[wp]||(l[wp]=h2["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",m=await D5(r,e,t+f,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function D5(r,e,t,i,a,l){const c=N5(e,i,a,l);let f;try{f=await r(t,Object.assign({},c))}catch(m){throw console.error(m),new Ep(da(m),0)}if(f.ok||await Tw(f),i?.noResolveJson)return f;try{return await f.json()}catch(m){await Tw(m)}}function hr(r){var e;let t=null;M5(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=g5(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function Sw(r){const e=hr(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function fs(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function j5(r){return{data:r,error:null}}function P5(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:a,verification_type:l}=r,c=il(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:t,hashed_token:i,redirect_to:a,verification_type:l},m=Object.assign({},c);return{data:{properties:f,user:m},error:null}}function xw(r){return r}function M5(r){return r.access_token&&r.refresh_token&&r.expires_in}const Dg=["global","local","others"];class V5{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=m2(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Dg[0]){if(Dg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dg.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:fs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=il(e,["options"]),a=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:P5,redirectTo:t?.redirectTo})}catch(t){if(pe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fs})}catch(t){if(pe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,a,l,c,f,m;try{const p={nextPage:null,lastPage:0,total:0},_=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:xw});if(_.error)throw _.error;const E=await _.json(),T=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,A=(m=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(D=>{const P=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(D.split(";")[1].split("=")[1]);p[`${k}Page`]=P}),p.total=parseInt(T)),{data:Object.assign(Object.assign({},E),p),error:null}}catch(p){if(pe(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){So(e);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fs})}catch(t){if(pe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){So(e);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:fs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){So(e);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:fs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){So(e.userId);try{const{data:t,error:i}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:i}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){So(e.userId),So(e.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,a,l,c,f,m;try{const p={nextPage:null,lastPage:0,total:0},_=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:xw});if(_.error)throw _.error;const E=await _.json(),T=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,A=(m=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(D=>{const P=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(D.split(";")[1].split("=")[1]);p[`${k}Page`]=P}),p.total=parseInt(T)),{data:Object.assign(Object.assign({},E),p),error:null}}catch(p){if(pe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}}function Aw(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const xo={debug:!!(globalThis&&f2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class g2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class L5 extends g2{}async function U5(r,e,t){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new L5(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(xo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function z5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function p2(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function B5(r){return parseInt(r,16)}function q5(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function H5(r){var e;const{chainId:t,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:f,requestId:m,resources:p,scheme:_,uri:E,version:T}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const A=p2(r.address),D=_?`${_}://${i}`:i,P=r.statement?`${r.statement}
`:"",k=`${D} wants you to sign in with your Ethereum account:
${A}

${P}`;let B=`URI: ${E}
Version: ${T}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(B+=`
Expiration Time: ${a.toISOString()}`),f&&(B+=`
Not Before: ${f.toISOString()}`),m&&(B+=`
Request ID: ${m}`),p){let q=`
Resources:`;for(const Q of p){if(!Q||typeof Q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Q}`);q+=`
- ${Q}`}B+=q}return`${k}
${B}`}class jt extends Error{constructor({message:e,code:t,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=t}}class Md extends jt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function F5({error:r,options:e}){var t,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=l.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new jt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(y2(c)){if(l.rp.id!==c)return new jt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function $5({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new jt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(y2(i)){if(t.rpId!==i)return new jt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class G5{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const K5=new G5;function Q5(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:i}=r,a=il(r,["challenge","user","excludeCredentials"]),l=Uo(e).buffer,c=Object.assign(Object.assign({},t),{id:Uo(t.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const p=i[m];f.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Uo(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function Y5(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,i=il(r,["challenge","allowCredentials"]),a=Uo(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(t&&t.length>0){l.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const f=t[c];l.allowCredentials[c]=Object.assign(Object.assign({},f),{id:Uo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function W5(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:ya(new Uint8Array(r.response.attestationObject)),clientDataJSON:ya(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function X5(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,i=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:ya(new Uint8Array(a.authenticatorData)),clientDataJSON:ya(new Uint8Array(a.clientDataJSON)),signature:ya(new Uint8Array(a.signature)),userHandle:a.userHandle?ya(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function y2(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Rw(){var r,e;return!!(mn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function J5(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Md("Browser returned unexpected credential type",e)}:{data:null,error:new Md("Empty credential response",e)}}catch(e){return{data:null,error:F5({error:e,options:r})}}}async function Z5(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Md("Browser returned unexpected credential type",e)}:{data:null,error:new Md("Empty credential response",e)}}catch(e){return{data:null,error:$5({error:e,options:r})}}}const ej={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},tj={userVerification:"preferred",hints:["security-key"]};function Vd(...r){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of r)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(t(c))i[l]=c;else if(e(c)){const f=i[l];e(f)?i[l]=Vd(f,c):i[l]=Vd(c)}else i[l]=c}return i}function nj(r,e){return Vd(ej,r,e||{})}function rj(r,e){return Vd(tj,r,e||{})}class ij{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:a},l){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:f};const m=a??K5.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=nj(c.webauthn.credential_options.publicKey,l?.create),{data:_,error:E}=await J5({publicKey:p,signal:m});return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}case"request":{const p=rj(c.webauthn.credential_options.publicKey,l?.request),{data:_,error:E}=await Z5(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:m}));return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new ma("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}},l){if(!t)return{data:null,error:new qu("rpId is required for WebAuthn authentication")};try{if(!Rw())return{data:null,error:new ma("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:f};const{webauthn:m}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:m.type,rpId:t,rpOrigins:i,credential_response:m.credential_response}})}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new ma("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a},l){if(!t)return{data:null,error:new qu("rpId is required for WebAuthn registration")};try{if(!Rw())return{data:null,error:new ma("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(_=>{var E;return(E=_.data)===null||E===void 0?void 0:E.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===e&&T.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:f};const{data:m,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:a},{create:l});return m?this._verify({factorId:c.id,challengeId:m.challengeId,webauthn:{rpId:t,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new ma("Unexpected error in register",c)}}}}z5();const sj={url:t5,storageKey:n5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:r5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cw(r,e,t){return await t()}const Ao={};class Hu{get jwks(){var e,t;return(t=(e=Ao[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Ao[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{cachedAt:e})}constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hu.nextInstanceID,Hu.nextInstanceID+=1,this.instanceID>0&&mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},sj),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new V5({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=m2(a.fetch),this.lock=a.lock||Cw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:mn()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=U5:this.lock=Cw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ij(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:f2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Aw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Aw(this.memoryStorage)),mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${c2}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=y5(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),mn()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(t,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),u5(l)){const m=(e=l.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return pe(t)?{error:t}:{error:new ma("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,a;try{const l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:hr}),{data:c,error:f}=l;if(f||!c)return{data:{user:null,session:null},error:f};const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var t,i,a;try{let l;if("email"in e){const{email:_,password:E,options:T}=e;let A=null,D=null;this.flowType==="pkce"&&([A,D]=await To(this.storage,this.storageKey)),l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:_,password:E,data:(t=T?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:A,code_challenge_method:D},xform:hr})}else if("phone"in e){const{phone:_,password:E,options:T}=e;l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:E,data:(i=T?.data)!==null&&i!==void 0?i:{},channel:(a=T?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:hr})}else throw new Xh("You must provide either an email or phone number and a password");const{data:c,error:f}=l;if(f||!c)return{data:{user:null,session:null},error:f};const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:c,options:f}=e;t=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Sw})}else if("phone"in e){const{phone:l,password:c,options:f}=e;t=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Sw})}else throw new Xh("You must provide either an email or phone number and a password");const{data:i,error:a}=t;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Eo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,a,l,c,f,m,p,_,E,T;let A,D;if("message"in e)A=e.message,D=e.signature;else{const{chain:P,wallet:k,statement:B,options:q}=e;let Q;if(mn())if(typeof k=="object")Q=k;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")Q=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=k}const ie=new URL((t=q?.url)!==null&&t!==void 0?t:window.location.href),oe=await Q.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!oe||oe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const se=p2(oe[0]);let C=(i=q?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!C){const I=await Q.request({method:"eth_chainId"});C=B5(I)}const R={domain:ie.host,address:se,statement:B,uri:ie.href,version:"1",chainId:C,nonce:(a=q?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=q?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=q?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=q?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=q?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(_=q?.signInWithEthereum)===null||_===void 0?void 0:_.resources};A=H5(R),D=await Q.request({method:"personal_sign",params:[q5(A),se]})}try{const{data:P,error:k}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:D},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:hr});if(k)throw k;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new Eo}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:k})}catch(P){if(pe(P))return{data:{user:null,session:null},error:P};throw P}}async signInWithSolana(e){var t,i,a,l,c,f,m,p,_,E,T,A;let D,P;if("message"in e)D=e.message,P=e.signature;else{const{chain:k,wallet:B,statement:q,options:Q}=e;let ie;if(mn())if(typeof B=="object")ie=B;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))ie=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!Q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ie=B}const oe=new URL((t=Q?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in ie&&ie.signIn){const se=await ie.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Q?.signInWithSolana),{version:"1",domain:oe.host,uri:oe.href}),q?{statement:q}:null));let C;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")C=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)C=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)D=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),P=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ie)||typeof ie.signMessage!="function"||!("publicKey"in ie)||typeof ie!="object"||!ie.publicKey||!("toBase58"in ie.publicKey)||typeof ie.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");D=[`${oe.host} wants you to sign in with your Solana account:`,ie.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${oe.href}`,`Issued At: ${(a=(i=Q?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=Q?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${Q.signInWithSolana.notBefore}`]:[],...!((c=Q?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${Q.signInWithSolana.expirationTime}`]:[],...!((f=Q?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${Q.signInWithSolana.chainId}`]:[],...!((m=Q?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${Q.signInWithSolana.nonce}`]:[],...!((p=Q?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${Q.signInWithSolana.requestId}`]:[],...!((E=(_=Q?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||E===void 0)&&E.length?["Resources",...Q.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const se=await ie.signMessage(new TextEncoder().encode(D),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=se}}try{const{data:k,error:B}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:D,signature:ya(P)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:hr});if(B)throw B;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Eo}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:B})}catch(k){if(pe(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const t=await ca(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(t??"").split("/");try{const{data:l,error:c}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:hr});if(await us(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Eo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(pe(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:t,provider:i,token:a,access_token:l,nonce:c}=e,f=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:hr}),{data:m,error:p}=f;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Eo}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,a,l,c;try{if("email"in e){const{email:f,options:m}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await To(this.storage,this.storageKey));const{error:E}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(t=m?.data)!==null&&t!==void 0?t:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in e){const{phone:f,options:m}=e,{data:p,error:_}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=m?.data)!==null&&a!==void 0?a:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(c=m?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:_}}throw new Xh("You must provide either an email or phone number.")}catch(f){if(pe(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var t,i;try{let a,l;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:hr});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const m=c.session,p=c.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,i,a;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await To(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:j5})}catch(l){if(pe(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new cr;const{error:a}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:c}=await Te(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:c,error:f}=await Te(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new Xh("You must provide either an email or phone number and a type")}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Ig:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await ca(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Ng()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=k5(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fs}):await this._useSession(async t=>{var i,a,l;const{data:c,error:f}=t;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cr}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:fs})})}catch(t){if(pe(t))return l5(t)&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new cr;const c=a.session;let f=null,m=null;this.flowType==="pkce"&&e.email!=null&&([f,m]=await To(this.storage,this.storageKey));const{data:p,error:_}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:m}),jwt:c.access_token,xform:fs});if(_)throw _;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cr;const t=Date.now()/1e3;let i=t,a=!0,l=null;const{payload:c}=Og(e.access_token);if(c.exp&&(i=c.exp,a=i<=t),a){const{data:f,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:m}=await this._getUser(e.access_token);if(m)throw m;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(t){if(pe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:c,error:f}=t;if(f)throw f;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new cr;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!mn())throw new Jh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new yw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yw("No code detected.");const{data:q,error:Q}=await this._exchangeCodeForSession(e.code);if(Q)throw Q;const ie=new URL(window.location.href);return ie.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ie.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:f,expires_at:m,token_type:p}=e;if(!l||!f||!c||!p)throw new Jh("No session defined in URL");const _=Math.round(Date.now()/1e3),E=parseInt(f);let T=_+E;m&&(T=parseInt(m));const A=T-_;A*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${E}s`);const D=T-E;_-D>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",D,T,_):_-D<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",D,T,_);const{data:P,error:k}=await this._getUser(l);if(k)throw k;const B={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:E,expires_at:T,refresh_token:c,token_type:p,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:B,redirectType:e.type},error:null}}catch(i){if(pe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ca(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:a,error:l}=t;if(l)return{error:l};const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(o5(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=p5(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,a;try{const{data:{session:l},error:c}=t;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await To(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(pe(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:a}=await this._useSession(async l=>{var c,f,m,p,_;const{data:E,error:T}=l;if(T)throw T;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",A,{headers:this.headers,jwt:(_=(p=E.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})});if(a)throw a;return mn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(pe(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:a,data:{session:l}}=t;if(a)throw a;const{options:c,provider:f,token:m,access_token:p,nonce:_}=e,E=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:m,access_token:p,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:hr}),{data:T,error:A}=E;return A?{data:{user:null,session:null},error:A}:!T||!T.session||!T.user?{data:{user:null,session:null},error:new Eo}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),{data:T,error:A})}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,a;const{data:l,error:c}=t;if(c)throw c;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await b5(async a=>(a>0&&await v5(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hr})),(a,l)=>{const c=200*Math.pow(2,a);return l&&kg(l)&&Date.now()+c-i<Oo})}catch(i){if(this._debug(t,"error",i),pe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),mn()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await ca(this.storage,this.storageKey);if(a&&this.userStorage){let c=await ca(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await No(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:Ng()}else if(a&&!a.user&&!a.user){const c=await ca(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await us(this.storage,this.storageKey+"-user"),await No(this.storage,this.storageKey,a)):a.user=Ng()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ig;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Ig}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),kg(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(a.access_token);!f&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new af;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new cr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),pe(l)){const c={data:null,error:l};return kg(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,t)}catch(m){l.push(m)}});if(await Promise.all(c),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await No(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const l=Ew(a);await No(this.storage,this.storageKey,l)}else{const a=Ew(t);await No(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await us(this.storage,this.storageKey),await us(this.storage,this.storageKey+"-code-verifier"),await us(this.storage,this.storageKey+"-user"),this.userStorage&&await us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Oo}ms, refresh threshold is ${bp} ticks`),a<=bp&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof g2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const a=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await To(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(f.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:a,error:l}=t;return l?{data:null,error:l}:await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,a;const{data:l,error:c}=t;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:p}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&m.type==="totp"&&(!((a=m?.totp)===null||a===void 0)&&a.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:a,error:l}=t;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?W5(e.webauthn.credential_response):X5(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:m}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(t){if(pe(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:a,error:l}=t;if(l)return{data:null,error:l};const c=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Q5(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Y5(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(pe(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=t?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:i},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Og(i.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(_=>_.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(f="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;return a?{data:null,error:a}:i?await Te(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):{data:null,error:new cr}})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return{data:null,error:l};if(!a)return{data:null,error:new cr};const c=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&mn()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return{data:null,error:l};if(!a)return{data:null,error:new cr};const c=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&mn()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(f=>f.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+s5>a)return i;const{data:l,error:c}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:A,error:D}=await this.getSession();if(D||!A.session)return{data:null,error:D};i=A.session.access_token}const{header:a,payload:l,signature:c,raw:{header:f,payload:m}}=Og(i);t?.allowExpired||R5(l.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!p){const{error:A}=await this.getUser(i);if(A)throw A;return{data:{claims:l,header:a,signature:c},error:null}}const _=C5(a.alg),E=await crypto.subtle.importKey("jwk",p,_,!0,["verify"]);if(!await crypto.subtle.verify(_,E,c,m5(`${f}.${m}`)))throw new Tp("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}}Hu.nextInstanceID=0;const aj=Hu;class oj extends aj{constructor(e){super(e)}}class lj{constructor(e,t,i){var a,l,c;this.supabaseUrl=e,this.supabaseKey=t;const f=e5(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const m=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:GD,realtime:QD,auth:Object.assign(Object.assign({},KD),{storageKey:m}),global:$D},_=ZD(i??{},p);this.storageKey=(a=_.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=_.global.headers)!==null&&l!==void 0?l:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(E,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=_.auth)!==null&&c!==void 0?c:{},this.headers,_.global.fetch),this.fetch=XD(t,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new tD(new URL("rest/v1",f).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new qD(this.storageUrl.href,this.headers,this.fetch,i?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new G6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:c,flowType:f,lock:m,debug:p},_,E){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oj({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),_),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:a,userStorage:l,flowType:f,lock:m,debug:p,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _D(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uj=(r,e,t)=>new lj(r,e,t);function cj(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hj="https://ngxryzjztbodgvkxdcls.supabase.co",dj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5neHJ5emp6dGJvZGd2a3hkY2xzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5MDQwMDUsImV4cCI6MjA3NzQ4MDAwNX0.tjrgdfof4-iXdTdV6tLW2EJnOgnjVvH0rpkN-T-OSYo",jg=uj(hj,dj),fj=()=>{const r=Gu(),[e,t]=K.useState(""),[i,a]=K.useState(""),[l,c]=K.useState(""),[f,m]=K.useState(""),[p,_]=K.useState(""),[E,T]=K.useState(""),[A,D]=K.useState(""),[P,k]=K.useState(null),[B,q]=K.useState(!1),[Q,ie]=K.useState(""),[oe,se]=K.useState(""),C=async R=>{R.preventDefault(),ie(""),se("");const I=Qr.currentUser?.uid;if(!I){ie("You must be signed in to save restaurant details.");return}if(!e||!i||!l||!E||!A){ie("Please fill in all required fields.");return}q(!0);try{let L=null;if(P){const z=P.name.split(".").pop(),O=`logo_${Date.now()}.${z}`,rt=`${I}/${O}`,{error:pt}=await jg.storage.from("restaurant-logos").upload(rt,P);if(pt)throw pt;const{data:X}=jg.storage.from("restaurant-logos").getPublicUrl(rt);L=X.publicUrl}const{error:j}=await jg.from("restaurants").upsert([{user_id:I,name:e,address:i,description:l,opening_hours:f,closing_hours:p,phone_number:E,contact_email:A,logo_url:L,updated_at:new Date}],{onConflict:"user_id"});if(j)throw j;se("Restaurant details saved successfully!"),r("/adminDashboard")}catch(L){console.error(L),ie(L.message||"Failed to save restaurant details.")}finally{q(!1)}};return v.jsx("div",{className:"bg-background-light dark:bg-background-dark font-display text-black dark:text-white min-h-screen flex items-center justify-center p-6",children:v.jsxs("div",{className:"w-full max-w-2xl space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Set Up Your Restaurant"}),v.jsx("p",{className:"mt-2 text-gray-500",children:"Add your restaurant details to start managing your menu."})]}),Q&&v.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 p-3 rounded",children:Q}),oe&&v.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 p-3 rounded",children:oe}),v.jsxs("form",{onSubmit:C,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Restaurant Name *"}),v.jsx("input",{type:"text",value:e,onChange:R=>t(R.target.value),className:"w-full border p-3 rounded",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Logo *"}),v.jsx("input",{type:"file",onChange:R=>k(R.target.files?.[0]||null),className:"w-full border p-3 rounded"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Address *"}),v.jsx("input",{type:"text",value:i,onChange:R=>a(R.target.value),className:"w-full border p-3 rounded",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Description *"}),v.jsx("textarea",{value:l,onChange:R=>c(R.target.value),rows:"4",className:"w-full border p-3 rounded",required:!0})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Opening Hours *"}),v.jsx("input",{type:"time",value:f,onChange:R=>m(R.target.value),className:"w-full border p-3 rounded"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Closing Hours *"}),v.jsx("input",{type:"time",value:p,onChange:R=>_(R.target.value),className:"w-full border p-3 rounded"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Phone Number *"}),v.jsx("input",{type:"tel",value:E,onChange:R=>T(R.target.value),className:"w-full border p-3 rounded"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Contact Email *"}),v.jsx("input",{type:"email",value:A,onChange:R=>D(R.target.value),className:"w-full border p-3 rounded"})]})]}),v.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[v.jsx("button",{type:"button",className:"border border-gray-300 px-5 py-2 rounded hover:bg-gray-100",children:"Cancel"}),v.jsx("button",{type:"submit",disabled:B,className:"bg-blue-600 text-white px-5 py-2 rounded hover:bg-blue-700 disabled:opacity-50",children:B?"Saving...":"Save & Continue"})]})]})]})})};sA.createRoot(document.getElementById("root")).render(v.jsx(gs.StrictMode,{children:v.jsx(wR,{children:v.jsxs(JA,{children:[v.jsxs(Nn,{path:"/",element:v.jsx(i4,{}),children:[v.jsx(Nn,{index:!0,element:v.jsx(r4,{})}),v.jsx(Nn,{path:"/about",element:v.jsx(s4,{})}),v.jsx(Nn,{path:"/docs",element:v.jsx(a4,{})}),v.jsx(Nn,{path:"/contact",element:v.jsx(o4,{})})]}),v.jsx(Nn,{path:"/getStarted",element:v.jsx(u4,{})}),v.jsx(Nn,{path:"/signupUser",element:v.jsx(j6,{})}),v.jsx(Nn,{path:"/signupRestaurant",element:v.jsx(P6,{})}),v.jsx(Nn,{path:"/login",element:v.jsx(M6,{})}),v.jsx(Nn,{path:"/license",element:v.jsx(V6,{})}),v.jsx(Nn,{path:"/adminDashboard",element:v.jsx(L6,{})}),v.jsx(Nn,{path:"/restaurantsetup",element:v.jsx(fj,{})})]})})}));
